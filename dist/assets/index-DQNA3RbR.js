function t5(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var n5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kT={exports:{}},Wm={},IT={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf=Symbol.for("react.element"),i5=Symbol.for("react.portal"),r5=Symbol.for("react.fragment"),s5=Symbol.for("react.strict_mode"),o5=Symbol.for("react.profiler"),a5=Symbol.for("react.provider"),l5=Symbol.for("react.context"),u5=Symbol.for("react.forward_ref"),c5=Symbol.for("react.suspense"),f5=Symbol.for("react.memo"),d5=Symbol.for("react.lazy"),f2=Symbol.iterator;function h5(n){return n===null||typeof n!="object"?null:(n=f2&&n[f2]||n["@@iterator"],typeof n=="function"?n:null)}var NT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zT=Object.assign,OT={};function Au(n,e,t){this.props=n,this.context=e,this.refs=OT,this.updater=t||NT}Au.prototype.isReactComponent={};Au.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Au.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function FT(){}FT.prototype=Au.prototype;function yx(n,e,t){this.props=n,this.context=e,this.refs=OT,this.updater=t||NT}var xx=yx.prototype=new FT;xx.constructor=yx;zT(xx,Au.prototype);xx.isPureReactComponent=!0;var d2=Array.isArray,BT=Object.prototype.hasOwnProperty,_x={current:null},UT={key:!0,ref:!0,__self:!0,__source:!0};function VT(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)BT.call(e,i)&&!UT.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var u=Array(a),f=0;f<a;f++)u[f]=arguments[f+2];r.children=u}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Jf,type:n,key:s,ref:o,props:r,_owner:_x.current}}function p5(n,e){return{$$typeof:Jf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function wx(n){return typeof n=="object"&&n!==null&&n.$$typeof===Jf}function m5(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var h2=/\/+/g;function k0(n,e){return typeof n=="object"&&n!==null&&n.key!=null?m5(""+n.key):e.toString(36)}function Lp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Jf:case i5:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+k0(o,0):i,d2(r)?(t="",n!=null&&(t=n.replace(h2,"$&/")+"/"),Lp(r,e,t,"",function(f){return f})):r!=null&&(wx(r)&&(r=p5(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(h2,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",d2(n))for(var a=0;a<n.length;a++){s=n[a];var u=i+k0(s,a);o+=Lp(s,e,t,u,r)}else if(u=h5(n),typeof u=="function")for(n=u.call(n),a=0;!(s=n.next()).done;)s=s.value,u=i+k0(s,a++),o+=Lp(s,e,t,u,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wh(n,e,t){if(n==null)return n;var i=[],r=0;return Lp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function g5(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var vi={current:null},Rp={transition:null},v5={ReactCurrentDispatcher:vi,ReactCurrentBatchConfig:Rp,ReactCurrentOwner:_x};function HT(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:wh,forEach:function(n,e,t){wh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return wh(n,function(){e++}),e},toArray:function(n){return wh(n,function(e){return e})||[]},only:function(n){if(!wx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};yt.Component=Au;yt.Fragment=r5;yt.Profiler=o5;yt.PureComponent=yx;yt.StrictMode=s5;yt.Suspense=c5;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v5;yt.act=HT;yt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=zT({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=_x.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(u in e)BT.call(e,u)&&!UT.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){a=Array(u);for(var f=0;f<u;f++)a[f]=arguments[f+2];i.children=a}return{$$typeof:Jf,type:n.type,key:r,ref:s,props:i,_owner:o}};yt.createContext=function(n){return n={$$typeof:l5,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:a5,_context:n},n.Consumer=n};yt.createElement=VT;yt.createFactory=function(n){var e=VT.bind(null,n);return e.type=n,e};yt.createRef=function(){return{current:null}};yt.forwardRef=function(n){return{$$typeof:u5,render:n}};yt.isValidElement=wx;yt.lazy=function(n){return{$$typeof:d5,_payload:{_status:-1,_result:n},_init:g5}};yt.memo=function(n,e){return{$$typeof:f5,type:n,compare:e===void 0?null:e}};yt.startTransition=function(n){var e=Rp.transition;Rp.transition={};try{n()}finally{Rp.transition=e}};yt.unstable_act=HT;yt.useCallback=function(n,e){return vi.current.useCallback(n,e)};yt.useContext=function(n){return vi.current.useContext(n)};yt.useDebugValue=function(){};yt.useDeferredValue=function(n){return vi.current.useDeferredValue(n)};yt.useEffect=function(n,e){return vi.current.useEffect(n,e)};yt.useId=function(){return vi.current.useId()};yt.useImperativeHandle=function(n,e,t){return vi.current.useImperativeHandle(n,e,t)};yt.useInsertionEffect=function(n,e){return vi.current.useInsertionEffect(n,e)};yt.useLayoutEffect=function(n,e){return vi.current.useLayoutEffect(n,e)};yt.useMemo=function(n,e){return vi.current.useMemo(n,e)};yt.useReducer=function(n,e,t){return vi.current.useReducer(n,e,t)};yt.useRef=function(n){return vi.current.useRef(n)};yt.useState=function(n){return vi.current.useState(n)};yt.useSyncExternalStore=function(n,e,t){return vi.current.useSyncExternalStore(n,e,t)};yt.useTransition=function(){return vi.current.useTransition()};yt.version="18.3.1";IT.exports=yt;var X=IT.exports;const jr=Hm(X),y5=t5({__proto__:null,default:jr},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x5=X,_5=Symbol.for("react.element"),w5=Symbol.for("react.fragment"),S5=Object.prototype.hasOwnProperty,M5=x5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b5={key:!0,ref:!0,__self:!0,__source:!0};function WT(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)S5.call(e,i)&&!b5.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:_5,type:n,key:s,ref:o,props:r,_owner:M5.current}}Wm.Fragment=w5;Wm.jsx=WT;Wm.jsxs=WT;kT.exports=Wm;var L=kT.exports,dy={},GT={exports:{}},Hi={},jT={exports:{}},XT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,H){var V=k.length;k.push(H);e:for(;0<V;){var te=V-1>>>1,G=k[te];if(0<r(G,H))k[te]=H,k[V]=G,V=te;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var H=k[0],V=k.pop();if(V!==H){k[0]=V;e:for(var te=0,G=k.length,fe=G>>>1;te<fe;){var ue=2*(te+1)-1,xe=k[ue],K=ue+1,be=k[K];if(0>r(xe,V))K<G&&0>r(be,xe)?(k[te]=be,k[K]=V,te=K):(k[te]=xe,k[ue]=V,te=ue);else if(K<G&&0>r(be,V))k[te]=be,k[K]=V,te=K;else break e}}return H}function r(k,H){var V=k.sortIndex-H.sortIndex;return V!==0?V:k.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],f=[],d=1,h=null,p=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(k){for(var H=t(f);H!==null;){if(H.callback===null)i(f);else if(H.startTime<=k)i(f),H.sortIndex=H.expirationTime,e(u,H);else break;H=t(f)}}function b(k){if(y=!1,M(k),!v)if(t(u)!==null)v=!0,se(A);else{var H=t(f);H!==null&&ae(b,H.startTime-k)}}function A(k,H){v=!1,y&&(y=!1,_(E),E=-1),g=!0;var V=p;try{for(M(H),h=t(u);h!==null&&(!(h.expirationTime>H)||k&&!F());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var G=te(h.expirationTime<=H);H=n.unstable_now(),typeof G=="function"?h.callback=G:h===t(u)&&i(u),M(H)}else i(u);h=t(u)}if(h!==null)var fe=!0;else{var ue=t(f);ue!==null&&ae(b,ue.startTime-H),fe=!1}return fe}finally{h=null,p=V,g=!1}}var P=!1,D=null,E=-1,R=5,I=-1;function F(){return!(n.unstable_now()-I<R)}function j(){if(D!==null){var k=n.unstable_now();I=k;var H=!0;try{H=D(!0,k)}finally{H?Y():(P=!1,D=null)}}else P=!1}var Y;if(typeof S=="function")Y=function(){S(j)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=j,Y=function(){$.postMessage(null)}}else Y=function(){x(j,0)};function se(k){D=k,P||(P=!0,Y())}function ae(k,H){E=x(function(){k(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,se(A))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var V=p;p=H;try{return k()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=p;p=k;try{return H()}finally{p=V}},n.unstable_scheduleCallback=function(k,H,V){var te=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?te+V:te):V=te,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=V+G,k={id:d++,callback:H,priorityLevel:k,startTime:V,expirationTime:G,sortIndex:-1},V>te?(k.sortIndex=V,e(f,k),t(u)===null&&k===t(f)&&(y?(_(E),E=-1):y=!0,ae(b,V-te))):(k.sortIndex=G,e(u,k),v||g||(v=!0,se(A))),k},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(k){var H=p;return function(){var V=p;p=H;try{return k.apply(this,arguments)}finally{p=V}}}})(XT);jT.exports=XT;var T5=jT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E5=X,Vi=T5;function Me(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YT=new Set,nf={};function ja(n,e){du(n,e),du(n+"Capture",e)}function du(n,e){for(nf[n]=e,n=0;n<e.length;n++)YT.add(e[n])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hy=Object.prototype.hasOwnProperty,A5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p2={},m2={};function C5(n){return hy.call(m2,n)?!0:hy.call(p2,n)?!1:A5.test(n)?m2[n]=!0:(p2[n]=!0,!1)}function P5(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function L5(n,e,t,i){if(e===null||typeof e>"u"||P5(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Gn[n]=new yi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Gn[e]=new yi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Gn[n]=new yi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Gn[n]=new yi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Gn[n]=new yi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Gn[n]=new yi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Gn[n]=new yi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Gn[n]=new yi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Gn[n]=new yi(n,5,!1,n.toLowerCase(),null,!1,!1)});var Sx=/[\-:]([a-z])/g;function Mx(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Sx,Mx);Gn[e]=new yi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Sx,Mx);Gn[e]=new yi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Sx,Mx);Gn[e]=new yi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Gn[n]=new yi(n,1,!1,n.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Gn[n]=new yi(n,1,!1,n.toLowerCase(),null,!0,!0)});function bx(n,e,t,i){var r=Gn.hasOwnProperty(e)?Gn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(L5(e,t,r,i)&&(t=null),i||r===null?C5(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Bs=E5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sh=Symbol.for("react.element"),Ol=Symbol.for("react.portal"),Fl=Symbol.for("react.fragment"),Tx=Symbol.for("react.strict_mode"),py=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),ZT=Symbol.for("react.context"),Ex=Symbol.for("react.forward_ref"),my=Symbol.for("react.suspense"),gy=Symbol.for("react.suspense_list"),Ax=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),JT=Symbol.for("react.offscreen"),g2=Symbol.iterator;function ac(n){return n===null||typeof n!="object"?null:(n=g2&&n[g2]||n["@@iterator"],typeof n=="function"?n:null)}var nn=Object.assign,I0;function Rc(n){if(I0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);I0=e&&e[1]||""}return`
`+I0+n}var N0=!1;function z0(n,e){if(!n||N0)return"";N0=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(n,[],e)}else{try{e.call()}catch(f){i=f}n.call(e.prototype)}else{try{throw Error()}catch(f){i=f}n()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var u=`
`+r[o].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=o&&0<=a);break}}}finally{N0=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Rc(n):""}function R5(n){switch(n.tag){case 5:return Rc(n.type);case 16:return Rc("Lazy");case 13:return Rc("Suspense");case 19:return Rc("SuspenseList");case 0:case 2:case 15:return n=z0(n.type,!1),n;case 11:return n=z0(n.type.render,!1),n;case 1:return n=z0(n.type,!0),n;default:return""}}function vy(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Fl:return"Fragment";case Ol:return"Portal";case py:return"Profiler";case Tx:return"StrictMode";case my:return"Suspense";case gy:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ZT:return(n.displayName||"Context")+".Consumer";case qT:return(n._context.displayName||"Context")+".Provider";case Ex:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ax:return e=n.displayName||null,e!==null?e:vy(n.type)||"Memo";case ro:e=n._payload,n=n._init;try{return vy(n(e))}catch{}}return null}function D5(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vy(e);case 8:return e===Tx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function KT(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k5(n){var e=KT(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Mh(n){n._valueTracker||(n._valueTracker=k5(n))}function QT(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=KT(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function em(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function yy(n,e){var t=e.checked;return nn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function v2(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=bo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $T(n,e){e=e.checked,e!=null&&bx(n,"checked",e,!1)}function xy(n,e){$T(n,e);var t=bo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?_y(n,e.type,t):e.hasOwnProperty("defaultValue")&&_y(n,e.type,bo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function y2(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function _y(n,e,t){(e!=="number"||em(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Dc=Array.isArray;function su(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+bo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function wy(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return nn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function x2(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Me(92));if(Dc(t)){if(1<t.length)throw Error(Me(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:bo(t)}}function eE(n,e){var t=bo(e.value),i=bo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function _2(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function tE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sy(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?tE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var bh,nE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bh.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function rf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I5=["Webkit","ms","Moz","O"];Object.keys(Fc).forEach(function(n){I5.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Fc[e]=Fc[n]})});function iE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Fc.hasOwnProperty(n)&&Fc[n]?(""+e).trim():e+"px"}function rE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=iE(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var N5=nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function My(n,e){if(e){if(N5[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function by(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ty=null;function Cx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ey=null,ou=null,au=null;function w2(n){if(n=$f(n)){if(typeof Ey!="function")throw Error(Me(280));var e=n.stateNode;e&&(e=qm(e),Ey(n.stateNode,n.type,e))}}function sE(n){ou?au?au.push(n):au=[n]:ou=n}function oE(){if(ou){var n=ou,e=au;if(au=ou=null,w2(n),e)for(n=0;n<e.length;n++)w2(e[n])}}function aE(n,e){return n(e)}function lE(){}var O0=!1;function uE(n,e,t){if(O0)return n(e,t);O0=!0;try{return aE(n,e,t)}finally{O0=!1,(ou!==null||au!==null)&&(lE(),oE())}}function sf(n,e){var t=n.stateNode;if(t===null)return null;var i=qm(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Me(231,e,typeof t));return t}var Ay=!1;if(Rs)try{var lc={};Object.defineProperty(lc,"passive",{get:function(){Ay=!0}}),window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{Ay=!1}function z5(n,e,t,i,r,s,o,a,u){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(d){this.onError(d)}}var Bc=!1,tm=null,nm=!1,Cy=null,O5={onError:function(n){Bc=!0,tm=n}};function F5(n,e,t,i,r,s,o,a,u){Bc=!1,tm=null,z5.apply(O5,arguments)}function B5(n,e,t,i,r,s,o,a,u){if(F5.apply(this,arguments),Bc){if(Bc){var f=tm;Bc=!1,tm=null}else throw Error(Me(198));nm||(nm=!0,Cy=f)}}function Xa(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function cE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function S2(n){if(Xa(n)!==n)throw Error(Me(188))}function U5(n){var e=n.alternate;if(!e){if(e=Xa(n),e===null)throw Error(Me(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return S2(r),n;if(s===i)return S2(r),e;s=s.sibling}throw Error(Me(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(t.alternate!==i)throw Error(Me(190))}if(t.tag!==3)throw Error(Me(188));return t.stateNode.current===t?n:e}function fE(n){return n=U5(n),n!==null?dE(n):null}function dE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=dE(n);if(e!==null)return e;n=n.sibling}return null}var hE=Vi.unstable_scheduleCallback,M2=Vi.unstable_cancelCallback,V5=Vi.unstable_shouldYield,H5=Vi.unstable_requestPaint,gn=Vi.unstable_now,W5=Vi.unstable_getCurrentPriorityLevel,Px=Vi.unstable_ImmediatePriority,pE=Vi.unstable_UserBlockingPriority,im=Vi.unstable_NormalPriority,G5=Vi.unstable_LowPriority,mE=Vi.unstable_IdlePriority,Gm=null,Xr=null;function j5(n){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Gm,n,void 0,(n.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:q5,X5=Math.log,Y5=Math.LN2;function q5(n){return n>>>=0,n===0?32:31-(X5(n)/Y5|0)|0}var Th=64,Eh=4194304;function kc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function rm(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=kc(a):(s&=o,s!==0&&(i=kc(s)))}else o=t&~r,o!==0?i=kc(o):s!==0&&(i=kc(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Cr(e),r=1<<t,i|=n[t],e&=~r;return i}function Z5(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J5(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Cr(s),a=1<<o,u=r[o];u===-1?(!(a&t)||a&i)&&(r[o]=Z5(a,e)):u<=e&&(n.expiredLanes|=a),s&=~a}}function Py(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function gE(){var n=Th;return Th<<=1,!(Th&4194240)&&(Th=64),n}function F0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Kf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Cr(e),n[e]=t}function K5(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Cr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Lx(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Cr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var zt=0;function vE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var yE,Rx,xE,_E,wE,Ly=!1,Ah=[],ho=null,po=null,mo=null,of=new Map,af=new Map,oo=[],Q5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b2(n,e){switch(n){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":of.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":af.delete(e.pointerId)}}function uc(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=$f(e),e!==null&&Rx(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function $5(n,e,t,i,r){switch(e){case"focusin":return ho=uc(ho,n,e,t,i,r),!0;case"dragenter":return po=uc(po,n,e,t,i,r),!0;case"mouseover":return mo=uc(mo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return of.set(s,uc(of.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,af.set(s,uc(af.get(s)||null,n,e,t,i,r)),!0}return!1}function SE(n){var e=va(n.target);if(e!==null){var t=Xa(e);if(t!==null){if(e=t.tag,e===13){if(e=cE(t),e!==null){n.blockedOn=e,wE(n.priority,function(){xE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Dp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Ry(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Ty=i,t.target.dispatchEvent(i),Ty=null}else return e=$f(t),e!==null&&Rx(e),n.blockedOn=t,!1;e.shift()}return!0}function T2(n,e,t){Dp(n)&&t.delete(e)}function eD(){Ly=!1,ho!==null&&Dp(ho)&&(ho=null),po!==null&&Dp(po)&&(po=null),mo!==null&&Dp(mo)&&(mo=null),of.forEach(T2),af.forEach(T2)}function cc(n,e){n.blockedOn===e&&(n.blockedOn=null,Ly||(Ly=!0,Vi.unstable_scheduleCallback(Vi.unstable_NormalPriority,eD)))}function lf(n){function e(r){return cc(r,n)}if(0<Ah.length){cc(Ah[0],n);for(var t=1;t<Ah.length;t++){var i=Ah[t];i.blockedOn===n&&(i.blockedOn=null)}}for(ho!==null&&cc(ho,n),po!==null&&cc(po,n),mo!==null&&cc(mo,n),of.forEach(e),af.forEach(e),t=0;t<oo.length;t++)i=oo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<oo.length&&(t=oo[0],t.blockedOn===null);)SE(t),t.blockedOn===null&&oo.shift()}var lu=Bs.ReactCurrentBatchConfig,sm=!0;function tD(n,e,t,i){var r=zt,s=lu.transition;lu.transition=null;try{zt=1,Dx(n,e,t,i)}finally{zt=r,lu.transition=s}}function nD(n,e,t,i){var r=zt,s=lu.transition;lu.transition=null;try{zt=4,Dx(n,e,t,i)}finally{zt=r,lu.transition=s}}function Dx(n,e,t,i){if(sm){var r=Ry(n,e,t,i);if(r===null)q0(n,e,i,om,t),b2(n,i);else if($5(r,n,e,t,i))i.stopPropagation();else if(b2(n,i),e&4&&-1<Q5.indexOf(n)){for(;r!==null;){var s=$f(r);if(s!==null&&yE(s),s=Ry(n,e,t,i),s===null&&q0(n,e,i,om,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else q0(n,e,i,null,t)}}var om=null;function Ry(n,e,t,i){if(om=null,n=Cx(i),n=va(n),n!==null)if(e=Xa(n),e===null)n=null;else if(t=e.tag,t===13){if(n=cE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return om=n,null}function ME(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W5()){case Px:return 1;case pE:return 4;case im:case G5:return 16;case mE:return 536870912;default:return 16}default:return 16}}var lo=null,kx=null,kp=null;function bE(){if(kp)return kp;var n,e=kx,t=e.length,i,r="value"in lo?lo.value:lo.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return kp=r.slice(n,1<i?1-i:void 0)}function Ip(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Ch(){return!0}function E2(){return!1}function Wi(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ch:E2,this.isPropagationStopped=E2,this}return nn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),e}var Cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ix=Wi(Cu),Qf=nn({},Cu,{view:0,detail:0}),iD=Wi(Qf),B0,U0,fc,jm=nn({},Qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nx,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fc&&(fc&&n.type==="mousemove"?(B0=n.screenX-fc.screenX,U0=n.screenY-fc.screenY):U0=B0=0,fc=n),B0)},movementY:function(n){return"movementY"in n?n.movementY:U0}}),A2=Wi(jm),rD=nn({},jm,{dataTransfer:0}),sD=Wi(rD),oD=nn({},Qf,{relatedTarget:0}),V0=Wi(oD),aD=nn({},Cu,{animationName:0,elapsedTime:0,pseudoElement:0}),lD=Wi(aD),uD=nn({},Cu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),cD=Wi(uD),fD=nn({},Cu,{data:0}),C2=Wi(fD),dD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mD(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=pD[n])?!!e[n]:!1}function Nx(){return mD}var gD=nn({},Qf,{key:function(n){if(n.key){var e=dD[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Ip(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?hD[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nx,charCode:function(n){return n.type==="keypress"?Ip(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ip(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vD=Wi(gD),yD=nn({},jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P2=Wi(yD),xD=nn({},Qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nx}),_D=Wi(xD),wD=nn({},Cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),SD=Wi(wD),MD=nn({},jm,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),bD=Wi(MD),TD=[9,13,27,32],zx=Rs&&"CompositionEvent"in window,Uc=null;Rs&&"documentMode"in document&&(Uc=document.documentMode);var ED=Rs&&"TextEvent"in window&&!Uc,TE=Rs&&(!zx||Uc&&8<Uc&&11>=Uc),L2=" ",R2=!1;function EE(n,e){switch(n){case"keyup":return TD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bl=!1;function AD(n,e){switch(n){case"compositionend":return AE(e);case"keypress":return e.which!==32?null:(R2=!0,L2);case"textInput":return n=e.data,n===L2&&R2?null:n;default:return null}}function CD(n,e){if(Bl)return n==="compositionend"||!zx&&EE(n,e)?(n=bE(),kp=kx=lo=null,Bl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TE&&e.locale!=="ko"?null:e.data;default:return null}}var PD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!PD[n.type]:e==="textarea"}function CE(n,e,t,i){sE(i),e=am(e,"onChange"),0<e.length&&(t=new Ix("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Vc=null,uf=null;function LD(n){BE(n,0)}function Xm(n){var e=Hl(n);if(QT(e))return n}function RD(n,e){if(n==="change")return e}var PE=!1;if(Rs){var H0;if(Rs){var W0="oninput"in document;if(!W0){var k2=document.createElement("div");k2.setAttribute("oninput","return;"),W0=typeof k2.oninput=="function"}H0=W0}else H0=!1;PE=H0&&(!document.documentMode||9<document.documentMode)}function I2(){Vc&&(Vc.detachEvent("onpropertychange",LE),uf=Vc=null)}function LE(n){if(n.propertyName==="value"&&Xm(uf)){var e=[];CE(e,uf,n,Cx(n)),uE(LD,e)}}function DD(n,e,t){n==="focusin"?(I2(),Vc=e,uf=t,Vc.attachEvent("onpropertychange",LE)):n==="focusout"&&I2()}function kD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Xm(uf)}function ID(n,e){if(n==="click")return Xm(e)}function ND(n,e){if(n==="input"||n==="change")return Xm(e)}function zD(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Rr=typeof Object.is=="function"?Object.is:zD;function cf(n,e){if(Rr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!hy.call(e,r)||!Rr(n[r],e[r]))return!1}return!0}function N2(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function z2(n,e){var t=N2(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=N2(t)}}function RE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?RE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function DE(){for(var n=window,e=em();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=em(n.document)}return e}function Ox(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function OD(n){var e=DE(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&RE(t.ownerDocument.documentElement,t)){if(i!==null&&Ox(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=z2(t,s);var o=z2(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var FD=Rs&&"documentMode"in document&&11>=document.documentMode,Ul=null,Dy=null,Hc=null,ky=!1;function O2(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ky||Ul==null||Ul!==em(i)||(i=Ul,"selectionStart"in i&&Ox(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Hc&&cf(Hc,i)||(Hc=i,i=am(Dy,"onSelect"),0<i.length&&(e=new Ix("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Ul)))}function Ph(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Vl={animationend:Ph("Animation","AnimationEnd"),animationiteration:Ph("Animation","AnimationIteration"),animationstart:Ph("Animation","AnimationStart"),transitionend:Ph("Transition","TransitionEnd")},G0={},kE={};Rs&&(kE=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function Ym(n){if(G0[n])return G0[n];if(!Vl[n])return n;var e=Vl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in kE)return G0[n]=e[t];return n}var IE=Ym("animationend"),NE=Ym("animationiteration"),zE=Ym("animationstart"),OE=Ym("transitionend"),FE=new Map,F2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(n,e){FE.set(n,e),ja(e,[n])}for(var j0=0;j0<F2.length;j0++){var X0=F2[j0],BD=X0.toLowerCase(),UD=X0[0].toUpperCase()+X0.slice(1);ko(BD,"on"+UD)}ko(IE,"onAnimationEnd");ko(NE,"onAnimationIteration");ko(zE,"onAnimationStart");ko("dblclick","onDoubleClick");ko("focusin","onFocus");ko("focusout","onBlur");ko(OE,"onTransitionEnd");du("onMouseEnter",["mouseout","mouseover"]);du("onMouseLeave",["mouseout","mouseover"]);du("onPointerEnter",["pointerout","pointerover"]);du("onPointerLeave",["pointerout","pointerover"]);ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ic));function B2(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,B5(i,e,void 0,n),n.currentTarget=null}function BE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],u=a.instance,f=a.currentTarget;if(a=a.listener,u!==s&&r.isPropagationStopped())break e;B2(r,a,f),s=u}else for(o=0;o<i.length;o++){if(a=i[o],u=a.instance,f=a.currentTarget,a=a.listener,u!==s&&r.isPropagationStopped())break e;B2(r,a,f),s=u}}}if(nm)throw n=Cy,nm=!1,Cy=null,n}function jt(n,e){var t=e[Fy];t===void 0&&(t=e[Fy]=new Set);var i=n+"__bubble";t.has(i)||(UE(e,n,2,!1),t.add(i))}function Y0(n,e,t){var i=0;e&&(i|=4),UE(t,n,i,e)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function ff(n){if(!n[Lh]){n[Lh]=!0,YT.forEach(function(t){t!=="selectionchange"&&(VD.has(t)||Y0(t,!1,n),Y0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Lh]||(e[Lh]=!0,Y0("selectionchange",!1,e))}}function UE(n,e,t,i){switch(ME(e)){case 1:var r=tD;break;case 4:r=nD;break;default:r=Dx}t=r.bind(null,e,t,n),r=void 0,!Ay||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function q0(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;a!==null;){if(o=va(a),o===null)return;if(u=o.tag,u===5||u===6){i=s=o;continue e}a=a.parentNode}}i=i.return}uE(function(){var f=s,d=Cx(t),h=[];e:{var p=FE.get(n);if(p!==void 0){var g=Ix,v=n;switch(n){case"keypress":if(Ip(t)===0)break e;case"keydown":case"keyup":g=vD;break;case"focusin":v="focus",g=V0;break;case"focusout":v="blur",g=V0;break;case"beforeblur":case"afterblur":g=V0;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=A2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=sD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_D;break;case IE:case NE:case zE:g=lD;break;case OE:g=SD;break;case"scroll":g=iD;break;case"wheel":g=bD;break;case"copy":case"cut":case"paste":g=cD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=P2}var y=(e&4)!==0,x=!y&&n==="scroll",_=y?p!==null?p+"Capture":null:p;y=[];for(var S=f,M;S!==null;){M=S;var b=M.stateNode;if(M.tag===5&&b!==null&&(M=b,_!==null&&(b=sf(S,_),b!=null&&y.push(df(S,b,M)))),x)break;S=S.return}0<y.length&&(p=new g(p,v,null,t,d),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==Ty&&(v=t.relatedTarget||t.fromElement)&&(va(v)||v[Ds]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=t.relatedTarget||t.toElement,g=f,v=v?va(v):null,v!==null&&(x=Xa(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=f),g!==v)){if(y=A2,b="onMouseLeave",_="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(y=P2,b="onPointerLeave",_="onPointerEnter",S="pointer"),x=g==null?p:Hl(g),M=v==null?p:Hl(v),p=new y(b,S+"leave",g,t,d),p.target=x,p.relatedTarget=M,b=null,va(d)===f&&(y=new y(_,S+"enter",v,t,d),y.target=M,y.relatedTarget=x,b=y),x=b,g&&v)t:{for(y=g,_=v,S=0,M=y;M;M=pl(M))S++;for(M=0,b=_;b;b=pl(b))M++;for(;0<S-M;)y=pl(y),S--;for(;0<M-S;)_=pl(_),M--;for(;S--;){if(y===_||_!==null&&y===_.alternate)break t;y=pl(y),_=pl(_)}y=null}else y=null;g!==null&&U2(h,p,g,y,!1),v!==null&&x!==null&&U2(h,x,v,y,!0)}}e:{if(p=f?Hl(f):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var A=RD;else if(D2(p))if(PE)A=ND;else{A=kD;var P=DD}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=ID);if(A&&(A=A(n,f))){CE(h,A,t,d);break e}P&&P(n,p,f),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&_y(p,"number",p.value)}switch(P=f?Hl(f):window,n){case"focusin":(D2(P)||P.contentEditable==="true")&&(Ul=P,Dy=f,Hc=null);break;case"focusout":Hc=Dy=Ul=null;break;case"mousedown":ky=!0;break;case"contextmenu":case"mouseup":case"dragend":ky=!1,O2(h,t,d);break;case"selectionchange":if(FD)break;case"keydown":case"keyup":O2(h,t,d)}var D;if(zx)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Bl?EE(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(TE&&t.locale!=="ko"&&(Bl||E!=="onCompositionStart"?E==="onCompositionEnd"&&Bl&&(D=bE()):(lo=d,kx="value"in lo?lo.value:lo.textContent,Bl=!0)),P=am(f,E),0<P.length&&(E=new C2(E,n,null,t,d),h.push({event:E,listeners:P}),D?E.data=D:(D=AE(t),D!==null&&(E.data=D)))),(D=ED?AD(n,t):CD(n,t))&&(f=am(f,"onBeforeInput"),0<f.length&&(d=new C2("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:f}),d.data=D))}BE(h,e)})}function df(n,e,t){return{instance:n,listener:e,currentTarget:t}}function am(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=sf(n,t),s!=null&&i.unshift(df(n,s,r)),s=sf(n,e),s!=null&&i.push(df(n,s,r))),n=n.return}return i}function pl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function U2(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,u=a.alternate,f=a.stateNode;if(u!==null&&u===i)break;a.tag===5&&f!==null&&(a=f,r?(u=sf(t,s),u!=null&&o.unshift(df(t,u,a))):r||(u=sf(t,s),u!=null&&o.push(df(t,u,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var HD=/\r\n?/g,WD=/\u0000|\uFFFD/g;function V2(n){return(typeof n=="string"?n:""+n).replace(HD,`
`).replace(WD,"")}function Rh(n,e,t){if(e=V2(e),V2(n)!==e&&t)throw Error(Me(425))}function lm(){}var Iy=null,Ny=null;function zy(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Oy=typeof setTimeout=="function"?setTimeout:void 0,GD=typeof clearTimeout=="function"?clearTimeout:void 0,H2=typeof Promise=="function"?Promise:void 0,jD=typeof queueMicrotask=="function"?queueMicrotask:typeof H2<"u"?function(n){return H2.resolve(null).then(n).catch(XD)}:Oy;function XD(n){setTimeout(function(){throw n})}function Z0(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),lf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);lf(e)}function go(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function W2(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Pu=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Pu,hf="__reactProps$"+Pu,Ds="__reactContainer$"+Pu,Fy="__reactEvents$"+Pu,YD="__reactListeners$"+Pu,qD="__reactHandles$"+Pu;function va(n){var e=n[Gr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ds]||t[Gr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=W2(n);n!==null;){if(t=n[Gr])return t;n=W2(n)}return e}n=t,t=n.parentNode}return null}function $f(n){return n=n[Gr]||n[Ds],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Hl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Me(33))}function qm(n){return n[hf]||null}var By=[],Wl=-1;function Io(n){return{current:n}}function Xt(n){0>Wl||(n.current=By[Wl],By[Wl]=null,Wl--)}function Wt(n,e){Wl++,By[Wl]=n.current,n.current=e}var To={},oi=Io(To),Ai=Io(!1),za=To;function hu(n,e){var t=n.type.contextTypes;if(!t)return To;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Ci(n){return n=n.childContextTypes,n!=null}function um(){Xt(Ai),Xt(oi)}function G2(n,e,t){if(oi.current!==To)throw Error(Me(168));Wt(oi,e),Wt(Ai,t)}function VE(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Me(108,D5(n)||"Unknown",r));return nn({},t,i)}function cm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||To,za=oi.current,Wt(oi,n),Wt(Ai,Ai.current),!0}function j2(n,e,t){var i=n.stateNode;if(!i)throw Error(Me(169));t?(n=VE(n,e,za),i.__reactInternalMemoizedMergedChildContext=n,Xt(Ai),Xt(oi),Wt(oi,n)):Xt(Ai),Wt(Ai,t)}var _s=null,Zm=!1,J0=!1;function HE(n){_s===null?_s=[n]:_s.push(n)}function ZD(n){Zm=!0,HE(n)}function No(){if(!J0&&_s!==null){J0=!0;var n=0,e=zt;try{var t=_s;for(zt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}_s=null,Zm=!1}catch(r){throw _s!==null&&(_s=_s.slice(n+1)),hE(Px,No),r}finally{zt=e,J0=!1}}return null}var Gl=[],jl=0,fm=null,dm=0,or=[],ar=0,Oa=null,bs=1,Ts="";function ua(n,e){Gl[jl++]=dm,Gl[jl++]=fm,fm=n,dm=e}function WE(n,e,t){or[ar++]=bs,or[ar++]=Ts,or[ar++]=Oa,Oa=n;var i=bs;n=Ts;var r=32-Cr(i)-1;i&=~(1<<r),t+=1;var s=32-Cr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,bs=1<<32-Cr(e)+r|t<<r|i,Ts=s+n}else bs=1<<s|t<<r|i,Ts=n}function Fx(n){n.return!==null&&(ua(n,1),WE(n,1,0))}function Bx(n){for(;n===fm;)fm=Gl[--jl],Gl[jl]=null,dm=Gl[--jl],Gl[jl]=null;for(;n===Oa;)Oa=or[--ar],or[ar]=null,Ts=or[--ar],or[ar]=null,bs=or[--ar],or[ar]=null}var Bi=null,Fi=null,Jt=!1,Er=null;function GE(n,e){var t=ur(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function X2(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Bi=n,Fi=go(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Bi=n,Fi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Oa!==null?{id:bs,overflow:Ts}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ur(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Bi=n,Fi=null,!0):!1;default:return!1}}function Uy(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Vy(n){if(Jt){var e=Fi;if(e){var t=e;if(!X2(n,e)){if(Uy(n))throw Error(Me(418));e=go(t.nextSibling);var i=Bi;e&&X2(n,e)?GE(i,t):(n.flags=n.flags&-4097|2,Jt=!1,Bi=n)}}else{if(Uy(n))throw Error(Me(418));n.flags=n.flags&-4097|2,Jt=!1,Bi=n}}}function Y2(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Bi=n}function Dh(n){if(n!==Bi)return!1;if(!Jt)return Y2(n),Jt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!zy(n.type,n.memoizedProps)),e&&(e=Fi)){if(Uy(n))throw jE(),Error(Me(418));for(;e;)GE(n,e),e=go(e.nextSibling)}if(Y2(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Me(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Fi=go(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Fi=null}}else Fi=Bi?go(n.stateNode.nextSibling):null;return!0}function jE(){for(var n=Fi;n;)n=go(n.nextSibling)}function pu(){Fi=Bi=null,Jt=!1}function Ux(n){Er===null?Er=[n]:Er.push(n)}var JD=Bs.ReactCurrentBatchConfig;function dc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Me(309));var i=t.stateNode}if(!i)throw Error(Me(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Me(284));if(!t._owner)throw Error(Me(290,n))}return n}function kh(n,e){throw n=Object.prototype.toString.call(e),Error(Me(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function q2(n){var e=n._init;return e(n._payload)}function XE(n){function e(_,S){if(n){var M=_.deletions;M===null?(_.deletions=[S],_.flags|=16):M.push(S)}}function t(_,S){if(!n)return null;for(;S!==null;)e(_,S),S=S.sibling;return null}function i(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function r(_,S){return _=_o(_,S),_.index=0,_.sibling=null,_}function s(_,S,M){return _.index=M,n?(M=_.alternate,M!==null?(M=M.index,M<S?(_.flags|=2,S):M):(_.flags|=2,S)):(_.flags|=1048576,S)}function o(_){return n&&_.alternate===null&&(_.flags|=2),_}function a(_,S,M,b){return S===null||S.tag!==6?(S=iv(M,_.mode,b),S.return=_,S):(S=r(S,M),S.return=_,S)}function u(_,S,M,b){var A=M.type;return A===Fl?d(_,S,M.props.children,b,M.key):S!==null&&(S.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ro&&q2(A)===S.type)?(b=r(S,M.props),b.ref=dc(_,S,M),b.return=_,b):(b=Vp(M.type,M.key,M.props,null,_.mode,b),b.ref=dc(_,S,M),b.return=_,b)}function f(_,S,M,b){return S===null||S.tag!==4||S.stateNode.containerInfo!==M.containerInfo||S.stateNode.implementation!==M.implementation?(S=rv(M,_.mode,b),S.return=_,S):(S=r(S,M.children||[]),S.return=_,S)}function d(_,S,M,b,A){return S===null||S.tag!==7?(S=Ca(M,_.mode,b,A),S.return=_,S):(S=r(S,M),S.return=_,S)}function h(_,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return S=iv(""+S,_.mode,M),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Sh:return M=Vp(S.type,S.key,S.props,null,_.mode,M),M.ref=dc(_,null,S),M.return=_,M;case Ol:return S=rv(S,_.mode,M),S.return=_,S;case ro:var b=S._init;return h(_,b(S._payload),M)}if(Dc(S)||ac(S))return S=Ca(S,_.mode,M,null),S.return=_,S;kh(_,S)}return null}function p(_,S,M,b){var A=S!==null?S.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return A!==null?null:a(_,S,""+M,b);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Sh:return M.key===A?u(_,S,M,b):null;case Ol:return M.key===A?f(_,S,M,b):null;case ro:return A=M._init,p(_,S,A(M._payload),b)}if(Dc(M)||ac(M))return A!==null?null:d(_,S,M,b,null);kh(_,M)}return null}function g(_,S,M,b,A){if(typeof b=="string"&&b!==""||typeof b=="number")return _=_.get(M)||null,a(S,_,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sh:return _=_.get(b.key===null?M:b.key)||null,u(S,_,b,A);case Ol:return _=_.get(b.key===null?M:b.key)||null,f(S,_,b,A);case ro:var P=b._init;return g(_,S,M,P(b._payload),A)}if(Dc(b)||ac(b))return _=_.get(M)||null,d(S,_,b,A,null);kh(S,b)}return null}function v(_,S,M,b){for(var A=null,P=null,D=S,E=S=0,R=null;D!==null&&E<M.length;E++){D.index>E?(R=D,D=null):R=D.sibling;var I=p(_,D,M[E],b);if(I===null){D===null&&(D=R);break}n&&D&&I.alternate===null&&e(_,D),S=s(I,S,E),P===null?A=I:P.sibling=I,P=I,D=R}if(E===M.length)return t(_,D),Jt&&ua(_,E),A;if(D===null){for(;E<M.length;E++)D=h(_,M[E],b),D!==null&&(S=s(D,S,E),P===null?A=D:P.sibling=D,P=D);return Jt&&ua(_,E),A}for(D=i(_,D);E<M.length;E++)R=g(D,_,E,M[E],b),R!==null&&(n&&R.alternate!==null&&D.delete(R.key===null?E:R.key),S=s(R,S,E),P===null?A=R:P.sibling=R,P=R);return n&&D.forEach(function(F){return e(_,F)}),Jt&&ua(_,E),A}function y(_,S,M,b){var A=ac(M);if(typeof A!="function")throw Error(Me(150));if(M=A.call(M),M==null)throw Error(Me(151));for(var P=A=null,D=S,E=S=0,R=null,I=M.next();D!==null&&!I.done;E++,I=M.next()){D.index>E?(R=D,D=null):R=D.sibling;var F=p(_,D,I.value,b);if(F===null){D===null&&(D=R);break}n&&D&&F.alternate===null&&e(_,D),S=s(F,S,E),P===null?A=F:P.sibling=F,P=F,D=R}if(I.done)return t(_,D),Jt&&ua(_,E),A;if(D===null){for(;!I.done;E++,I=M.next())I=h(_,I.value,b),I!==null&&(S=s(I,S,E),P===null?A=I:P.sibling=I,P=I);return Jt&&ua(_,E),A}for(D=i(_,D);!I.done;E++,I=M.next())I=g(D,_,E,I.value,b),I!==null&&(n&&I.alternate!==null&&D.delete(I.key===null?E:I.key),S=s(I,S,E),P===null?A=I:P.sibling=I,P=I);return n&&D.forEach(function(j){return e(_,j)}),Jt&&ua(_,E),A}function x(_,S,M,b){if(typeof M=="object"&&M!==null&&M.type===Fl&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Sh:e:{for(var A=M.key,P=S;P!==null;){if(P.key===A){if(A=M.type,A===Fl){if(P.tag===7){t(_,P.sibling),S=r(P,M.props.children),S.return=_,_=S;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ro&&q2(A)===P.type){t(_,P.sibling),S=r(P,M.props),S.ref=dc(_,P,M),S.return=_,_=S;break e}t(_,P);break}else e(_,P);P=P.sibling}M.type===Fl?(S=Ca(M.props.children,_.mode,b,M.key),S.return=_,_=S):(b=Vp(M.type,M.key,M.props,null,_.mode,b),b.ref=dc(_,S,M),b.return=_,_=b)}return o(_);case Ol:e:{for(P=M.key;S!==null;){if(S.key===P)if(S.tag===4&&S.stateNode.containerInfo===M.containerInfo&&S.stateNode.implementation===M.implementation){t(_,S.sibling),S=r(S,M.children||[]),S.return=_,_=S;break e}else{t(_,S);break}else e(_,S);S=S.sibling}S=rv(M,_.mode,b),S.return=_,_=S}return o(_);case ro:return P=M._init,x(_,S,P(M._payload),b)}if(Dc(M))return v(_,S,M,b);if(ac(M))return y(_,S,M,b);kh(_,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,S!==null&&S.tag===6?(t(_,S.sibling),S=r(S,M),S.return=_,_=S):(t(_,S),S=iv(M,_.mode,b),S.return=_,_=S),o(_)):t(_,S)}return x}var mu=XE(!0),YE=XE(!1),hm=Io(null),pm=null,Xl=null,Vx=null;function Hx(){Vx=Xl=pm=null}function Wx(n){var e=hm.current;Xt(hm),n._currentValue=e}function Hy(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function uu(n,e){pm=n,Vx=Xl=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ei=!0),n.firstContext=null)}function dr(n){var e=n._currentValue;if(Vx!==n)if(n={context:n,memoizedValue:e,next:null},Xl===null){if(pm===null)throw Error(Me(308));Xl=n,pm.dependencies={lanes:0,firstContext:n}}else Xl=Xl.next=n;return e}var ya=null;function Gx(n){ya===null?ya=[n]:ya.push(n)}function qE(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Gx(e)):(t.next=r.next,r.next=t),e.interleaved=t,ks(n,i)}function ks(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var so=!1;function jx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ps(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function vo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ct&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ks(n,t)}return r=i.interleaved,r===null?(e.next=e,Gx(i)):(e.next=r.next,r.next=e),i.interleaved=e,ks(n,t)}function Np(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Lx(n,t)}}function Z2(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function mm(n,e,t,i){var r=n.updateQueue;so=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var u=a,f=u.next;u.next=null,o===null?s=f:o.next=f,o=u;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=f:a.next=f,d.lastBaseUpdate=u))}if(s!==null){var h=r.baseState;o=0,d=f=u=null,a=s;do{var p=a.lane,g=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(p=e,g=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(g,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(g,h,p):v,p==null)break e;h=nn({},h,p);break e;case 2:so=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(f=d=g,u=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(d===null&&(u=h),r.baseState=u,r.firstBaseUpdate=f,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Ba|=o,n.lanes=o,n.memoizedState=h}}function J2(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Me(191,r));r.call(i)}}}var ed={},Yr=Io(ed),pf=Io(ed),mf=Io(ed);function xa(n){if(n===ed)throw Error(Me(174));return n}function Xx(n,e){switch(Wt(mf,e),Wt(pf,n),Wt(Yr,ed),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sy(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Sy(e,n)}Xt(Yr),Wt(Yr,e)}function gu(){Xt(Yr),Xt(pf),Xt(mf)}function JE(n){xa(mf.current);var e=xa(Yr.current),t=Sy(e,n.type);e!==t&&(Wt(pf,n),Wt(Yr,t))}function Yx(n){pf.current===n&&(Xt(Yr),Xt(pf))}var Qt=Io(0);function gm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var K0=[];function qx(){for(var n=0;n<K0.length;n++)K0[n]._workInProgressVersionPrimary=null;K0.length=0}var zp=Bs.ReactCurrentDispatcher,Q0=Bs.ReactCurrentBatchConfig,Fa=0,tn=null,An=null,On=null,vm=!1,Wc=!1,gf=0,KD=0;function Kn(){throw Error(Me(321))}function Zx(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Rr(n[t],e[t]))return!1;return!0}function Jx(n,e,t,i,r,s){if(Fa=s,tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zp.current=n===null||n.memoizedState===null?tk:nk,n=t(i,r),Wc){s=0;do{if(Wc=!1,gf=0,25<=s)throw Error(Me(301));s+=1,On=An=null,e.updateQueue=null,zp.current=ik,n=t(i,r)}while(Wc)}if(zp.current=ym,e=An!==null&&An.next!==null,Fa=0,On=An=tn=null,vm=!1,e)throw Error(Me(300));return n}function Kx(){var n=gf!==0;return gf=0,n}function Wr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?tn.memoizedState=On=n:On=On.next=n,On}function hr(){if(An===null){var n=tn.alternate;n=n!==null?n.memoizedState:null}else n=An.next;var e=On===null?tn.memoizedState:On.next;if(e!==null)On=e,An=n;else{if(n===null)throw Error(Me(310));An=n,n={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},On===null?tn.memoizedState=On=n:On=On.next=n}return On}function vf(n,e){return typeof e=="function"?e(n):e}function $0(n){var e=hr(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=An,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,u=null,f=s;do{var d=f.lane;if((Fa&d)===d)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:n(i,f.action);else{var h={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(a=u=h,o=i):u=u.next=h,tn.lanes|=d,Ba|=d}f=f.next}while(f!==null&&f!==s);u===null?o=i:u.next=a,Rr(i,e.memoizedState)||(Ei=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,tn.lanes|=s,Ba|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ev(n){var e=hr(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Rr(s,e.memoizedState)||(Ei=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function KE(){}function QE(n,e){var t=tn,i=hr(),r=e(),s=!Rr(i.memoizedState,r);if(s&&(i.memoizedState=r,Ei=!0),i=i.queue,Qx(tA.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||On!==null&&On.memoizedState.tag&1){if(t.flags|=2048,yf(9,eA.bind(null,t,i,r,e),void 0,null),Fn===null)throw Error(Me(349));Fa&30||$E(t,e,r)}return r}function $E(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function eA(n,e,t,i){e.value=t,e.getSnapshot=i,nA(e)&&iA(n)}function tA(n,e,t){return t(function(){nA(e)&&iA(n)})}function nA(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Rr(n,t)}catch{return!0}}function iA(n){var e=ks(n,1);e!==null&&Pr(e,n,1,-1)}function K2(n){var e=Wr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vf,lastRenderedState:n},e.queue=n,n=n.dispatch=ek.bind(null,tn,n),[e.memoizedState,n]}function yf(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function rA(){return hr().memoizedState}function Op(n,e,t,i){var r=Wr();tn.flags|=n,r.memoizedState=yf(1|e,t,void 0,i===void 0?null:i)}function Jm(n,e,t,i){var r=hr();i=i===void 0?null:i;var s=void 0;if(An!==null){var o=An.memoizedState;if(s=o.destroy,i!==null&&Zx(i,o.deps)){r.memoizedState=yf(e,t,s,i);return}}tn.flags|=n,r.memoizedState=yf(1|e,t,s,i)}function Q2(n,e){return Op(8390656,8,n,e)}function Qx(n,e){return Jm(2048,8,n,e)}function sA(n,e){return Jm(4,2,n,e)}function oA(n,e){return Jm(4,4,n,e)}function aA(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function lA(n,e,t){return t=t!=null?t.concat([n]):null,Jm(4,4,aA.bind(null,e,n),t)}function $x(){}function uA(n,e){var t=hr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Zx(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function cA(n,e){var t=hr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Zx(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function fA(n,e,t){return Fa&21?(Rr(t,e)||(t=gE(),tn.lanes|=t,Ba|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ei=!0),n.memoizedState=t)}function QD(n,e){var t=zt;zt=t!==0&&4>t?t:4,n(!0);var i=Q0.transition;Q0.transition={};try{n(!1),e()}finally{zt=t,Q0.transition=i}}function dA(){return hr().memoizedState}function $D(n,e,t){var i=xo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},hA(n))pA(e,t);else if(t=qE(n,e,t,i),t!==null){var r=gi();Pr(t,n,i,r),mA(t,e,i)}}function ek(n,e,t){var i=xo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(hA(n))pA(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Rr(a,o)){var u=e.interleaved;u===null?(r.next=r,Gx(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}t=qE(n,e,r,i),t!==null&&(r=gi(),Pr(t,n,i,r),mA(t,e,i))}}function hA(n){var e=n.alternate;return n===tn||e!==null&&e===tn}function pA(n,e){Wc=vm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function mA(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Lx(n,t)}}var ym={readContext:dr,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},tk={readContext:dr,useCallback:function(n,e){return Wr().memoizedState=[n,e===void 0?null:e],n},useContext:dr,useEffect:Q2,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Op(4194308,4,aA.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Op(4194308,4,n,e)},useInsertionEffect:function(n,e){return Op(4,2,n,e)},useMemo:function(n,e){var t=Wr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Wr();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=$D.bind(null,tn,n),[i.memoizedState,n]},useRef:function(n){var e=Wr();return n={current:n},e.memoizedState=n},useState:K2,useDebugValue:$x,useDeferredValue:function(n){return Wr().memoizedState=n},useTransition:function(){var n=K2(!1),e=n[0];return n=QD.bind(null,n[1]),Wr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=tn,r=Wr();if(Jt){if(t===void 0)throw Error(Me(407));t=t()}else{if(t=e(),Fn===null)throw Error(Me(349));Fa&30||$E(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Q2(tA.bind(null,i,s,n),[n]),i.flags|=2048,yf(9,eA.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Wr(),e=Fn.identifierPrefix;if(Jt){var t=Ts,i=bs;t=(i&~(1<<32-Cr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=gf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=KD++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},nk={readContext:dr,useCallback:uA,useContext:dr,useEffect:Qx,useImperativeHandle:lA,useInsertionEffect:sA,useLayoutEffect:oA,useMemo:cA,useReducer:$0,useRef:rA,useState:function(){return $0(vf)},useDebugValue:$x,useDeferredValue:function(n){var e=hr();return fA(e,An.memoizedState,n)},useTransition:function(){var n=$0(vf)[0],e=hr().memoizedState;return[n,e]},useMutableSource:KE,useSyncExternalStore:QE,useId:dA,unstable_isNewReconciler:!1},ik={readContext:dr,useCallback:uA,useContext:dr,useEffect:Qx,useImperativeHandle:lA,useInsertionEffect:sA,useLayoutEffect:oA,useMemo:cA,useReducer:ev,useRef:rA,useState:function(){return ev(vf)},useDebugValue:$x,useDeferredValue:function(n){var e=hr();return An===null?e.memoizedState=n:fA(e,An.memoizedState,n)},useTransition:function(){var n=ev(vf)[0],e=hr().memoizedState;return[n,e]},useMutableSource:KE,useSyncExternalStore:QE,useId:dA,unstable_isNewReconciler:!1};function Mr(n,e){if(n&&n.defaultProps){e=nn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Wy(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:nn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Km={isMounted:function(n){return(n=n._reactInternals)?Xa(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=gi(),r=xo(n),s=Ps(i,r);s.payload=e,t!=null&&(s.callback=t),e=vo(n,s,r),e!==null&&(Pr(e,n,r,i),Np(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=gi(),r=xo(n),s=Ps(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=vo(n,s,r),e!==null&&(Pr(e,n,r,i),Np(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=gi(),i=xo(n),r=Ps(t,i);r.tag=2,e!=null&&(r.callback=e),e=vo(n,r,i),e!==null&&(Pr(e,n,i,t),Np(e,n,i))}};function $2(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!cf(t,i)||!cf(r,s):!0}function gA(n,e,t){var i=!1,r=To,s=e.contextType;return typeof s=="object"&&s!==null?s=dr(s):(r=Ci(e)?za:oi.current,i=e.contextTypes,s=(i=i!=null)?hu(n,r):To),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Km,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function eM(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Km.enqueueReplaceState(e,e.state,null)}function Gy(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},jx(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=dr(s):(s=Ci(e)?za:oi.current,r.context=hu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wy(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Km.enqueueReplaceState(r,r.state,null),mm(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function vu(n,e){try{var t="",i=e;do t+=R5(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function tv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function jy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var rk=typeof WeakMap=="function"?WeakMap:Map;function vA(n,e,t){t=Ps(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){_m||(_m=!0,t1=i),jy(n,e)},t}function yA(n,e,t){t=Ps(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){jy(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){jy(n,e),typeof i!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function tM(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new rk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=yk.bind(null,n,e,t),e.then(n,n))}function nM(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function iM(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ps(-1,1),e.tag=2,vo(t,e,1))),t.lanes|=1),n)}var sk=Bs.ReactCurrentOwner,Ei=!1;function hi(n,e,t,i){e.child=n===null?YE(e,null,t,i):mu(e,n.child,t,i)}function rM(n,e,t,i,r){t=t.render;var s=e.ref;return uu(e,r),i=Jx(n,e,t,i,s,r),t=Kx(),n!==null&&!Ei?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Is(n,e,r)):(Jt&&t&&Fx(e),e.flags|=1,hi(n,e,i,r),e.child)}function sM(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!a_(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,xA(n,e,s,i,r)):(n=Vp(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:cf,t(o,i)&&n.ref===e.ref)return Is(n,e,r)}return e.flags|=1,n=_o(s,i),n.ref=e.ref,n.return=e,e.child=n}function xA(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(cf(s,i)&&n.ref===e.ref)if(Ei=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ei=!0);else return e.lanes=n.lanes,Is(n,e,r)}return Xy(n,e,t,i,r)}function _A(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(ql,Oi),Oi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Wt(ql,Oi),Oi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Wt(ql,Oi),Oi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Wt(ql,Oi),Oi|=i;return hi(n,e,r,t),e.child}function wA(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Xy(n,e,t,i,r){var s=Ci(t)?za:oi.current;return s=hu(e,s),uu(e,r),t=Jx(n,e,t,i,s,r),i=Kx(),n!==null&&!Ei?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Is(n,e,r)):(Jt&&i&&Fx(e),e.flags|=1,hi(n,e,t,r),e.child)}function oM(n,e,t,i,r){if(Ci(t)){var s=!0;cm(e)}else s=!1;if(uu(e,r),e.stateNode===null)Fp(n,e),gA(e,t,i),Gy(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,f=t.contextType;typeof f=="object"&&f!==null?f=dr(f):(f=Ci(t)?za:oi.current,f=hu(e,f));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||u!==f)&&eM(e,o,i,f),so=!1;var p=e.memoizedState;o.state=p,mm(e,i,o,r),u=e.memoizedState,a!==i||p!==u||Ai.current||so?(typeof d=="function"&&(Wy(e,t,d,i),u=e.memoizedState),(a=so||$2(e,t,a,i,p,u,f))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=f,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,ZE(n,e),a=e.memoizedProps,f=e.type===e.elementType?a:Mr(e.type,a),o.props=f,h=e.pendingProps,p=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=dr(u):(u=Ci(t)?za:oi.current,u=hu(e,u));var g=t.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==u)&&eM(e,o,i,u),so=!1,p=e.memoizedState,o.state=p,mm(e,i,o,r);var v=e.memoizedState;a!==h||p!==v||Ai.current||so?(typeof g=="function"&&(Wy(e,t,g,i),v=e.memoizedState),(f=so||$2(e,t,f,i,p,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=u,i=f):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return Yy(n,e,t,i,s,r)}function Yy(n,e,t,i,r,s){wA(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&j2(e,t,!1),Is(n,e,s);i=e.stateNode,sk.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=mu(e,n.child,null,s),e.child=mu(e,null,a,s)):hi(n,e,a,s),e.memoizedState=i.state,r&&j2(e,t,!0),e.child}function SA(n){var e=n.stateNode;e.pendingContext?G2(n,e.pendingContext,e.pendingContext!==e.context):e.context&&G2(n,e.context,!1),Xx(n,e.containerInfo)}function aM(n,e,t,i,r){return pu(),Ux(r),e.flags|=256,hi(n,e,t,i),e.child}var qy={dehydrated:null,treeContext:null,retryLane:0};function Zy(n){return{baseLanes:n,cachePool:null,transitions:null}}function MA(n,e,t){var i=e.pendingProps,r=Qt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Wt(Qt,r&1),n===null)return Vy(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=eg(o,i,0,null),n=Ca(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Zy(t),e.memoizedState=qy,n):e_(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return ok(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=_o(r,u),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=_o(a,s):(s=Ca(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Zy(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=qy,i}return s=n.child,n=s.sibling,i=_o(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function e_(n,e){return e=eg({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ih(n,e,t,i){return i!==null&&Ux(i),mu(e,n.child,null,t),n=e_(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function ok(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=tv(Error(Me(422))),Ih(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=eg({mode:"visible",children:i.children},r,0,null),s=Ca(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&mu(e,n.child,null,o),e.child.memoizedState=Zy(o),e.memoizedState=qy,s);if(!(e.mode&1))return Ih(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Me(419)),i=tv(s,i,void 0),Ih(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ei||a){if(i=Fn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ks(n,r),Pr(i,n,r,-1))}return o_(),i=tv(Error(Me(421))),Ih(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=xk.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Fi=go(r.nextSibling),Bi=e,Jt=!0,Er=null,n!==null&&(or[ar++]=bs,or[ar++]=Ts,or[ar++]=Oa,bs=n.id,Ts=n.overflow,Oa=e),e=e_(e,i.children),e.flags|=4096,e)}function lM(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Hy(n.return,e,t)}function nv(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function bA(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(hi(n,e,i.children,t),i=Qt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lM(n,t,e);else if(n.tag===19)lM(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Wt(Qt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&gm(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),nv(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&gm(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}nv(e,!0,t,null,s);break;case"together":nv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Is(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ba|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Me(153));if(e.child!==null){for(n=e.child,t=_o(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=_o(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function ak(n,e,t){switch(e.tag){case 3:SA(e),pu();break;case 5:JE(e);break;case 1:Ci(e.type)&&cm(e);break;case 4:Xx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Wt(hm,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Wt(Qt,Qt.current&1),e.flags|=128,null):t&e.child.childLanes?MA(n,e,t):(Wt(Qt,Qt.current&1),n=Is(n,e,t),n!==null?n.sibling:null);Wt(Qt,Qt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return bA(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Wt(Qt,Qt.current),i)break;return null;case 22:case 23:return e.lanes=0,_A(n,e,t)}return Is(n,e,t)}var TA,Jy,EA,AA;TA=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Jy=function(){};EA=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,xa(Yr.current);var s=null;switch(t){case"input":r=yy(n,r),i=yy(n,i),s=[];break;case"select":r=nn({},r,{value:void 0}),i=nn({},i,{value:void 0}),s=[];break;case"textarea":r=wy(n,r),i=wy(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=lm)}My(t,i);var o;t=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var a=r[f];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(nf.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in i){var u=i[f];if(a=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&u!==a&&(u!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(s||(s=[]),s.push(f,t)),t=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(nf.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&jt("scroll",n),s||a===u||(s=[])):(s=s||[]).push(f,u))}t&&(s=s||[]).push("style",t);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};AA=function(n,e,t,i){t!==i&&(e.flags|=4)};function hc(n,e){if(!Jt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Qn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function lk(n,e,t){var i=e.pendingProps;switch(Bx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(e),null;case 1:return Ci(e.type)&&um(),Qn(e),null;case 3:return i=e.stateNode,gu(),Xt(Ai),Xt(oi),qx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Dh(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(r1(Er),Er=null))),Jy(n,e),Qn(e),null;case 5:Yx(e);var r=xa(mf.current);if(t=e.type,n!==null&&e.stateNode!=null)EA(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Me(166));return Qn(e),null}if(n=xa(Yr.current),Dh(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Gr]=e,i[hf]=s,n=(e.mode&1)!==0,t){case"dialog":jt("cancel",i),jt("close",i);break;case"iframe":case"object":case"embed":jt("load",i);break;case"video":case"audio":for(r=0;r<Ic.length;r++)jt(Ic[r],i);break;case"source":jt("error",i);break;case"img":case"image":case"link":jt("error",i),jt("load",i);break;case"details":jt("toggle",i);break;case"input":v2(i,s),jt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},jt("invalid",i);break;case"textarea":x2(i,s),jt("invalid",i)}My(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Rh(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Rh(i.textContent,a,n),r=["children",""+a]):nf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&jt("scroll",i)}switch(t){case"input":Mh(i),y2(i,s,!0);break;case"textarea":Mh(i),_2(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=lm)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=tE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Gr]=e,n[hf]=i,TA(n,e,!1,!1),e.stateNode=n;e:{switch(o=by(t,i),t){case"dialog":jt("cancel",n),jt("close",n),r=i;break;case"iframe":case"object":case"embed":jt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Ic.length;r++)jt(Ic[r],n);r=i;break;case"source":jt("error",n),r=i;break;case"img":case"image":case"link":jt("error",n),jt("load",n),r=i;break;case"details":jt("toggle",n),r=i;break;case"input":v2(n,i),r=yy(n,i),jt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=nn({},i,{value:void 0}),jt("invalid",n);break;case"textarea":x2(n,i),r=wy(n,i),jt("invalid",n);break;default:r=i}My(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?rE(n,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&nE(n,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&rf(n,u):typeof u=="number"&&rf(n,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nf.hasOwnProperty(s)?u!=null&&s==="onScroll"&&jt("scroll",n):u!=null&&bx(n,s,u,o))}switch(t){case"input":Mh(n),y2(n,i,!1);break;case"textarea":Mh(n),_2(n);break;case"option":i.value!=null&&n.setAttribute("value",""+bo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?su(n,!!i.multiple,s,!1):i.defaultValue!=null&&su(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=lm)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qn(e),null;case 6:if(n&&e.stateNode!=null)AA(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Me(166));if(t=xa(mf.current),xa(Yr.current),Dh(e)){if(i=e.stateNode,t=e.memoizedProps,i[Gr]=e,(s=i.nodeValue!==t)&&(n=Bi,n!==null))switch(n.tag){case 3:Rh(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Rh(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Gr]=e,e.stateNode=i}return Qn(e),null;case 13:if(Xt(Qt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Jt&&Fi!==null&&e.mode&1&&!(e.flags&128))jE(),pu(),e.flags|=98560,s=!1;else if(s=Dh(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[Gr]=e}else pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qn(e),s=!1}else Er!==null&&(r1(Er),Er=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Qt.current&1?Cn===0&&(Cn=3):o_())),e.updateQueue!==null&&(e.flags|=4),Qn(e),null);case 4:return gu(),Jy(n,e),n===null&&ff(e.stateNode.containerInfo),Qn(e),null;case 10:return Wx(e.type._context),Qn(e),null;case 17:return Ci(e.type)&&um(),Qn(e),null;case 19:if(Xt(Qt),s=e.memoizedState,s===null)return Qn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)hc(s,!1);else{if(Cn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=gm(n),o!==null){for(e.flags|=128,hc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Wt(Qt,Qt.current&1|2),e.child}n=n.sibling}s.tail!==null&&gn()>yu&&(e.flags|=128,i=!0,hc(s,!1),e.lanes=4194304)}else{if(!i)if(n=gm(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),hc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Jt)return Qn(e),null}else 2*gn()-s.renderingStartTime>yu&&t!==1073741824&&(e.flags|=128,i=!0,hc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gn(),e.sibling=null,t=Qt.current,Wt(Qt,i?t&1|2:t&1),e):(Qn(e),null);case 22:case 23:return s_(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Oi&1073741824&&(Qn(e),e.subtreeFlags&6&&(e.flags|=8192)):Qn(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function uk(n,e){switch(Bx(e),e.tag){case 1:return Ci(e.type)&&um(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return gu(),Xt(Ai),Xt(oi),qx(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Yx(e),null;case 13:if(Xt(Qt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));pu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Xt(Qt),null;case 4:return gu(),null;case 10:return Wx(e.type._context),null;case 22:case 23:return s_(),null;case 24:return null;default:return null}}var Nh=!1,ni=!1,ck=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Yl(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){un(n,e,i)}else t.current=null}function Ky(n,e,t){try{t()}catch(i){un(n,e,i)}}var uM=!1;function fk(n,e){if(Iy=sm,n=DE(),Ox(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,u=-1,f=0,d=0,h=n,p=null;t:for(;;){for(var g;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(u=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===n)break t;if(p===t&&++f===r&&(a=o),p===s&&++d===i&&(u=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}t=a===-1||u===-1?null:{start:a,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(Ny={focusedElem:n,selectionRange:t},sm=!1,Ue=e;Ue!==null;)if(e=Ue,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ue=n;else for(;Ue!==null;){e=Ue;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,_=e.stateNode,S=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:Mr(e.type,y),x);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(b){un(e,e.return,b)}if(n=e.sibling,n!==null){n.return=e.return,Ue=n;break}Ue=e.return}return v=uM,uM=!1,v}function Gc(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Ky(e,t,s)}r=r.next}while(r!==i)}}function Qm(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Qy(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function CA(n){var e=n.alternate;e!==null&&(n.alternate=null,CA(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Gr],delete e[hf],delete e[Fy],delete e[YD],delete e[qD])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function PA(n){return n.tag===5||n.tag===3||n.tag===4}function cM(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||PA(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $y(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=lm));else if(i!==4&&(n=n.child,n!==null))for($y(n,e,t),n=n.sibling;n!==null;)$y(n,e,t),n=n.sibling}function e1(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(e1(n,e,t),n=n.sibling;n!==null;)e1(n,e,t),n=n.sibling}var Un=null,br=!1;function Ks(n,e,t){for(t=t.child;t!==null;)LA(n,e,t),t=t.sibling}function LA(n,e,t){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Gm,t)}catch{}switch(t.tag){case 5:ni||Yl(t,e);case 6:var i=Un,r=br;Un=null,Ks(n,e,t),Un=i,br=r,Un!==null&&(br?(n=Un,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Un.removeChild(t.stateNode));break;case 18:Un!==null&&(br?(n=Un,t=t.stateNode,n.nodeType===8?Z0(n.parentNode,t):n.nodeType===1&&Z0(n,t),lf(n)):Z0(Un,t.stateNode));break;case 4:i=Un,r=br,Un=t.stateNode.containerInfo,br=!0,Ks(n,e,t),Un=i,br=r;break;case 0:case 11:case 14:case 15:if(!ni&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ky(t,e,o),r=r.next}while(r!==i)}Ks(n,e,t);break;case 1:if(!ni&&(Yl(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){un(t,e,a)}Ks(n,e,t);break;case 21:Ks(n,e,t);break;case 22:t.mode&1?(ni=(i=ni)||t.memoizedState!==null,Ks(n,e,t),ni=i):Ks(n,e,t);break;default:Ks(n,e,t)}}function fM(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new ck),e.forEach(function(i){var r=_k.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function yr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Un=a.stateNode,br=!1;break e;case 3:Un=a.stateNode.containerInfo,br=!0;break e;case 4:Un=a.stateNode.containerInfo,br=!0;break e}a=a.return}if(Un===null)throw Error(Me(160));LA(s,o,r),Un=null,br=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(f){un(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RA(e,n),e=e.sibling}function RA(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(yr(e,n),Hr(n),i&4){try{Gc(3,n,n.return),Qm(3,n)}catch(y){un(n,n.return,y)}try{Gc(5,n,n.return)}catch(y){un(n,n.return,y)}}break;case 1:yr(e,n),Hr(n),i&512&&t!==null&&Yl(t,t.return);break;case 5:if(yr(e,n),Hr(n),i&512&&t!==null&&Yl(t,t.return),n.flags&32){var r=n.stateNode;try{rf(r,"")}catch(y){un(n,n.return,y)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$T(r,s),by(a,o);var f=by(a,s);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?rE(r,h):d==="dangerouslySetInnerHTML"?nE(r,h):d==="children"?rf(r,h):bx(r,d,h,f)}switch(a){case"input":xy(r,s);break;case"textarea":eE(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?su(r,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?su(r,!!s.multiple,s.defaultValue,!0):su(r,!!s.multiple,s.multiple?[]:"",!1))}r[hf]=s}catch(y){un(n,n.return,y)}}break;case 6:if(yr(e,n),Hr(n),i&4){if(n.stateNode===null)throw Error(Me(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(y){un(n,n.return,y)}}break;case 3:if(yr(e,n),Hr(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{lf(e.containerInfo)}catch(y){un(n,n.return,y)}break;case 4:yr(e,n),Hr(n);break;case 13:yr(e,n),Hr(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(i_=gn())),i&4&&fM(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(ni=(f=ni)||d,yr(e,n),ni=f):yr(e,n),Hr(n),i&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!d&&n.mode&1)for(Ue=n,d=n.child;d!==null;){for(h=Ue=d;Ue!==null;){switch(p=Ue,g=p.child,p.tag){case 0:case 11:case 14:case 15:Gc(4,p,p.return);break;case 1:Yl(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){un(i,t,y)}}break;case 5:Yl(p,p.return);break;case 22:if(p.memoizedState!==null){hM(h);continue}}g!==null?(g.return=p,Ue=g):hM(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,f?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=iE("display",o))}catch(y){un(n,n.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(y){un(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yr(e,n),Hr(n),i&4&&fM(n);break;case 21:break;default:yr(e,n),Hr(n)}}function Hr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(PA(t)){var i=t;break e}t=t.return}throw Error(Me(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(rf(r,""),i.flags&=-33);var s=cM(n);e1(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=cM(n);$y(n,a,o);break;default:throw Error(Me(161))}}catch(u){un(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function dk(n,e,t){Ue=n,DA(n)}function DA(n,e,t){for(var i=(n.mode&1)!==0;Ue!==null;){var r=Ue,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Nh;if(!o){var a=r.alternate,u=a!==null&&a.memoizedState!==null||ni;a=Nh;var f=ni;if(Nh=o,(ni=u)&&!f)for(Ue=r;Ue!==null;)o=Ue,u=o.child,o.tag===22&&o.memoizedState!==null?pM(r):u!==null?(u.return=o,Ue=u):pM(r);for(;s!==null;)Ue=s,DA(s),s=s.sibling;Ue=r,Nh=a,ni=f}dM(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Ue=s):dM(n)}}function dM(n){for(;Ue!==null;){var e=Ue;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ni||Qm(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ni)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Mr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&J2(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}J2(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&lf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}ni||e.flags&512&&Qy(e)}catch(p){un(e,e.return,p)}}if(e===n){Ue=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}}function hM(n){for(;Ue!==null;){var e=Ue;if(e===n){Ue=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ue=t;break}Ue=e.return}}function pM(n){for(;Ue!==null;){var e=Ue;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Qm(4,e)}catch(u){un(e,t,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){un(e,r,u)}}var s=e.return;try{Qy(e)}catch(u){un(e,s,u)}break;case 5:var o=e.return;try{Qy(e)}catch(u){un(e,o,u)}}}catch(u){un(e,e.return,u)}if(e===n){Ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ue=a;break}Ue=e.return}}var hk=Math.ceil,xm=Bs.ReactCurrentDispatcher,t_=Bs.ReactCurrentOwner,cr=Bs.ReactCurrentBatchConfig,Ct=0,Fn=null,Mn=null,Wn=0,Oi=0,ql=Io(0),Cn=0,xf=null,Ba=0,$m=0,n_=0,jc=null,bi=null,i_=0,yu=1/0,xs=null,_m=!1,t1=null,yo=null,zh=!1,uo=null,wm=0,Xc=0,n1=null,Bp=-1,Up=0;function gi(){return Ct&6?gn():Bp!==-1?Bp:Bp=gn()}function xo(n){return n.mode&1?Ct&2&&Wn!==0?Wn&-Wn:JD.transition!==null?(Up===0&&(Up=gE()),Up):(n=zt,n!==0||(n=window.event,n=n===void 0?16:ME(n.type)),n):1}function Pr(n,e,t,i){if(50<Xc)throw Xc=0,n1=null,Error(Me(185));Kf(n,t,i),(!(Ct&2)||n!==Fn)&&(n===Fn&&(!(Ct&2)&&($m|=t),Cn===4&&ao(n,Wn)),Pi(n,i),t===1&&Ct===0&&!(e.mode&1)&&(yu=gn()+500,Zm&&No()))}function Pi(n,e){var t=n.callbackNode;J5(n,e);var i=rm(n,n===Fn?Wn:0);if(i===0)t!==null&&M2(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&M2(t),e===1)n.tag===0?ZD(mM.bind(null,n)):HE(mM.bind(null,n)),jD(function(){!(Ct&6)&&No()}),t=null;else{switch(vE(i)){case 1:t=Px;break;case 4:t=pE;break;case 16:t=im;break;case 536870912:t=mE;break;default:t=im}t=UA(t,kA.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function kA(n,e){if(Bp=-1,Up=0,Ct&6)throw Error(Me(327));var t=n.callbackNode;if(cu()&&n.callbackNode!==t)return null;var i=rm(n,n===Fn?Wn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Sm(n,i);else{e=i;var r=Ct;Ct|=2;var s=NA();(Fn!==n||Wn!==e)&&(xs=null,yu=gn()+500,Aa(n,e));do try{gk();break}catch(a){IA(n,a)}while(!0);Hx(),xm.current=s,Ct=r,Mn!==null?e=0:(Fn=null,Wn=0,e=Cn)}if(e!==0){if(e===2&&(r=Py(n),r!==0&&(i=r,e=i1(n,r))),e===1)throw t=xf,Aa(n,0),ao(n,i),Pi(n,gn()),t;if(e===6)ao(n,i);else{if(r=n.current.alternate,!(i&30)&&!pk(r)&&(e=Sm(n,i),e===2&&(s=Py(n),s!==0&&(i=s,e=i1(n,s))),e===1))throw t=xf,Aa(n,0),ao(n,i),Pi(n,gn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Me(345));case 2:ca(n,bi,xs);break;case 3:if(ao(n,i),(i&130023424)===i&&(e=i_+500-gn(),10<e)){if(rm(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){gi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Oy(ca.bind(null,n,bi,xs),e);break}ca(n,bi,xs);break;case 4:if(ao(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Cr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=gn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hk(i/1960))-i,10<i){n.timeoutHandle=Oy(ca.bind(null,n,bi,xs),i);break}ca(n,bi,xs);break;case 5:ca(n,bi,xs);break;default:throw Error(Me(329))}}}return Pi(n,gn()),n.callbackNode===t?kA.bind(null,n):null}function i1(n,e){var t=jc;return n.current.memoizedState.isDehydrated&&(Aa(n,e).flags|=256),n=Sm(n,e),n!==2&&(e=bi,bi=t,e!==null&&r1(e)),n}function r1(n){bi===null?bi=n:bi.push.apply(bi,n)}function pk(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Rr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ao(n,e){for(e&=~n_,e&=~$m,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Cr(e),i=1<<t;n[t]=-1,e&=~i}}function mM(n){if(Ct&6)throw Error(Me(327));cu();var e=rm(n,0);if(!(e&1))return Pi(n,gn()),null;var t=Sm(n,e);if(n.tag!==0&&t===2){var i=Py(n);i!==0&&(e=i,t=i1(n,i))}if(t===1)throw t=xf,Aa(n,0),ao(n,e),Pi(n,gn()),t;if(t===6)throw Error(Me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ca(n,bi,xs),Pi(n,gn()),null}function r_(n,e){var t=Ct;Ct|=1;try{return n(e)}finally{Ct=t,Ct===0&&(yu=gn()+500,Zm&&No())}}function Ua(n){uo!==null&&uo.tag===0&&!(Ct&6)&&cu();var e=Ct;Ct|=1;var t=cr.transition,i=zt;try{if(cr.transition=null,zt=1,n)return n()}finally{zt=i,cr.transition=t,Ct=e,!(Ct&6)&&No()}}function s_(){Oi=ql.current,Xt(ql)}function Aa(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,GD(t)),Mn!==null)for(t=Mn.return;t!==null;){var i=t;switch(Bx(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&um();break;case 3:gu(),Xt(Ai),Xt(oi),qx();break;case 5:Yx(i);break;case 4:gu();break;case 13:Xt(Qt);break;case 19:Xt(Qt);break;case 10:Wx(i.type._context);break;case 22:case 23:s_()}t=t.return}if(Fn=n,Mn=n=_o(n.current,null),Wn=Oi=e,Cn=0,xf=null,n_=$m=Ba=0,bi=jc=null,ya!==null){for(e=0;e<ya.length;e++)if(t=ya[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}ya=null}return n}function IA(n,e){do{var t=Mn;try{if(Hx(),zp.current=ym,vm){for(var i=tn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}vm=!1}if(Fa=0,On=An=tn=null,Wc=!1,gf=0,t_.current=null,t===null||t.return===null){Cn=1,xf=e,Mn=null;break}e:{var s=n,o=t.return,a=t,u=e;if(e=Wn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=nM(o);if(g!==null){g.flags&=-257,iM(g,o,a,s,e),g.mode&1&&tM(s,f,e),e=g,u=f;var v=e.updateQueue;if(v===null){var y=new Set;y.add(u),e.updateQueue=y}else v.add(u);break e}else{if(!(e&1)){tM(s,f,e),o_();break e}u=Error(Me(426))}}else if(Jt&&a.mode&1){var x=nM(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),iM(x,o,a,s,e),Ux(vu(u,a));break e}}s=u=vu(u,a),Cn!==4&&(Cn=2),jc===null?jc=[s]:jc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=vA(s,u,e);Z2(s,_);break e;case 1:a=u;var S=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(yo===null||!yo.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=yA(s,a,e);Z2(s,b);break e}}s=s.return}while(s!==null)}OA(t)}catch(A){e=A,Mn===t&&t!==null&&(Mn=t=t.return);continue}break}while(!0)}function NA(){var n=xm.current;return xm.current=ym,n===null?ym:n}function o_(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Fn===null||!(Ba&268435455)&&!($m&268435455)||ao(Fn,Wn)}function Sm(n,e){var t=Ct;Ct|=2;var i=NA();(Fn!==n||Wn!==e)&&(xs=null,Aa(n,e));do try{mk();break}catch(r){IA(n,r)}while(!0);if(Hx(),Ct=t,xm.current=i,Mn!==null)throw Error(Me(261));return Fn=null,Wn=0,Cn}function mk(){for(;Mn!==null;)zA(Mn)}function gk(){for(;Mn!==null&&!V5();)zA(Mn)}function zA(n){var e=BA(n.alternate,n,Oi);n.memoizedProps=n.pendingProps,e===null?OA(n):Mn=e,t_.current=null}function OA(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=uk(t,e),t!==null){t.flags&=32767,Mn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Cn=6,Mn=null;return}}else if(t=lk(t,e,Oi),t!==null){Mn=t;return}if(e=e.sibling,e!==null){Mn=e;return}Mn=e=n}while(e!==null);Cn===0&&(Cn=5)}function ca(n,e,t){var i=zt,r=cr.transition;try{cr.transition=null,zt=1,vk(n,e,t,i)}finally{cr.transition=r,zt=i}return null}function vk(n,e,t,i){do cu();while(uo!==null);if(Ct&6)throw Error(Me(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Me(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(K5(n,s),n===Fn&&(Mn=Fn=null,Wn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||zh||(zh=!0,UA(im,function(){return cu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=cr.transition,cr.transition=null;var o=zt;zt=1;var a=Ct;Ct|=4,t_.current=null,fk(n,t),RA(t,n),OD(Ny),sm=!!Iy,Ny=Iy=null,n.current=t,dk(t),H5(),Ct=a,zt=o,cr.transition=s}else n.current=t;if(zh&&(zh=!1,uo=n,wm=r),s=n.pendingLanes,s===0&&(yo=null),j5(t.stateNode),Pi(n,gn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(_m)throw _m=!1,n=t1,t1=null,n;return wm&1&&n.tag!==0&&cu(),s=n.pendingLanes,s&1?n===n1?Xc++:(Xc=0,n1=n):Xc=0,No(),null}function cu(){if(uo!==null){var n=vE(wm),e=cr.transition,t=zt;try{if(cr.transition=null,zt=16>n?16:n,uo===null)var i=!1;else{if(n=uo,uo=null,wm=0,Ct&6)throw Error(Me(331));var r=Ct;for(Ct|=4,Ue=n.current;Ue!==null;){var s=Ue,o=s.child;if(Ue.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var f=a[u];for(Ue=f;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:Gc(8,d,s)}var h=d.child;if(h!==null)h.return=d,Ue=h;else for(;Ue!==null;){d=Ue;var p=d.sibling,g=d.return;if(CA(d),d===f){Ue=null;break}if(p!==null){p.return=g,Ue=p;break}Ue=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ue=o;else e:for(;Ue!==null;){if(s=Ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gc(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Ue=_;break e}Ue=s.return}}var S=n.current;for(Ue=S;Ue!==null;){o=Ue;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,Ue=M;else e:for(o=S;Ue!==null;){if(a=Ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qm(9,a)}}catch(A){un(a,a.return,A)}if(a===o){Ue=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Ue=b;break e}Ue=a.return}}if(Ct=r,No(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Gm,n)}catch{}i=!0}return i}finally{zt=t,cr.transition=e}}return!1}function gM(n,e,t){e=vu(t,e),e=vA(n,e,1),n=vo(n,e,1),e=gi(),n!==null&&(Kf(n,1,e),Pi(n,e))}function un(n,e,t){if(n.tag===3)gM(n,n,t);else for(;e!==null;){if(e.tag===3){gM(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(yo===null||!yo.has(i))){n=vu(t,n),n=yA(e,n,1),e=vo(e,n,1),n=gi(),e!==null&&(Kf(e,1,n),Pi(e,n));break}}e=e.return}}function yk(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=gi(),n.pingedLanes|=n.suspendedLanes&t,Fn===n&&(Wn&t)===t&&(Cn===4||Cn===3&&(Wn&130023424)===Wn&&500>gn()-i_?Aa(n,0):n_|=t),Pi(n,e)}function FA(n,e){e===0&&(n.mode&1?(e=Eh,Eh<<=1,!(Eh&130023424)&&(Eh=4194304)):e=1);var t=gi();n=ks(n,e),n!==null&&(Kf(n,e,t),Pi(n,t))}function xk(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),FA(n,t)}function _k(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Me(314))}i!==null&&i.delete(e),FA(n,t)}var BA;BA=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ai.current)Ei=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ei=!1,ak(n,e,t);Ei=!!(n.flags&131072)}else Ei=!1,Jt&&e.flags&1048576&&WE(e,dm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Fp(n,e),n=e.pendingProps;var r=hu(e,oi.current);uu(e,t),r=Jx(null,e,i,n,r,t);var s=Kx();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ci(i)?(s=!0,cm(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,jx(e),r.updater=Km,e.stateNode=r,r._reactInternals=e,Gy(e,i,n,t),e=Yy(null,e,i,!0,s,t)):(e.tag=0,Jt&&s&&Fx(e),hi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Fp(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Sk(i),n=Mr(i,n),r){case 0:e=Xy(null,e,i,n,t);break e;case 1:e=oM(null,e,i,n,t);break e;case 11:e=rM(null,e,i,n,t);break e;case 14:e=sM(null,e,i,Mr(i.type,n),t);break e}throw Error(Me(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Mr(i,r),Xy(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Mr(i,r),oM(n,e,i,r,t);case 3:e:{if(SA(e),n===null)throw Error(Me(387));i=e.pendingProps,s=e.memoizedState,r=s.element,ZE(n,e),mm(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=vu(Error(Me(423)),e),e=aM(n,e,i,t,r);break e}else if(i!==r){r=vu(Error(Me(424)),e),e=aM(n,e,i,t,r);break e}else for(Fi=go(e.stateNode.containerInfo.firstChild),Bi=e,Jt=!0,Er=null,t=YE(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(pu(),i===r){e=Is(n,e,t);break e}hi(n,e,i,t)}e=e.child}return e;case 5:return JE(e),n===null&&Vy(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,zy(i,r)?o=null:s!==null&&zy(i,s)&&(e.flags|=32),wA(n,e),hi(n,e,o,t),e.child;case 6:return n===null&&Vy(e),null;case 13:return MA(n,e,t);case 4:return Xx(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=mu(e,null,i,t):hi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Mr(i,r),rM(n,e,i,r,t);case 7:return hi(n,e,e.pendingProps,t),e.child;case 8:return hi(n,e,e.pendingProps.children,t),e.child;case 12:return hi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Wt(hm,i._currentValue),i._currentValue=o,s!==null)if(Rr(s.value,o)){if(s.children===r.children&&!Ai.current){e=Is(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=Ps(-1,t&-t),u.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?u.next=u:(u.next=d.next,d.next=u),f.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),Hy(s.return,t,e),a.lanes|=t;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Hy(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,uu(e,t),r=dr(r),i=i(r),e.flags|=1,hi(n,e,i,t),e.child;case 14:return i=e.type,r=Mr(i,e.pendingProps),r=Mr(i.type,r),sM(n,e,i,r,t);case 15:return xA(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Mr(i,r),Fp(n,e),e.tag=1,Ci(i)?(n=!0,cm(e)):n=!1,uu(e,t),gA(e,i,r),Gy(e,i,r,t),Yy(null,e,i,!0,n,t);case 19:return bA(n,e,t);case 22:return _A(n,e,t)}throw Error(Me(156,e.tag))};function UA(n,e){return hE(n,e)}function wk(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(n,e,t,i){return new wk(n,e,t,i)}function a_(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sk(n){if(typeof n=="function")return a_(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ex)return 11;if(n===Ax)return 14}return 2}function _o(n,e){var t=n.alternate;return t===null?(t=ur(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Vp(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")a_(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Fl:return Ca(t.children,r,s,e);case Tx:o=8,r|=8;break;case py:return n=ur(12,t,e,r|2),n.elementType=py,n.lanes=s,n;case my:return n=ur(13,t,e,r),n.elementType=my,n.lanes=s,n;case gy:return n=ur(19,t,e,r),n.elementType=gy,n.lanes=s,n;case JT:return eg(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case qT:o=10;break e;case ZT:o=9;break e;case Ex:o=11;break e;case Ax:o=14;break e;case ro:o=16,i=null;break e}throw Error(Me(130,n==null?n:typeof n,""))}return e=ur(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ca(n,e,t,i){return n=ur(7,n,i,e),n.lanes=t,n}function eg(n,e,t,i){return n=ur(22,n,i,e),n.elementType=JT,n.lanes=t,n.stateNode={isHidden:!1},n}function iv(n,e,t){return n=ur(6,n,null,e),n.lanes=t,n}function rv(n,e,t){return e=ur(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Mk(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F0(0),this.expirationTimes=F0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F0(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function l_(n,e,t,i,r,s,o,a,u){return n=new Mk(n,e,t,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ur(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},jx(s),n}function bk(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ol,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function VA(n){if(!n)return To;n=n._reactInternals;e:{if(Xa(n)!==n||n.tag!==1)throw Error(Me(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ci(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(n.tag===1){var t=n.type;if(Ci(t))return VE(n,t,e)}return e}function HA(n,e,t,i,r,s,o,a,u){return n=l_(t,i,!0,n,r,s,o,a,u),n.context=VA(null),t=n.current,i=gi(),r=xo(t),s=Ps(i,r),s.callback=e??null,vo(t,s,r),n.current.lanes=r,Kf(n,r,i),Pi(n,i),n}function tg(n,e,t,i){var r=e.current,s=gi(),o=xo(r);return t=VA(t),e.context===null?e.context=t:e.pendingContext=t,e=Ps(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=vo(r,e,o),n!==null&&(Pr(n,r,o,s),Np(n,r,o)),o}function Mm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function vM(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function u_(n,e){vM(n,e),(n=n.alternate)&&vM(n,e)}function Tk(){return null}var WA=typeof reportError=="function"?reportError:function(n){console.error(n)};function c_(n){this._internalRoot=n}ng.prototype.render=c_.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Me(409));tg(n,e,null,null)};ng.prototype.unmount=c_.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ua(function(){tg(null,n,null,null)}),e[Ds]=null}};function ng(n){this._internalRoot=n}ng.prototype.unstable_scheduleHydration=function(n){if(n){var e=_E();n={blockedOn:null,target:n,priority:e};for(var t=0;t<oo.length&&e!==0&&e<oo[t].priority;t++);oo.splice(t,0,n),t===0&&SE(n)}};function f_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ig(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function yM(){}function Ek(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var f=Mm(o);s.call(f)}}var o=HA(e,i,n,0,null,!1,!1,"",yM);return n._reactRootContainer=o,n[Ds]=o.current,ff(n.nodeType===8?n.parentNode:n),Ua(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var f=Mm(u);a.call(f)}}var u=l_(n,0,!1,null,null,!1,!1,"",yM);return n._reactRootContainer=u,n[Ds]=u.current,ff(n.nodeType===8?n.parentNode:n),Ua(function(){tg(e,u,t,i)}),u}function rg(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var u=Mm(o);a.call(u)}}tg(e,o,n,r)}else o=Ek(t,e,n,r,i);return Mm(o)}yE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=kc(e.pendingLanes);t!==0&&(Lx(e,t|1),Pi(e,gn()),!(Ct&6)&&(yu=gn()+500,No()))}break;case 13:Ua(function(){var i=ks(n,1);if(i!==null){var r=gi();Pr(i,n,1,r)}}),u_(n,1)}};Rx=function(n){if(n.tag===13){var e=ks(n,134217728);if(e!==null){var t=gi();Pr(e,n,134217728,t)}u_(n,134217728)}};xE=function(n){if(n.tag===13){var e=xo(n),t=ks(n,e);if(t!==null){var i=gi();Pr(t,n,e,i)}u_(n,e)}};_E=function(){return zt};wE=function(n,e){var t=zt;try{return zt=n,e()}finally{zt=t}};Ey=function(n,e,t){switch(e){case"input":if(xy(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=qm(i);if(!r)throw Error(Me(90));QT(i),xy(i,r)}}}break;case"textarea":eE(n,t);break;case"select":e=t.value,e!=null&&su(n,!!t.multiple,e,!1)}};aE=r_;lE=Ua;var Ak={usingClientEntryPoint:!1,Events:[$f,Hl,qm,sE,oE,r_]},pc={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ck={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=fE(n),n===null?null:n.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{Gm=Oh.inject(Ck),Xr=Oh}catch{}}Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ak;Hi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f_(e))throw Error(Me(200));return bk(n,e,null,t)};Hi.createRoot=function(n,e){if(!f_(n))throw Error(Me(299));var t=!1,i="",r=WA;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=l_(n,1,!1,null,null,t,!1,i,r),n[Ds]=e.current,ff(n.nodeType===8?n.parentNode:n),new c_(e)};Hi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Me(188)):(n=Object.keys(n).join(","),Error(Me(268,n)));return n=fE(e),n=n===null?null:n.stateNode,n};Hi.flushSync=function(n){return Ua(n)};Hi.hydrate=function(n,e,t){if(!ig(e))throw Error(Me(200));return rg(null,n,e,!0,t)};Hi.hydrateRoot=function(n,e,t){if(!f_(n))throw Error(Me(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=WA;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=HA(e,null,n,1,t??null,r,!1,s,o),n[Ds]=e.current,ff(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new ng(e)};Hi.render=function(n,e,t){if(!ig(e))throw Error(Me(200));return rg(null,n,e,!1,t)};Hi.unmountComponentAtNode=function(n){if(!ig(n))throw Error(Me(40));return n._reactRootContainer?(Ua(function(){rg(null,null,n,!1,function(){n._reactRootContainer=null,n[Ds]=null})}),!0):!1};Hi.unstable_batchedUpdates=r_;Hi.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!ig(t))throw Error(Me(200));if(n==null||n._reactInternals===void 0)throw Error(Me(38));return rg(n,e,t,!1,i)};Hi.version="18.3.1-next-f1338f8080-20240426";function GA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GA)}catch(n){console.error(n)}}GA(),GT.exports=Hi;var Pk=GT.exports,xM=Pk;dy.createRoot=xM.createRoot,dy.hydrateRoot=xM.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _f(){return _f=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_f.apply(this,arguments)}var co;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(co||(co={}));const _M="popstate";function Lk(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return s1("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:bm(r)}return Dk(e,t,null,n)}function cn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function jA(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rk(){return Math.random().toString(36).substr(2,8)}function wM(n,e){return{usr:n.state,key:n.key,idx:e}}function s1(n,e,t,i){return t===void 0&&(t=null),_f({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Lu(e):e,{state:t,key:e&&e.key||i||Rk()})}function bm(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Lu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Dk(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=co.Pop,u=null,f=d();f==null&&(f=0,o.replaceState(_f({},o.state,{idx:f}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=co.Pop;let x=d(),_=x==null?null:x-f;f=x,u&&u({action:a,location:y.location,delta:_})}function p(x,_){a=co.Push;let S=s1(y.location,x,_);f=d()+1;let M=wM(S,f),b=y.createHref(S);try{o.pushState(M,"",b)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(b)}s&&u&&u({action:a,location:y.location,delta:1})}function g(x,_){a=co.Replace;let S=s1(y.location,x,_);f=d();let M=wM(S,f),b=y.createHref(S);o.replaceState(M,"",b),s&&u&&u({action:a,location:y.location,delta:0})}function v(x){let _=r.location.origin!=="null"?r.location.origin:r.location.href,S=typeof x=="string"?x:bm(x);return S=S.replace(/ $/,"%20"),cn(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let y={get action(){return a},get location(){return n(r,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(_M,h),u=x,()=>{r.removeEventListener(_M,h),u=null}},createHref(x){return e(r,x)},createURL:v,encodeLocation(x){let _=v(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(x){return o.go(x)}};return y}var SM;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(SM||(SM={}));function kk(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?Lu(e):e,r=xu(i.pathname||"/",t);if(r==null)return null;let s=XA(n);Ik(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=jk(r);o=Wk(s[a],u)}return o}function XA(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(cn(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let f=wo([i,u.relativePath]),d=t.concat(u);s.children&&s.children.length>0&&(cn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),XA(s.children,e,d,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:Vk(f,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let u of YA(s.path))r(s,o,u)}),e}function YA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=YA(i.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&a.push(...o),a.map(u=>n.startsWith("/")&&u===""?"/":u)}function Ik(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Hk(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const Nk=/^:[\w-]+$/,zk=3,Ok=2,Fk=1,Bk=10,Uk=-2,MM=n=>n==="*";function Vk(n,e){let t=n.split("/"),i=t.length;return t.some(MM)&&(i+=Uk),e&&(i+=Ok),t.filter(r=>!MM(r)).reduce((r,s)=>r+(Nk.test(s)?zk:s===""?Fk:Bk),i)}function Hk(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Wk(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],u=o===t.length-1,f=r==="/"?e:e.slice(r.length)||"/",d=o1({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},f);if(!d)return null;Object.assign(i,d.params);let h=a.route;s.push({params:i,pathname:wo([r,d.pathname]),pathnameBase:Zk(wo([r,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(r=wo([r,d.pathnameBase]))}return s}function o1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Gk(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((f,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[h];return g&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:n}}function Gk(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),jA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(i.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function jk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jA(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function xu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Xk(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Lu(n):n;return{pathname:t?t.startsWith("/")?t:Yk(t,e):e,search:Jk(i),hash:Kk(r)}}function Yk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function sv(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qA(n,e){let t=qk(n);return e?t.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function ZA(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Lu(n):(r=_f({},n),cn(!r.pathname||!r.pathname.includes("?"),sv("?","pathname","search",r)),cn(!r.pathname||!r.pathname.includes("#"),sv("#","pathname","hash",r)),cn(!r.search||!r.search.includes("#"),sv("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let u=Xk(r,a),f=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}const wo=n=>n.join("/").replace(/\/\/+/g,"/"),Zk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Jk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Kk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Qk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const JA=["post","put","patch","delete"];new Set(JA);const $k=["get",...JA];new Set($k);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(){return wf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wf.apply(this,arguments)}const sg=X.createContext(null),KA=X.createContext(null),zo=X.createContext(null),og=X.createContext(null),Ya=X.createContext({outlet:null,matches:[],isDataRoute:!1}),QA=X.createContext(null);function e6(n,e){let{relative:t}=e===void 0?{}:e;td()||cn(!1);let{basename:i,navigator:r}=X.useContext(zo),{hash:s,pathname:o,search:a}=ag(n,{relative:t}),u=o;return i!=="/"&&(u=o==="/"?i:wo([i,o])),r.createHref({pathname:u,search:a,hash:s})}function td(){return X.useContext(og)!=null}function nd(){return td()||cn(!1),X.useContext(og).location}function $A(n){X.useContext(zo).static||X.useLayoutEffect(n)}function eC(){let{isDataRoute:n}=X.useContext(Ya);return n?h6():t6()}function t6(){td()||cn(!1);let n=X.useContext(sg),{basename:e,future:t,navigator:i}=X.useContext(zo),{matches:r}=X.useContext(Ya),{pathname:s}=nd(),o=JSON.stringify(qA(r,t.v7_relativeSplatPath)),a=X.useRef(!1);return $A(()=>{a.current=!0}),X.useCallback(function(f,d){if(d===void 0&&(d={}),!a.current)return;if(typeof f=="number"){i.go(f);return}let h=ZA(f,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:wo([e,h.pathname])),(d.replace?i.replace:i.push)(h,d.state,d)},[e,i,o,s,n])}function ag(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=X.useContext(zo),{matches:r}=X.useContext(Ya),{pathname:s}=nd(),o=JSON.stringify(qA(r,i.v7_relativeSplatPath));return X.useMemo(()=>ZA(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function n6(n,e){return i6(n,e)}function i6(n,e,t,i){td()||cn(!1);let{navigator:r}=X.useContext(zo),{matches:s}=X.useContext(Ya),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let f=nd(),d;if(e){var h;let x=typeof e=="string"?Lu(e):e;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||cn(!1),d=x}else d=f;let p=d.pathname||"/",g=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=kk(n,{pathname:g}),y=l6(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:wo([u,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:wo([u,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,t,i);return e&&y?X.createElement(og.Provider,{value:{location:wf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:co.Pop}},y):y}function r6(){let n=d6(),e=Qk(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),t?X.createElement("pre",{style:r},t):null,null)}const s6=X.createElement(r6,null);class o6 extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?X.createElement(Ya.Provider,{value:this.props.routeContext},X.createElement(QA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a6(n){let{routeContext:e,match:t,children:i}=n,r=X.useContext(sg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(Ya.Provider,{value:e},i)}function l6(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||cn(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,f=-1;if(t&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=d),h.route.id){let{loaderData:p,errors:g}=t,v=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let g,v=!1,y=null,x=null;t&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||s6,u&&(f<0&&p===0?(v=!0,x=null):f===p&&(v=!0,x=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),S=()=>{let M;return g?M=y:v?M=x:h.route.Component?M=X.createElement(h.route.Component,null):h.route.element?M=h.route.element:M=d,X.createElement(a6,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:t!=null},children:M})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?X.createElement(o6,{location:t.location,revalidation:t.revalidation,component:y,error:g,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}var tC=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(tC||{}),Tm=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Tm||{});function u6(n){let e=X.useContext(sg);return e||cn(!1),e}function c6(n){let e=X.useContext(KA);return e||cn(!1),e}function f6(n){let e=X.useContext(Ya);return e||cn(!1),e}function nC(n){let e=f6(),t=e.matches[e.matches.length-1];return t.route.id||cn(!1),t.route.id}function d6(){var n;let e=X.useContext(QA),t=c6(Tm.UseRouteError),i=nC(Tm.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function h6(){let{router:n}=u6(tC.UseNavigateStable),e=nC(Tm.UseNavigateStable),t=X.useRef(!1);return $A(()=>{t.current=!0}),X.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,wf({fromRouteId:e},s)))},[n,e])}function vs(n){cn(!1)}function p6(n){let{basename:e="/",children:t=null,location:i,navigationType:r=co.Pop,navigator:s,static:o=!1,future:a}=n;td()&&cn(!1);let u=e.replace(/^\/*/,"/"),f=X.useMemo(()=>({basename:u,navigator:s,static:o,future:wf({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof i=="string"&&(i=Lu(i));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:v="default"}=i,y=X.useMemo(()=>{let x=xu(d,u);return x==null?null:{location:{pathname:x,search:h,hash:p,state:g,key:v},navigationType:r}},[u,d,h,p,g,v,r]);return y==null?null:X.createElement(zo.Provider,{value:f},X.createElement(og.Provider,{children:t,value:y}))}function m6(n){let{children:e,location:t}=n;return n6(a1(e),t)}new Promise(()=>{});function a1(n,e){e===void 0&&(e=[]);let t=[];return X.Children.forEach(n,(i,r)=>{if(!X.isValidElement(i))return;let s=[...e,r];if(i.type===X.Fragment){t.push.apply(t,a1(i.props.children,s));return}i.type!==vs&&cn(!1),!i.props.index||!i.props.children||cn(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=a1(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Em(){return Em=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Em.apply(this,arguments)}function iC(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function g6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function v6(n,e){return n.button===0&&(!e||e==="_self")&&!g6(n)}const y6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],x6=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],_6="6";try{window.__reactRouterVersion=_6}catch{}const w6=X.createContext({isTransitioning:!1}),S6="startTransition",bM=y5[S6];function M6(n){let{basename:e,children:t,future:i,window:r}=n,s=X.useRef();s.current==null&&(s.current=Lk({window:r,v5Compat:!0}));let o=s.current,[a,u]=X.useState({action:o.action,location:o.location}),{v7_startTransition:f}=i||{},d=X.useCallback(h=>{f&&bM?bM(()=>u(h)):u(h)},[u,f]);return X.useLayoutEffect(()=>o.listen(d),[o,d]),X.createElement(p6,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const b6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rC=X.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:u,to:f,preventScrollReset:d,unstable_viewTransition:h}=e,p=iC(e,y6),{basename:g}=X.useContext(zo),v,y=!1;if(typeof f=="string"&&T6.test(f)&&(v=f,b6))try{let M=new URL(window.location.href),b=f.startsWith("//")?new URL(M.protocol+f):new URL(f),A=xu(b.pathname,g);b.origin===M.origin&&A!=null?f=A+b.search+b.hash:y=!0}catch{}let x=e6(f,{relative:r}),_=A6(f,{replace:o,state:a,target:u,preventScrollReset:d,relative:r,unstable_viewTransition:h});function S(M){i&&i(M),M.defaultPrevented||_(M)}return X.createElement("a",Em({},p,{href:v||x,onClick:y||s?i:S,ref:t,target:u}))}),ov=X.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:u,unstable_viewTransition:f,children:d}=e,h=iC(e,x6),p=ag(u,{relative:h.relative}),g=nd(),v=X.useContext(KA),{navigator:y,basename:x}=X.useContext(zo),_=v!=null&&C6(p)&&f===!0,S=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,M=g.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(M=M.toLowerCase(),b=b?b.toLowerCase():null,S=S.toLowerCase()),b&&x&&(b=xu(b,x)||b);const A=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let P=M===S||!o&&M.startsWith(S)&&M.charAt(A)==="/",D=b!=null&&(b===S||!o&&b.startsWith(S)&&b.charAt(S.length)==="/"),E={isActive:P,isPending:D,isTransitioning:_},R=P?i:void 0,I;typeof s=="function"?I=s(E):I=[s,P?"active":null,D?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(E):a;return X.createElement(rC,Em({},h,{"aria-current":R,className:I,ref:t,style:F,to:u,unstable_viewTransition:f}),typeof d=="function"?d(E):d)});var l1;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(l1||(l1={}));var TM;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(TM||(TM={}));function E6(n){let e=X.useContext(sg);return e||cn(!1),e}function A6(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=eC(),f=nd(),d=ag(n,{relative:o});return X.useCallback(h=>{if(v6(h,t)){h.preventDefault();let p=i!==void 0?i:bm(f)===bm(d);u(n,{replace:p,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[f,u,d,i,r,t,n,s,o,a])}function C6(n,e){e===void 0&&(e={});let t=X.useContext(w6);t==null&&cn(!1);let{basename:i}=E6(l1.useViewTransitionState),r=ag(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=xu(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=xu(t.nextLocation.pathname,i)||t.nextLocation.pathname;return o1(r.pathname,o)!=null||o1(r.pathname,s)!=null}var sC={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(n5,function(){return function(t){function i(s){if(r[s])return r[s].exports;var o=r[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}var r={};return i.m=t,i.c=r,i.p="dist/",i(0)}([function(t,i,r){function s(W){return W&&W.__esModule?W:{default:W}}var o=Object.assign||function(W){for(var $=1;$<arguments.length;$++){var se=arguments[$];for(var ae in se)Object.prototype.hasOwnProperty.call(se,ae)&&(W[ae]=se[ae])}return W},a=r(1),u=(s(a),r(6)),f=s(u),d=r(7),h=s(d),p=r(8),g=s(p),v=r(9),y=s(v),x=r(10),_=s(x),S=r(11),M=s(S),b=r(14),A=s(b),P=[],D=!1,E={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},R=function(){var W=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(W&&(D=!0),D)return P=(0,M.default)(P,E),(0,_.default)(P,E.once),P},I=function(){P=(0,A.default)(),R()},F=function(){P.forEach(function(W,$){W.node.removeAttribute("data-aos"),W.node.removeAttribute("data-aos-easing"),W.node.removeAttribute("data-aos-duration"),W.node.removeAttribute("data-aos-delay")})},j=function(W){return W===!0||W==="mobile"&&y.default.mobile()||W==="phone"&&y.default.phone()||W==="tablet"&&y.default.tablet()||typeof W=="function"&&W()===!0},Y=function(W){E=o(E,W),P=(0,A.default)();var $=document.all&&!window.atob;return j(E.disable)||$?F():(E.disableMutationObserver||g.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),E.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",E.easing),document.querySelector("body").setAttribute("data-aos-duration",E.duration),document.querySelector("body").setAttribute("data-aos-delay",E.delay),E.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?R(!0):E.startEvent==="load"?window.addEventListener(E.startEvent,function(){R(!0)}):document.addEventListener(E.startEvent,function(){R(!0)}),window.addEventListener("resize",(0,h.default)(R,E.debounceDelay,!0)),window.addEventListener("orientationchange",(0,h.default)(R,E.debounceDelay,!0)),window.addEventListener("scroll",(0,f.default)(function(){(0,_.default)(P,E.once)},E.throttleDelay)),E.disableMutationObserver||g.default.ready("[data-aos]",I),P)};t.exports={init:Y,refresh:R,refreshHard:I}},function(t,i){},,,,,function(t,i){(function(r){function s(j,Y,W){function $(ye){var De=ue,Ae=xe;return ue=xe=void 0,Te=ye,be=j.apply(Ae,De)}function se(ye){return Te=ye,Pe=setTimeout(H,Y),Ge?$(ye):be}function ae(ye){var De=ye-ke,Ae=ye-Te,nt=Y-De;return he?I(nt,K-Ae):nt}function k(ye){var De=ye-ke,Ae=ye-Te;return ke===void 0||De>=Y||De<0||he&&Ae>=K}function H(){var ye=F();return k(ye)?V(ye):void(Pe=setTimeout(H,ae(ye)))}function V(ye){return Pe=void 0,ie&&ue?$(ye):(ue=xe=void 0,be)}function te(){Pe!==void 0&&clearTimeout(Pe),Te=0,ue=ke=xe=Pe=void 0}function G(){return Pe===void 0?be:V(F())}function fe(){var ye=F(),De=k(ye);if(ue=arguments,xe=this,ke=ye,De){if(Pe===void 0)return se(ke);if(he)return Pe=setTimeout(H,Y),$(ke)}return Pe===void 0&&(Pe=setTimeout(H,Y)),be}var ue,xe,K,be,Pe,ke,Te=0,Ge=!1,he=!1,ie=!0;if(typeof j!="function")throw new TypeError(p);return Y=d(Y)||0,a(W)&&(Ge=!!W.leading,he="maxWait"in W,K=he?R(d(W.maxWait)||0,Y):K,ie="trailing"in W?!!W.trailing:ie),fe.cancel=te,fe.flush=G,fe}function o(j,Y,W){var $=!0,se=!0;if(typeof j!="function")throw new TypeError(p);return a(W)&&($="leading"in W?!!W.leading:$,se="trailing"in W?!!W.trailing:se),s(j,Y,{leading:$,maxWait:Y,trailing:se})}function a(j){var Y=typeof j>"u"?"undefined":h(j);return!!j&&(Y=="object"||Y=="function")}function u(j){return!!j&&(typeof j>"u"?"undefined":h(j))=="object"}function f(j){return(typeof j>"u"?"undefined":h(j))=="symbol"||u(j)&&E.call(j)==v}function d(j){if(typeof j=="number")return j;if(f(j))return g;if(a(j)){var Y=typeof j.valueOf=="function"?j.valueOf():j;j=a(Y)?Y+"":Y}if(typeof j!="string")return j===0?j:+j;j=j.replace(y,"");var W=_.test(j);return W||S.test(j)?M(j.slice(2),W?2:8):x.test(j)?g:+j}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},p="Expected a function",g=NaN,v="[object Symbol]",y=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,S=/^0o[0-7]+$/i,M=parseInt,b=(typeof r>"u"?"undefined":h(r))=="object"&&r&&r.Object===Object&&r,A=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,P=b||A||Function("return this")(),D=Object.prototype,E=D.toString,R=Math.max,I=Math.min,F=function(){return P.Date.now()};t.exports=o}).call(i,function(){return this}())},function(t,i){(function(r){function s(F,j,Y){function W(ie){var ye=fe,De=ue;return fe=ue=void 0,ke=ie,K=F.apply(De,ye)}function $(ie){return ke=ie,be=setTimeout(k,j),Te?W(ie):K}function se(ie){var ye=ie-Pe,De=ie-ke,Ae=j-ye;return Ge?R(Ae,xe-De):Ae}function ae(ie){var ye=ie-Pe,De=ie-ke;return Pe===void 0||ye>=j||ye<0||Ge&&De>=xe}function k(){var ie=I();return ae(ie)?H(ie):void(be=setTimeout(k,se(ie)))}function H(ie){return be=void 0,he&&fe?W(ie):(fe=ue=void 0,K)}function V(){be!==void 0&&clearTimeout(be),ke=0,fe=Pe=ue=be=void 0}function te(){return be===void 0?K:H(I())}function G(){var ie=I(),ye=ae(ie);if(fe=arguments,ue=this,Pe=ie,ye){if(be===void 0)return $(Pe);if(Ge)return be=setTimeout(k,j),W(Pe)}return be===void 0&&(be=setTimeout(k,j)),K}var fe,ue,xe,K,be,Pe,ke=0,Te=!1,Ge=!1,he=!0;if(typeof F!="function")throw new TypeError(h);return j=f(j)||0,o(Y)&&(Te=!!Y.leading,Ge="maxWait"in Y,xe=Ge?E(f(Y.maxWait)||0,j):xe,he="trailing"in Y?!!Y.trailing:he),G.cancel=V,G.flush=te,G}function o(F){var j=typeof F>"u"?"undefined":d(F);return!!F&&(j=="object"||j=="function")}function a(F){return!!F&&(typeof F>"u"?"undefined":d(F))=="object"}function u(F){return(typeof F>"u"?"undefined":d(F))=="symbol"||a(F)&&D.call(F)==g}function f(F){if(typeof F=="number")return F;if(u(F))return p;if(o(F)){var j=typeof F.valueOf=="function"?F.valueOf():F;F=o(j)?j+"":j}if(typeof F!="string")return F===0?F:+F;F=F.replace(v,"");var Y=x.test(F);return Y||_.test(F)?S(F.slice(2),Y?2:8):y.test(F)?p:+F}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},h="Expected a function",p=NaN,g="[object Symbol]",v=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,_=/^0o[0-7]+$/i,S=parseInt,M=(typeof r>"u"?"undefined":d(r))=="object"&&r&&r.Object===Object&&r,b=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,A=M||b||Function("return this")(),P=Object.prototype,D=P.toString,E=Math.max,R=Math.min,I=function(){return A.Date.now()};t.exports=s}).call(i,function(){return this}())},function(t,i){function r(d){var h=void 0,p=void 0;for(h=0;h<d.length;h+=1)if(p=d[h],p.dataset&&p.dataset.aos||p.children&&r(p.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!s()}function a(d,h){var p=window.document,g=s(),v=new g(u);f=h,v.observe(p.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function u(d){d&&d.forEach(function(h){var p=Array.prototype.slice.call(h.addedNodes),g=Array.prototype.slice.call(h.removedNodes),v=p.concat(g);if(r(v))return f()})}Object.defineProperty(i,"__esModule",{value:!0});var f=function(){};i.default={isSupported:o,ready:a}},function(t,i){function r(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function p(g,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,v,y){return v&&p(g.prototype,v),y&&p(g,y),g}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=function(){function p(){r(this,p)}return o(p,[{key:"phone",value:function(){var g=s();return!(!a.test(g)&&!u.test(g.substr(0,4)))}},{key:"mobile",value:function(){var g=s();return!(!f.test(g)&&!d.test(g.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),p}();i.default=new h},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var r=function(o,a,u){var f=o.node.getAttribute("data-aos-once");a>o.position?o.node.classList.add("aos-animate"):typeof f<"u"&&(f==="false"||!u&&f!=="true")&&o.node.classList.remove("aos-animate")},s=function(o,a){var u=window.pageYOffset,f=window.innerHeight;o.forEach(function(d,h){r(d,f+u,a)})};i.default=s},function(t,i,r){function s(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(i,"__esModule",{value:!0});var o=r(12),a=s(o),u=function(f,d){return f.forEach(function(h,p){h.node.classList.add("aos-init"),h.position=(0,a.default)(h.node,d.offset)}),f};i.default=u},function(t,i,r){function s(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(i,"__esModule",{value:!0});var o=r(13),a=s(o),u=function(f,d){var h=0,p=0,g=window.innerHeight,v={offset:f.getAttribute("data-aos-offset"),anchor:f.getAttribute("data-aos-anchor"),anchorPlacement:f.getAttribute("data-aos-anchor-placement")};switch(v.offset&&!isNaN(v.offset)&&(p=parseInt(v.offset)),v.anchor&&document.querySelectorAll(v.anchor)&&(f=document.querySelectorAll(v.anchor)[0]),h=(0,a.default)(f).top,v.anchorPlacement){case"top-bottom":break;case"center-bottom":h+=f.offsetHeight/2;break;case"bottom-bottom":h+=f.offsetHeight;break;case"top-center":h+=g/2;break;case"bottom-center":h+=g/2+f.offsetHeight;break;case"center-center":h+=g/2+f.offsetHeight/2;break;case"top-top":h+=g;break;case"bottom-top":h+=f.offsetHeight+g;break;case"center-top":h+=f.offsetHeight/2+g}return v.anchorPlacement||v.offset||isNaN(d)||(p=d),h+p};i.default=u},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var r=function(s){for(var o=0,a=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)o+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),a+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:a,left:o}};i.default=r},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var r=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(o){return{node:o}})};i.default=r}])})})(sC);var P6=sC.exports;const ai=Hm(P6),oC=X.createContext({});function L6(n){const e=X.useRef(null);return e.current===null&&(e.current=n()),e.current}const d_=typeof window<"u",R6=d_?X.useLayoutEffect:X.useEffect,h_=X.createContext(null),aC=X.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function D6(n=!0){const e=X.useContext(h_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,s=X.useId();X.useEffect(()=>{if(n)return r(s)},[n]);const o=X.useCallback(()=>n&&i&&i(s),[s,i,n]);return!t&&i?[!1,o]:[!0]}function p_(n,e){n.indexOf(e)===-1&&n.push(e)}function m_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let u1=()=>{};const c1={skipAnimations:!1,useManualTiming:!1};function g_(n){let e;return()=>(e===void 0&&(e=n()),e)}const fr=n=>n,Sf=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class v_{constructor(){this.subscriptions=[]}add(e){return p_(this.subscriptions,e),()=>m_(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qr=n=>n*1e3,Zr=n=>n/1e3;function lC(n,e){return e?n*(1e3/e):0}const k6=g_(()=>window.ScrollTimeline!==void 0);class I6{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(r=>{if(k6()&&r.attachTimeline)return r.attachTimeline(e);if(typeof t=="function")return t(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class N6 extends I6{then(e,t){return this.finished.finally(e).then(()=>{})}}const EM={value:null,addProjectionMetrics:null},y_=n=>Array.isArray(n)&&typeof n[0]=="number",z6={};function O6(n,e){const t=g_(n);return()=>z6[e]??t()}const Mf=O6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uC=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)i+=n(s/(r-1))+", ";return`linear(${i.substring(0,i.length-2)})`},Nc=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,f1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nc([0,.65,.55,1]),circOut:Nc([.55,0,1,.45]),backIn:Nc([.31,.01,.66,-.59]),backOut:Nc([.33,1.53,.69,.99])};function cC(n,e){if(n)return typeof n=="function"&&Mf()?uC(n,e):y_(n)?Nc(n):Array.isArray(n)?n.map(t=>cC(t,e)||f1.easeOut):f1[n]}function F6(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:u}={},f=void 0){const d={[e]:t};u&&(d.offset=u);const h=cC(a,r);return Array.isArray(h)&&(d.easing=h),n.animate(d,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal",pseudoElement:f})}function x_(n){return typeof n=="function"&&"applyToOptions"in n}function __(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const Am=2e4;function w_(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Am;)e+=t,i=n.next(e);return e>=Am?1/0:e}function B6(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(w_(i),Am);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:Zr(r)}}function fC(n){return!!(typeof n=="function"&&Mf()||!n||typeof n=="string"&&(n in f1||Mf())||y_(n)||Array.isArray(n)&&n.every(fC))}function AM(n,e){n.timeline=e,n.onfinish=null}const Fh=["read","resolveKeyframes","update","preRender","render","postRender"];function U6(n,e){let t=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},u=0;function f(h){o.has(h)&&(d.schedule(h),n()),u++,h(a)}const d={schedule:(h,p=!1,g=!1)=>{const y=g&&r?t:i;return p&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{i.delete(h),o.delete(h)},process:h=>{if(a=h,r){s=!0;return}r=!0,[t,i]=[i,t],t.forEach(f),e&&EM.value&&EM.value.frameloop[e].push(u),u=0,t.clear(),r=!1,s&&(s=!1,d.process(h))}};return d}const V6=40;function dC(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Fh.reduce((_,S)=>(_[S]=U6(s,e?S:void 0),_),{}),{read:a,resolveKeyframes:u,update:f,preRender:d,render:h,postRender:p}=o,g=()=>{const _=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(_-r.timestamp,V6),1),r.timestamp=_,r.isProcessing=!0,a.process(r),u.process(r),f.process(r),d.process(r),h.process(r),p.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(g))},v=()=>{t=!0,i=!0,r.isProcessing||n(g)};return{schedule:Fh.reduce((_,S)=>{const M=o[S];return _[S]=(b,A=!1,P=!1)=>(t||v(),M.schedule(b,A,P)),_},{}),cancel:_=>{for(let S=0;S<Fh.length;S++)o[Fh[S]].cancel(_)},state:r,steps:o}}const{schedule:S_,cancel:xj}=dC(queueMicrotask,!1),{schedule:Gt,cancel:Eo,state:Vn,steps:av}=dC(typeof requestAnimationFrame<"u"?requestAnimationFrame:fr,!0);let Hp;function H6(){Hp=void 0}const Jr={now:()=>(Hp===void 0&&Jr.set(Vn.isProcessing||c1.useManualTiming?Vn.timestamp:performance.now()),Hp),set:n=>{Hp=n,queueMicrotask(H6)}},Sr={x:!1,y:!1};function hC(){return Sr.x||Sr.y}function W6(n){return n==="x"||n==="y"?Sr[n]?null:(Sr[n]=!0,()=>{Sr[n]=!1}):Sr.x||Sr.y?null:(Sr.x=Sr.y=!0,()=>{Sr.x=Sr.y=!1})}function G6(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const r=document.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function pC(n,e){const t=G6(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function CM(n){return!(n.pointerType==="touch"||hC())}function j6(n,e,t={}){const[i,r,s]=pC(n,t),o=a=>{if(!CM(a))return;const{target:u}=a,f=e(u,a);if(typeof f!="function"||!u)return;const d=h=>{CM(h)&&(f(h),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const mC=(n,e)=>e?n===e?!0:mC(n,e.parentElement):!1,M_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,X6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Y6(n){return X6.has(n.tagName)||n.tabIndex!==-1}const zc=new WeakSet;function PM(n){return e=>{e.key==="Enter"&&n(e)}}function lv(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const q6=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=PM(()=>{if(zc.has(t))return;lv(t,"down");const r=PM(()=>{lv(t,"up")}),s=()=>lv(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function LM(n){return M_(n)&&!hC()}function Z6(n,e,t={}){const[i,r,s]=pC(n,t),o=a=>{const u=a.currentTarget;if(!LM(a)||zc.has(u))return;zc.add(u);const f=e(u,a),d=(g,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!LM(g)||!zc.has(u))&&(zc.delete(u),typeof f=="function"&&f(g,{success:v}))},h=g=>{d(g,u===window||u===document||t.useGlobalTarget||mC(u,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",p,r)};return i.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a instanceof HTMLElement&&(a.addEventListener("focus",f=>q6(f,r)),!Y6(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}const RM=30,J6=n=>!isNaN(parseFloat(n));class K6{constructor(e,t={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Jr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Jr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=J6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new v_);const i=this.events[e].add(t);return e==="change"?()=>{i(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>RM)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,RM);return lC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bf(n,e){return new K6(n,e)}const gC=X.createContext({strict:!1}),DM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_u={};for(const n in DM)_u[n]={isEnabled:e=>DM[n].some(t=>!!e[t])};function Q6(n){for(const e in n)_u[e]={..._u[e],...n[e]}}const $6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||$6.has(n)}let vC=n=>!Cm(n);function eI(n){n&&(vC=e=>e.startsWith("on")?!Cm(e):n(e))}try{eI(require("@emotion/is-prop-valid").default)}catch{}function tI(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(vC(r)||t===!0&&Cm(r)||!e&&!Cm(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function nI(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const lg=X.createContext({});function ug(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Tf(n){return typeof n=="string"||Array.isArray(n)}const b_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],T_=["initial",...b_];function cg(n){return ug(n.animate)||T_.some(e=>Tf(n[e]))}function yC(n){return!!(cg(n)||n.variants)}function iI(n,e){if(cg(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Tf(t)?t:void 0,animate:Tf(i)?i:void 0}}return n.inherit!==!1?e:{}}function rI(n){const{initial:e,animate:t}=iI(n,X.useContext(lg));return X.useMemo(()=>({initial:e,animate:t}),[kM(e),kM(t)])}function kM(n){return Array.isArray(n)?n.join(" "):n}const sI=Symbol.for("motionComponentSymbol");function Zl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function oI(n,e,t){return X.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Zl(t)&&(t.current=i))},[e])}const E_=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aI="framerAppearId",xC="data-"+E_(aI),_C=X.createContext({});function lI(n,e,t,i,r){var y,x;const{visualElement:s}=X.useContext(lg),o=X.useContext(gC),a=X.useContext(h_),u=X.useContext(aC).reducedMotion,f=X.useRef(null);i=i||o.renderer,!f.current&&i&&(f.current=i(n,{visualState:e,parent:s,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const d=f.current,h=X.useContext(_C);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&uI(f.current,t,r,h);const p=X.useRef(!1);X.useInsertionEffect(()=>{d&&p.current&&d.update(t,a)});const g=t[xC],v=X.useRef(!!g&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,g))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,g)));return R6(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),S_.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),X.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,g)}),v.current=!1))}),d}function uI(n,e,t,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:f,layoutCrossfade:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:wC(n.parent)),n.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&Zl(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:u,layoutRoot:f})}function wC(n){if(n)return n.options.allowProjection!==!1?n.projection:wC(n.parent)}function cI({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&Q6(n);function s(a,u){let f;const d={...X.useContext(aC),...a,layoutId:fI(a)},{isStatic:h}=d,p=rI(a),g=i(a,h);if(!h&&d_){dI();const v=hI(d);f=v.MeasureLayout,p.visualElement=lI(r,g,d,e,v.ProjectionNode)}return L.jsxs(lg.Provider,{value:p,children:[f&&p.visualElement?L.jsx(f,{visualElement:p.visualElement,...d}):null,t(r,a,oI(g,p.visualElement,u),g,h,p.visualElement)]})}s.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=X.forwardRef(s);return o[sI]=r,o}function fI({layoutId:n}){const e=X.useContext(oC).id;return e&&n!==void 0?e+"-"+n:n}function dI(n,e){X.useContext(gC).strict}function hI(n){const{drag:e,layout:t}=_u;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const SC=n=>e=>typeof e=="string"&&e.startsWith(n),A_=SC("--"),pI=SC("var(--"),C_=n=>pI(n)?mI.test(n.split("/*")[0].trim()):!1,mI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ef={};function gI(n){for(const e in n)Ef[e]=n[e],A_(e)&&(Ef[e].isCSSVariable=!0)}const Ru=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qa=new Set(Ru);function MC(n,{layout:e,layoutId:t}){return qa.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ef[n]||n==="opacity")}const ri=n=>!!(n&&n.getVelocity),bC=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ns=(n,e,t)=>t>e?e:t<n?n:t,Du={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Af={...Du,transform:n=>Ns(0,1,n)},Bh={...Du,default:1},id=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),io=id("deg"),Kr=id("%"),st=id("px"),vI=id("vh"),yI=id("vw"),IM={...Kr,parse:n=>Kr.parse(n)/100,transform:n=>Kr.transform(n*100)},xI={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,backgroundPositionX:st,backgroundPositionY:st},_I={rotate:io,rotateX:io,rotateY:io,rotateZ:io,scale:Bh,scaleX:Bh,scaleY:Bh,scaleZ:Bh,skew:io,skewX:io,skewY:io,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:Af,originX:IM,originY:IM,originZ:st},NM={...Du,transform:Math.round},P_={...xI,..._I,zIndex:NM,size:st,fillOpacity:Af,strokeOpacity:Af,numOctaves:NM},wI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SI=Ru.length;function MI(n,e,t){let i="",r=!0;for(let s=0;s<SI;s++){const o=Ru[s],a=n[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||t){const f=bC(a,P_[o]);if(!u){r=!1;const d=wI[o]||o;i+=`${d}(${f}) `}t&&(e[o]=f)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function L_(n,e,t){const{style:i,vars:r,transformOrigin:s}=n;let o=!1,a=!1;for(const u in e){const f=e[u];if(qa.has(u)){o=!0;continue}else if(A_(u)){r[u]=f;continue}else{const d=bC(f,P_[u]);u.startsWith("origin")?(a=!0,s[u]=d):i[u]=d}}if(e.transform||(o||t?i.transform=MI(e,n.transform,t):i.transform&&(i.transform="none")),a){const{originX:u="50%",originY:f="50%",originZ:d=0}=s;i.transformOrigin=`${u} ${f} ${d}`}}const R_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TC(n,e,t){for(const i in e)!ri(e[i])&&!MC(i,t)&&(n[i]=e[i])}function bI({transformTemplate:n},e){return X.useMemo(()=>{const t=R_();return L_(t,e,n),Object.assign({},t.vars,t.style)},[e])}function TI(n,e){const t=n.style||{},i={};return TC(i,t,n),Object.assign(i,bI(n,e)),i}function EI(n,e){const t={},i=TI(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const AI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D_(n){return typeof n!="string"||n.includes("-")?!1:!!(AI.indexOf(n)>-1||/[A-Z]/u.test(n))}const CI={offset:"stroke-dashoffset",array:"stroke-dasharray"},PI={offset:"strokeDashoffset",array:"strokeDasharray"};function LI(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?CI:PI;n[s.offset]=st.transform(-i);const o=st.transform(e),a=st.transform(t);n[s.array]=`${o} ${a}`}function zM(n,e,t){return typeof n=="string"?n:st.transform(e+t*n)}function RI(n,e,t){const i=zM(e,n.x,n.width),r=zM(t,n.y,n.height);return`${i} ${r}`}function k_(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...f},d,h){if(L_(n,f,h),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:g,dimensions:v}=n;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(r!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=RI(v,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),i!==void 0&&(p.scale=i),o!==void 0&&LI(p,o,a,u,!1)}const EC=()=>({...R_(),attrs:{}}),I_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function DI(n,e,t,i){const r=X.useMemo(()=>{const s=EC();return k_(s,e,I_(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};TC(s,n.style,n),r.style={...s,...r.style}}return r}function kI(n=!1){return(t,i,r,{latestValues:s},o)=>{const u=(D_(t)?DI:EI)(i,s,o,t),f=tI(i,typeof t=="string",n),d=t!==X.Fragment?{...f,...u,ref:r}:{},{children:h}=i,p=X.useMemo(()=>ri(h)?h.get():h,[h]);return X.createElement(t,{...d,children:p})}}function OM(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function N_(n,e,t,i){if(typeof e=="function"){const[r,s]=OM(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=OM(i);e=e(t!==void 0?t:n.custom,r,s)}return e}const d1=n=>Array.isArray(n),II=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),NI=n=>d1(n)?n[n.length-1]||0:n;function Wp(n){const e=ri(n)?n.get():n;return II(e)?e.toValue():e}function zI({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,r,s){const o={latestValues:OI(i,r,s,n),renderState:e()};return t&&(o.onMount=a=>t({props:i,current:a,...o}),o.onUpdate=a=>t(a)),o}const AC=n=>(e,t)=>{const i=X.useContext(lg),r=X.useContext(h_),s=()=>zI(n,e,i,r);return t?s():L6(s)};function OI(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=Wp(s[p]);let{initial:o,animate:a}=n;const u=cg(n),f=yC(n);e&&f&&!u&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!ug(h)){const p=Array.isArray(h)?h:[h];for(let g=0;g<p.length;g++){const v=N_(n,p[g]);if(v){const{transitionEnd:y,transition:x,..._}=v;for(const S in _){let M=_[S];if(Array.isArray(M)){const b=d?M.length-1:0;M=M[b]}M!==null&&(r[S]=M)}for(const S in y)r[S]=y[S]}}}return r}function z_(n,e,t){var s;const{style:i}=n,r={};for(const o in i)(ri(i[o])||e.style&&ri(e.style[o])||MC(o,n)||((s=t==null?void 0:t.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(r[o]=i[o]);return r}const FI={useVisualState:AC({scrapeMotionValuesFromProps:z_,createRenderState:R_})};function CC(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function PC(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const LC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RC(n,e,t,i){PC(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(LC.has(r)?r:E_(r),e.attrs[r])}function DC(n,e,t){const i=z_(n,e,t);for(const r in n)if(ri(n[r])||ri(e[r])){const s=Ru.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}const FM=["x","y","width","height","cx","cy","r"],BI={useVisualState:AC({scrapeMotionValuesFromProps:DC,createRenderState:EC,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:r})=>{if(!t)return;let s=!!n.drag;if(!s){for(const a in r)if(qa.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<FM.length;a++){const u=FM[a];n[u]!==e[u]&&(o=!0)}o&&Gt.read(()=>{CC(t,i),Gt.render(()=>{k_(i,r,I_(t.tagName),n.transformTemplate),RC(t,i)})})}})};function UI(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...D_(i)?BI:FI,preloadedFeatures:n,useRender:kI(r),createVisualElement:e,Component:i};return cI(o)}}function Cf(n,e,t){const i=n.getProps();return N_(i,e,t!==void 0?t:i.custom,n)}const kC=new Set(["width","height","top","left","right","bottom",...Ru]);function VI(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,bf(t))}function HI(n,e){const t=Cf(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const o in s){const a=NI(s[o]);VI(n,o,a)}}function WI(n){return!!(ri(n)&&n.add)}function h1(n,e){const t=n.getValue("willChange");if(WI(t))return t.add(e);if(!t&&c1.WillChange){const i=new c1.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function IC(n){return n.props[xC]}const NC=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,GI=1e-7,jI=12;function XI(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=NC(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>GI&&++a<jI);return o}function rd(n,e,t,i){if(n===e&&t===i)return fr;const r=s=>XI(s,0,1,n,t);return s=>s===0||s===1?s:NC(r(s),e,i)}const zC=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,OC=n=>e=>1-n(1-e),FC=rd(.33,1.53,.69,.99),O_=OC(FC),BC=zC(O_),UC=n=>(n*=2)<1?.5*O_(n):.5*(2-Math.pow(2,-10*(n-1))),F_=n=>1-Math.sin(Math.acos(n)),VC=OC(F_),HC=zC(F_),WC=n=>/^0[^.\s]+$/u.test(n);function YI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||WC(n):!0}const Yc=n=>Math.round(n*1e5)/1e5,B_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qI(n){return n==null}const ZI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,U_=(n,e)=>t=>!!(typeof t=="string"&&ZI.test(t)&&t.startsWith(n)||e&&!qI(t)&&Object.prototype.hasOwnProperty.call(t,e)),GC=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(B_);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},JI=n=>Ns(0,255,n),uv={...Du,transform:n=>Math.round(JI(n))},_a={test:U_("rgb","red"),parse:GC("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+uv.transform(n)+", "+uv.transform(e)+", "+uv.transform(t)+", "+Yc(Af.transform(i))+")"};function KI(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const p1={test:U_("#"),parse:KI,transform:_a.transform},Jl={test:U_("hsl","hue"),parse:GC("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Kr.transform(Yc(e))+", "+Kr.transform(Yc(t))+", "+Yc(Af.transform(i))+")"},ti={test:n=>_a.test(n)||p1.test(n)||Jl.test(n),parse:n=>_a.test(n)?_a.parse(n):Jl.test(n)?Jl.parse(n):p1.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?_a.transform(n):Jl.transform(n)},QI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $I(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(B_))==null?void 0:e.length)||0)+(((t=n.match(QI))==null?void 0:t.length)||0)>0}const jC="number",XC="color",eN="var",tN="var(",BM="${}",nN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pf(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(nN,u=>(ti.test(u)?(i.color.push(s),r.push(XC),t.push(ti.parse(u))):u.startsWith(tN)?(i.var.push(s),r.push(eN),t.push(u)):(i.number.push(s),r.push(jC),t.push(parseFloat(u))),++s,BM)).split(BM);return{values:t,split:a,indexes:i,types:r}}function YC(n){return Pf(n).values}function qC(n){const{split:e,types:t}=Pf(n),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=t[o];a===jC?s+=Yc(r[o]):a===XC?s+=ti.transform(r[o]):s+=r[o]}return s}}const iN=n=>typeof n=="number"?0:n;function rN(n){const e=YC(n);return qC(n)(e.map(iN))}const Ao={test:$I,parse:YC,createTransformer:qC,getAnimatableNone:rN},sN=new Set(["brightness","contrast","saturate","opacity"]);function oN(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(B_)||[];if(!i)return n;const r=t.replace(i,"");let s=sN.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const aN=/\b([a-z-]*)\(.*?\)/gu,m1={...Ao,getAnimatableNone:n=>{const e=n.match(aN);return e?e.map(oN).join(" "):n}},lN={...P_,color:ti,backgroundColor:ti,outlineColor:ti,fill:ti,stroke:ti,borderColor:ti,borderTopColor:ti,borderRightColor:ti,borderBottomColor:ti,borderLeftColor:ti,filter:m1,WebkitFilter:m1},ZC=n=>lN[n];function JC(n,e){let t=ZC(n);return t!==m1&&(t=Ao),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const uN=new Set(["auto","none","0"]);function cN(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!uN.has(s)&&Pf(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=JC(t,r)}const wa=n=>n*180/Math.PI,g1=n=>{const e=wa(Math.atan2(n[1],n[0]));return v1(e)},fN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:g1,rotateZ:g1,skewX:n=>wa(Math.atan(n[1])),skewY:n=>wa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},v1=n=>(n=n%360,n<0&&(n+=360),n),UM=g1,VM=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),HM=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),dN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:VM,scaleY:HM,scale:n=>(VM(n)+HM(n))/2,rotateX:n=>v1(wa(Math.atan2(n[6],n[5]))),rotateY:n=>v1(wa(Math.atan2(-n[2],n[0]))),rotateZ:UM,rotate:UM,skewX:n=>wa(Math.atan(n[4])),skewY:n=>wa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function WM(n){return n.includes("scale")?1:0}function y1(n,e){if(!n||n==="none")return WM(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=dN,r=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=fN,r=a}if(!r)return WM(e);const s=i[e],o=r[1].split(",").map(pN);return typeof s=="function"?s(o):o[s]}const hN=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return y1(t,e)};function pN(n){return parseFloat(n.trim())}const GM=n=>n===Du||n===st,mN=new Set(["x","y","z"]),gN=Ru.filter(n=>!mN.has(n));function vN(n){const e=[];return gN.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const wu={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>y1(e,"x"),y:(n,{transform:e})=>y1(e,"y")};wu.translateX=wu.x;wu.translateY=wu.y;const Pa=new Set;let x1=!1,_1=!1;function KC(){if(_1){const n=Array.from(Pa).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=vN(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))==null||a.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}_1=!1,x1=!1,Pa.forEach(n=>n.complete()),Pa.clear()}function QC(){Pa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(_1=!0)})}function yN(){QC(),KC()}class V_{constructor(e,t,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Pa.add(this),x1||(x1=!0,Gt.read(QC),Gt.resolveKeyframes(KC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const u=i.readValue(t,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Pa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Pa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $C=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),xN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _N(n){const e=xN.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function eP(n,e,t=1){const[i,r]=_N(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return $C(o)?parseFloat(o):o}return C_(r)?eP(r,e,t+1):r}const tP=n=>e=>e.test(n),wN={test:n=>n==="auto",parse:n=>n},nP=[Du,st,Kr,io,yI,vI,wN],jM=n=>nP.find(tP(n));class iP extends V_{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),C_(f))){const d=eP(f,t.current);d!==void 0&&(e[u]=d),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!kC.has(i)||e.length!==2)return;const[r,s]=e,o=jM(r),a=jM(s);if(o!==a)if(GM(o)&&GM(a))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)YI(e[r])&&i.push(r);i.length&&cN(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wu[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=wu[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}const XM=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ao.test(n)||n==="0")&&!n.startsWith("url("));function SN(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function MN(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=XM(r,e),a=XM(s,e);return!o||!a?!1:SN(n)||(t==="spring"||x_(t))&&i}const bN=n=>n!==null;function fg(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(bN),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const TN=40;class rP{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Jr.now(),this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>TN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&yN(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Jr.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:u,isGenerator:f}=this.options;if(!f&&!MN(e,i,r,s))if(o)this.options.duration=0;else{u&&u(fg(e,this.options,t)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,t);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...d},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const $t=(n,e,t)=>n+(e-n)*t;function cv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function EN({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,u=2*t-a;r=cv(u,a,n+1/3),s=cv(u,a,n),o=cv(u,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Pm(n,e){return t=>t>0?e:n}const fv=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},AN=[p1,_a,Jl],CN=n=>AN.find(e=>e.test(n));function YM(n){const e=CN(n);if(!e)return!1;let t=e.parse(n);return e===Jl&&(t=EN(t)),t}const qM=(n,e)=>{const t=YM(n),i=YM(e);if(!t||!i)return Pm(n,e);const r={...t};return s=>(r.red=fv(t.red,i.red,s),r.green=fv(t.green,i.green,s),r.blue=fv(t.blue,i.blue,s),r.alpha=$t(t.alpha,i.alpha,s),_a.transform(r))},PN=(n,e)=>t=>e(n(t)),sd=(...n)=>n.reduce(PN),w1=new Set(["none","hidden"]);function LN(n,e){return w1.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function RN(n,e){return t=>$t(n,e,t)}function H_(n){return typeof n=="number"?RN:typeof n=="string"?C_(n)?Pm:ti.test(n)?qM:IN:Array.isArray(n)?sP:typeof n=="object"?ti.test(n)?qM:DN:Pm}function sP(n,e){const t=[...n],i=t.length,r=n.map((s,o)=>H_(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}}function DN(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=H_(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function kN(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=n.indexes[s][i[s]],a=n.values[o]??0;t[r]=a,i[s]++}return t}const IN=(n,e)=>{const t=Ao.createTransformer(e),i=Pf(n),r=Pf(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?w1.has(n)&&!r.values.length||w1.has(e)&&!i.values.length?LN(n,e):sd(sP(kN(i,r),r.values),t):Pm(n,e)};function oP(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?$t(n,e,t):H_(n)(n,e)}const NN=5;function aP(n,e,t){const i=Math.max(e-NN,0);return lC(t-n(i),e-i)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dv=.001;function zN({duration:n=ln.duration,bounce:e=ln.bounce,velocity:t=ln.velocity,mass:i=ln.mass}){let r,s,o=1-e;o=Ns(ln.minDamping,ln.maxDamping,o),n=Ns(ln.minDuration,ln.maxDuration,Zr(n)),o<1?(r=f=>{const d=f*o,h=d*n,p=d-t,g=S1(f,o),v=Math.exp(-h);return dv-p/g*v},s=f=>{const h=f*o*n,p=h*t+t,g=Math.pow(o,2)*Math.pow(f,2)*n,v=Math.exp(-h),y=S1(Math.pow(f,2),o);return(-r(f)+dv>0?-1:1)*((p-g)*v)/y}):(r=f=>{const d=Math.exp(-f*n),h=(f-t)*n+1;return-dv+d*h},s=f=>{const d=Math.exp(-f*n),h=(t-f)*(n*n);return d*h});const a=5/n,u=FN(r,s,a);if(n=qr(n),isNaN(u))return{stiffness:ln.stiffness,damping:ln.damping,duration:n};{const f=Math.pow(u,2)*i;return{stiffness:f,damping:o*2*Math.sqrt(i*f),duration:n}}}const ON=12;function FN(n,e,t){let i=t;for(let r=1;r<ON;r++)i=i-n(i)/e(i);return i}function S1(n,e){return n*Math.sqrt(1-e*e)}const BN=["duration","bounce"],UN=["stiffness","damping","mass"];function ZM(n,e){return e.some(t=>n[t]!==void 0)}function VN(n){let e={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...n};if(!ZM(n,UN)&&ZM(n,BN))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,s=2*Ns(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:ln.mass,stiffness:r,damping:s}}else{const t=zN(n);e={...e,...t,mass:ln.mass},e.isResolvedFromDuration=!0}return e}function Lm(n=ln.visualDuration,e=ln.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:u,damping:f,mass:d,duration:h,velocity:p,isResolvedFromDuration:g}=VN({...t,velocity:-Zr(t.velocity||0)}),v=p||0,y=f/(2*Math.sqrt(u*d)),x=o-s,_=Zr(Math.sqrt(u/d)),S=Math.abs(x)<5;i||(i=S?ln.restSpeed.granular:ln.restSpeed.default),r||(r=S?ln.restDelta.granular:ln.restDelta.default);let M;if(y<1){const A=S1(_,y);M=P=>{const D=Math.exp(-y*_*P);return o-D*((v+y*_*x)/A*Math.sin(A*P)+x*Math.cos(A*P))}}else if(y===1)M=A=>o-Math.exp(-_*A)*(x+(v+_*x)*A);else{const A=_*Math.sqrt(y*y-1);M=P=>{const D=Math.exp(-y*_*P),E=Math.min(A*P,300);return o-D*((v+y*_*x)*Math.sinh(E)+A*x*Math.cosh(E))/A}}const b={calculatedDuration:g&&h||null,next:A=>{const P=M(A);if(g)a.done=A>=h;else{let D=0;y<1&&(D=A===0?qr(v):aP(M,A,P));const E=Math.abs(D)<=i,R=Math.abs(o-P)<=r;a.done=E&&R}return a.value=a.done?o:P,a},toString:()=>{const A=Math.min(w_(b),Am),P=uC(D=>b.next(A*D).value,A,30);return A+"ms "+P},toTransition:()=>{}};return b}Lm.applyToOptions=n=>{const e=B6(n,100,Lm);return n.ease=Mf()?e.ease:"easeOut",n.duration=qr(e.duration),n.type="keyframes",n};function JM({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:f=.5,restSpeed:d}){const h=n[0],p={done:!1,value:h},g=E=>a!==void 0&&E<a||u!==void 0&&E>u,v=E=>a===void 0?u:u===void 0||Math.abs(a-E)<Math.abs(u-E)?a:u;let y=t*e;const x=h+y,_=o===void 0?x:o(x);_!==x&&(y=_-h);const S=E=>-y*Math.exp(-E/i),M=E=>_+S(E),b=E=>{const R=S(E),I=M(E);p.done=Math.abs(R)<=f,p.value=p.done?_:I};let A,P;const D=E=>{g(p.value)&&(A=E,P=Lm({keyframes:[p.value,v(p.value)],velocity:aP(M,E,p.value),damping:r,stiffness:s,restDelta:f,restSpeed:d}))};return D(0),{calculatedDuration:null,next:E=>{let R=!1;return!P&&A===void 0&&(R=!0,b(E),D(E)),A!==void 0&&E>=A?P.next(E-A):(!R&&b(E),p)}}}const HN=rd(.42,0,1,1),WN=rd(0,0,.58,1),lP=rd(.42,0,.58,1),GN=n=>Array.isArray(n)&&typeof n[0]!="number",KM={linear:fr,easeIn:HN,easeInOut:lP,easeOut:WN,circIn:F_,circInOut:HC,circOut:VC,backIn:O_,backInOut:BC,backOut:FC,anticipate:UC},QM=n=>{if(y_(n)){u1(n.length===4);const[e,t,i,r]=n;return rd(e,t,i,r)}else if(typeof n=="string")return u1(KM[n]!==void 0),KM[n];return n};function jN(n,e,t){const i=[],r=t||oP,s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const u=Array.isArray(e)?e[o]||fr:e;a=sd(u,a)}i.push(a)}return i}function XN(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(u1(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=jN(e,i,r),u=a.length,f=d=>{if(o&&d<n[0])return e[0];let h=0;if(u>1)for(;h<n.length-2&&!(d<n[h+1]);h++);const p=Sf(n[h],n[h+1],d);return a[h](p)};return t?d=>f(Ns(n[0],n[s-1],d)):f}function YN(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Sf(0,e,i);n.push($t(t,1,r))}}function qN(n){const e=[0];return YN(e,n.length-1),e}function ZN(n,e){return n.map(t=>t*e)}function JN(n,e){return n.map(()=>e||lP).splice(0,n.length-1)}function Rm({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=GN(i)?i.map(QM):QM(i),s={done:!1,value:e[0]},o=ZN(t&&t.length===e.length?t:qN(e),n),a=XN(o,e,{ease:Array.isArray(r)?r:JN(e,r)});return{calculatedDuration:n,next:u=>(s.value=a(u),s.done=u>=n,s)}}const KN=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Gt.update(e,!0),stop:()=>Eo(e),now:()=>Vn.isProcessing?Vn.timestamp:Jr.now()}},QN={decay:JM,inertia:JM,tween:Rm,keyframes:Rm,spring:Lm},$N=n=>n/100;class W_ extends rP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:t,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||V_,a=(u,f)=>this.onKeyframesResolved(u,f);this.resolver=new o(s,a,t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=x_(t)?t:QN[t]||Rm;let u,f;a!==Rm&&typeof e[0]!="number"&&(u=sd($N,oP(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(f=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=w_(d));const{calculatedDuration:h}=d,p=h+r,g=p*(i+1)-r;return{generator:d,mirroredGenerator:f,mapPercentToKeyframes:u,calculatedDuration:h,resolvedDuration:p,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:u,calculatedDuration:f,totalDuration:d,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:g,repeatType:v,repeatDelay:y,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),S=this.speed>=0?_<0:_>d;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let M=this.currentTime,b=s;if(g){const E=Math.min(this.currentTime,d)/h;let R=Math.floor(E),I=E%1;!I&&E>=1&&(I=1),I===1&&R--,R=Math.min(R,g+1),!!(R%2)&&(v==="reverse"?(I=1-I,y&&(I-=y/h)):v==="mirror"&&(b=o)),M=Ns(0,1,I)*h}const A=S?{done:!1,value:u[0]}:b.next(M);a&&(A.value=a(A.value));let{done:P}=A;!S&&f!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return D&&r!==void 0&&(A.value=fg(u,this.options,r)),x&&x(A.value),D&&this.finish(),A}get duration(){const{resolved:e}=this;return e?Zr(e.calculatedDuration):0}get time(){return Zr(this.currentTime)}set time(e){e=qr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Zr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=KN,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const ez=new Set(["opacity","clipPath","filter","transform"]),tz=g_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Dm=10,nz=2e4;function iz(n){return x_(n.type)||n.type==="spring"||!fC(n.ease)}function rz(n,e){const t=new W_({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let s=0;for(;!i.done&&s<nz;)i=t.sample(s),r.push(i.value),s+=Dm;return{times:void 0,keyframes:r,duration:s-Dm,ease:"linear"}}const uP={anticipate:UC,backInOut:BC,circInOut:HC};function sz(n){return n in uP}class $M extends rP{constructor(e){super(e);const{name:t,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new iP(s,(o,a)=>this.onKeyframesResolved(o,a),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:u,startTime:f}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Mf()&&sz(s)&&(s=uP[s]),iz(this.options)){const{onComplete:h,onUpdate:p,motionValue:g,element:v,...y}=this.options,x=rz(e,y);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,r=x.times,s=x.ease,o="keyframes"}const d=F6(a.owner.current,u,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=f??this.calcStartTime(),this.pendingTimeline?(AM(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(fg(e,this.options,t)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Zr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Zr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=qr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return fr;const{animation:i}=t;AM(i,e)}return fr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:d,onComplete:h,element:p,...g}=this.options,v=new W_({...g,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),y=qr(this.time);f.setWithVelocity(v.sample(y-Dm).value,v.sample(y).value,Dm)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=t.owner.getProps();return tz()&&i&&ez.has(i)&&(i!=="transform"||!f)&&!u&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const oz={type:"spring",stiffness:500,damping:25,restSpeed:10},az=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),lz={type:"keyframes",duration:.8},uz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cz=(n,{keyframes:e})=>e.length>2?lz:qa.has(n)?n.startsWith("scale")?az(e[1]):oz:uz;function fz({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:f,...d}){return!!Object.keys(d).length}const G_=(n,e,t,i={},r,s)=>o=>{const a=__(i,n)||{},u=a.delay||i.delay||0;let{elapsed:f=0}=i;f=f-qr(u);let d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-f,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:r};fz(a)||(d={...d,...cz(n,d)}),d.duration&&(d.duration=qr(d.duration)),d.repeatDelay&&(d.repeatDelay=qr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),d.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const p=fg(d.keyframes,a);if(p!==void 0)return Gt.update(()=>{d.onUpdate(p),d.onComplete()}),new N6([])}return!s&&$M.supports(d)?new $M(d):new W_(d)};function dz({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function cP(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=e;i&&(s=i);const u=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const h=n.getValue(d,n.latestValues[d]??null),p=a[d];if(p===void 0||f&&dz(f,d))continue;const g={delay:t,...__(s||{},d)};let v=!1;if(window.MotionHandoffAnimation){const x=IC(n);if(x){const _=window.MotionHandoffAnimation(x,d,Gt);_!==null&&(g.startTime=_,v=!0)}}h1(n,d),h.start(G_(d,h,p,n.shouldReduceMotion&&kC.has(d)?{type:!1}:g,n,v));const y=h.animation;y&&u.push(y)}return o&&Promise.all(u).then(()=>{Gt.update(()=>{o&&HI(n,o)})}),u}function M1(n,e,t={}){var u;const i=Cf(n,e,t.type==="exit"?(u=n.presenceContext)==null?void 0:u.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(cP(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=r;return hz(n,e,d+f,h,p,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[f,d]=a==="beforeChildren"?[s,o]:[o,s];return f().then(()=>d())}else return Promise.all([s(),o(t.delay)])}function hz(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,u=r===1?(f=0)=>f*i:(f=0)=>a-f*i;return Array.from(n.variantChildren).sort(pz).forEach((f,d)=>{f.notify("AnimationStart",e),o.push(M1(f,e,{...s,delay:t+u(d)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(o)}function pz(n,e){return n.sortNodePosition(e)}function mz(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>M1(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=M1(n,e,t);else{const r=typeof e=="function"?Cf(n,e,t.custom):e;i=Promise.all(cP(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function fP(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const gz=T_.length;function dP(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?dP(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<gz;t++){const i=T_[t],r=n.props[i];(Tf(r)||r===!1)&&(e[i]=r)}return e}const vz=[...b_].reverse(),yz=b_.length;function xz(n){return e=>Promise.all(e.map(({animation:t,options:i})=>mz(n,t,i)))}function _z(n){let e=xz(n),t=e3(),i=!0;const r=u=>(f,d)=>{var p;const h=Cf(n,d,u==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:g,transitionEnd:v,...y}=h;f={...f,...y,...v}}return f};function s(u){e=u(n)}function o(u){const{props:f}=n,d=dP(n.parent)||{},h=[],p=new Set;let g={},v=1/0;for(let x=0;x<yz;x++){const _=vz[x],S=t[_],M=f[_]!==void 0?f[_]:d[_],b=Tf(M),A=_===u?S.isActive:null;A===!1&&(v=x);let P=M===d[_]&&M!==f[_]&&b;if(P&&i&&n.manuallyAnimateOnMount&&(P=!1),S.protectedKeys={...g},!S.isActive&&A===null||!M&&!S.prevProp||ug(M)||typeof M=="boolean")continue;const D=wz(S.prevProp,M);let E=D||_===u&&S.isActive&&!P&&b||x>v&&b,R=!1;const I=Array.isArray(M)?M:[M];let F=I.reduce(r(_),{});A===!1&&(F={});const{prevResolvedValues:j={}}=S,Y={...j,...F},W=ae=>{E=!0,p.has(ae)&&(R=!0,p.delete(ae)),S.needsAnimating[ae]=!0;const k=n.getValue(ae);k&&(k.liveStyle=!1)};for(const ae in Y){const k=F[ae],H=j[ae];if(g.hasOwnProperty(ae))continue;let V=!1;d1(k)&&d1(H)?V=!fP(k,H):V=k!==H,V?k!=null?W(ae):p.add(ae):k!==void 0&&p.has(ae)?W(ae):S.protectedKeys[ae]=!0}S.prevProp=M,S.prevResolvedValues=F,S.isActive&&(g={...g,...F}),i&&n.blockInitialAnimation&&(E=!1),E&&(!(P&&D)||R)&&h.push(...I.map(ae=>({animation:ae,options:{type:_}})))}if(p.size){const x={};if(typeof f.initial!="boolean"){const _=Cf(n,Array.isArray(f.initial)?f.initial[0]:f.initial);_&&_.transition&&(x.transition=_.transition)}p.forEach(_=>{const S=n.getBaseTarget(_),M=n.getValue(_);M&&(M.liveStyle=!0),x[_]=S??null}),h.push({animation:x})}let y=!!h.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(y=!1),i=!1,y?e(h):Promise.resolve()}function a(u,f){var h;if(t[u].isActive===f)return Promise.resolve();(h=n.variantChildren)==null||h.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(u,f)}),t[u].isActive=f;const d=o(u);for(const p in t)t[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=e3(),i=!0}}}function wz(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!fP(e,n):!1}function ea(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function e3(){return{animate:ea(!0),whileInView:ea(),whileHover:ea(),whileTap:ea(),whileDrag:ea(),whileFocus:ea(),exit:ea()}}class Oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Sz extends Oo{constructor(e){super(e),e.animationState||(e.animationState=_z(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ug(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Mz=0;class bz extends Oo{constructor(){super(...arguments),this.id=Mz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Tz={animation:{Feature:Sz},exit:{Feature:bz}};function Lf(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function od(n){return{point:{x:n.pageX,y:n.pageY}}}const Ez=n=>e=>M_(e)&&n(e,od(e));function qc(n,e,t,i){return Lf(n,e,Ez(t),i)}function hP({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Az({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Cz(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const pP=1e-4,Pz=1-pP,Lz=1+pP,mP=.01,Rz=0-mP,Dz=0+mP;function pi(n){return n.max-n.min}function kz(n,e,t){return Math.abs(n-e)<=t}function t3(n,e,t,i=.5){n.origin=i,n.originPoint=$t(e.min,e.max,n.origin),n.scale=pi(t)/pi(e),n.translate=$t(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Pz&&n.scale<=Lz||isNaN(n.scale))&&(n.scale=1),(n.translate>=Rz&&n.translate<=Dz||isNaN(n.translate))&&(n.translate=0)}function Zc(n,e,t,i){t3(n.x,e.x,t.x,i?i.originX:void 0),t3(n.y,e.y,t.y,i?i.originY:void 0)}function n3(n,e,t){n.min=t.min+e.min,n.max=n.min+pi(e)}function Iz(n,e,t){n3(n.x,e.x,t.x),n3(n.y,e.y,t.y)}function i3(n,e,t){n.min=e.min-t.min,n.max=n.min+pi(e)}function Jc(n,e,t){i3(n.x,e.x,t.x),i3(n.y,e.y,t.y)}const r3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kl=()=>({x:r3(),y:r3()}),s3=()=>({min:0,max:0}),pn=()=>({x:s3(),y:s3()});function rr(n){return[n("x"),n("y")]}function hv(n){return n===void 0||n===1}function b1({scale:n,scaleX:e,scaleY:t}){return!hv(n)||!hv(e)||!hv(t)}function fa(n){return b1(n)||gP(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function gP(n){return o3(n.x)||o3(n.y)}function o3(n){return n&&n!=="0%"}function km(n,e,t){const i=n-t,r=e*i;return t+r}function a3(n,e,t,i,r){return r!==void 0&&(n=km(n,r,i)),km(n,t,i)+e}function T1(n,e=0,t=1,i,r){n.min=a3(n.min,e,t,i,r),n.max=a3(n.max,e,t,i,r)}function vP(n,{x:e,y:t}){T1(n.x,e.translate,e.scale,e.originPoint),T1(n.y,t.translate,t.scale,t.originPoint)}const l3=.999999999999,u3=1.0000000000001;function Nz(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$l(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,vP(n,o)),i&&fa(s.latestValues)&&$l(n,s.latestValues))}e.x<u3&&e.x>l3&&(e.x=1),e.y<u3&&e.y>l3&&(e.y=1)}function Ql(n,e){n.min=n.min+e,n.max=n.max+e}function c3(n,e,t,i,r=.5){const s=$t(n.min,n.max,r);T1(n,e,t,s,i)}function $l(n,e){c3(n.x,e.x,e.scaleX,e.scale,e.originX),c3(n.y,e.y,e.scaleY,e.scale,e.originY)}function yP(n,e){return hP(Cz(n.getBoundingClientRect(),e))}function zz(n,e,t){const i=yP(n,t),{scroll:r}=e;return r&&(Ql(i.x,r.offset.x),Ql(i.y,r.offset.y)),i}const xP=({current:n})=>n?n.ownerDocument.defaultView:null,f3=(n,e)=>Math.abs(n-e);function Oz(n,e){const t=f3(n.x,e.x),i=f3(n.y,e.y);return Math.sqrt(t**2+i**2)}class _P{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=mv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=Oz(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=h,{timestamp:y}=Vn;this.history.push({...v,timestamp:y});const{onStart:x,onMove:_}=this.handlers;p||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=pv(p,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=mv(h.type==="pointercancel"?this.lastMoveEventInfo:pv(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,x),v&&v(h,x)},!M_(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const o=od(e),a=pv(o,this.transformPagePoint),{point:u}=a,{timestamp:f}=Vn;this.history=[{...u,timestamp:f}];const{onSessionStart:d}=t;d&&d(e,mv(a,this.history)),this.removeListeners=sd(qc(this.contextWindow,"pointermove",this.handlePointerMove),qc(this.contextWindow,"pointerup",this.handlePointerUp),qc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Eo(this.updatePoint)}}function pv(n,e){return e?{point:e(n.point)}:n}function d3(n,e){return{x:n.x-e.x,y:n.y-e.y}}function mv({point:n},e){return{point:n,delta:d3(n,wP(e)),offset:d3(n,Fz(e)),velocity:Bz(e,.1)}}function Fz(n){return n[0]}function wP(n){return n[n.length-1]}function Bz(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=wP(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>qr(e)));)t--;if(!i)return{x:0,y:0};const s=Zr(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Uz(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?$t(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?$t(t,n,i.max):Math.min(n,t)),n}function h3(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Vz(n,{top:e,left:t,bottom:i,right:r}){return{x:h3(n.x,t,r),y:h3(n.y,e,i)}}function p3(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Hz(n,e){return{x:p3(n.x,e.x),y:p3(n.y,e.y)}}function Wz(n,e){let t=.5;const i=pi(n),r=pi(e);return r>i?t=Sf(e.min,e.max-i,n.min):i>r&&(t=Sf(n.min,n.max-r,e.min)),Ns(0,1,t)}function Gz(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const E1=.35;function jz(n=E1){return n===!1?n=0:n===!0&&(n=E1),{x:m3(n,"left","right"),y:m3(n,"top","bottom")}}function m3(n,e,t){return{min:g3(n,e),max:g3(n,t)}}function g3(n,e){return typeof n=="number"?n:n[e]||0}const Xz=new WeakMap;class Yz{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(od(d).point)},s=(d,h)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W6(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rr(x=>{let _=this.getAxisMotionValue(x).get()||0;if(Kr.test(_)){const{projection:S}=this.visualElement;if(S&&S.layout){const M=S.layout.layoutBox[x];M&&(_=pi(M)*(parseFloat(_)/100))}}this.originPoint[x]=_}),v&&Gt.postRender(()=>v(d,h)),h1(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(g&&this.currentDirection===null){this.currentDirection=qz(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&y(d,h)},a=(d,h)=>this.stop(d,h),u=()=>rr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new _P(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:xP(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Gt.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Uh(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Uz(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;e&&Zl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Vz(i.layoutBox,e):this.constraints=!1,this.elastic=jz(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&rr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Gz(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Zl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=zz(i,r.root,this.visualElement.getTransformPagePoint());let o=Hz(r.layout.layoutBox,s);if(t){const a=t(Az(o));this.hasMutatedConstraints=!!a,a&&(o=hP(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},f=rr(d=>{if(!Uh(d,t,this.currentDirection))return;let h=u&&u[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,g=r?40:1e7,v={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(f).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return h1(this.visualElement,e),i.start(G_(e,i,0,t,this.visualElement,!1))}stopAnimation(){rr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rr(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){rr(t=>{const{drag:i}=this.getProps();if(!Uh(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-$t(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Zl(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};rr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();r[o]=Wz({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),rr(o=>{if(!Uh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:f}=this.constraints[o];a.set($t(u,f,r[o]))})}addListeners(){if(!this.visualElement.current)return;Xz.set(this.visualElement,this);const e=this.visualElement.current,t=qc(e,"pointerdown",u=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Zl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Gt.read(i);const o=Lf(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(rr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=u[d].translate,h.set(h.get()+u[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=E1,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Uh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function qz(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Zz extends Oo{constructor(e){super(e),this.removeGroupControls=fr,this.removeListeners=fr,this.controls=new Yz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const v3=n=>(e,t)=>{n&&Gt.postRender(()=>n(e,t))};class Jz extends Oo{constructor(){super(...arguments),this.removePointerDownListener=fr}onPointerDown(e){this.session=new _P(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:v3(e),onStart:v3(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Gt.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=qc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y3(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const mc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(st.test(n))n=parseFloat(n);else return n;const t=y3(n,e.target.x),i=y3(n,e.target.y);return`${t}% ${i}%`}},Kz={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Ao.parse(n);if(r.length>5)return i;const s=Ao.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,u=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=u;const f=$t(a,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=f),typeof r[3+o]=="number"&&(r[3+o]/=f),s(r)}};class Qz extends X.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;gI($z),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Gp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Gt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),S_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SP(n){const[e,t]=D6(),i=X.useContext(oC);return L.jsx(Qz,{...n,layoutGroup:i,switchLayoutGroup:X.useContext(_C),isPresent:e,safeToRemove:t})}const $z={borderRadius:{...mc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mc,borderTopRightRadius:mc,borderBottomLeftRadius:mc,borderBottomRightRadius:mc,boxShadow:Kz};function e8(n,e,t){const i=ri(n)?n:bf(n);return i.start(G_("",i,e,t)),i.animation}function t8(n){return n instanceof SVGElement&&n.tagName!=="svg"}const n8=(n,e)=>n.depth-e.depth;class i8{constructor(){this.children=[],this.isDirty=!1}add(e){p_(this.children,e),this.isDirty=!0}remove(e){m_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(n8),this.isDirty=!1,this.children.forEach(e)}}function r8(n,e){const t=Jr.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Eo(i),n(s-e))};return Gt.read(i,!0),()=>Eo(i)}const MP=["TopLeft","TopRight","BottomLeft","BottomRight"],s8=MP.length,x3=n=>typeof n=="string"?parseFloat(n):n,_3=n=>typeof n=="number"||st.test(n);function o8(n,e,t,i,r,s){r?(n.opacity=$t(0,t.opacity??1,a8(i)),n.opacityExit=$t(e.opacity??1,0,l8(i))):s&&(n.opacity=$t(e.opacity??1,t.opacity??1,i));for(let o=0;o<s8;o++){const a=`border${MP[o]}Radius`;let u=w3(e,a),f=w3(t,a);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||_3(u)===_3(f)?(n[a]=Math.max($t(x3(u),x3(f),i),0),(Kr.test(f)||Kr.test(u))&&(n[a]+="%")):n[a]=f}(e.rotate||t.rotate)&&(n.rotate=$t(e.rotate||0,t.rotate||0,i))}function w3(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const a8=bP(0,.5,VC),l8=bP(.5,.95,fr);function bP(n,e,t){return i=>i<n?0:i>e?1:t(Sf(n,e,i))}function S3(n,e){n.min=e.min,n.max=e.max}function nr(n,e){S3(n.x,e.x),S3(n.y,e.y)}function M3(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function b3(n,e,t,i,r){return n-=e,n=km(n,1/t,i),r!==void 0&&(n=km(n,1/r,i)),n}function u8(n,e=0,t=1,i=.5,r,s=n,o=n){if(Kr.test(e)&&(e=parseFloat(e),e=$t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=$t(s.min,s.max,i);n===s&&(a-=e),n.min=b3(n.min,e,t,a,r),n.max=b3(n.max,e,t,a,r)}function T3(n,e,[t,i,r],s,o){u8(n,e[t],e[i],e[r],e.scale,s,o)}const c8=["x","scaleX","originX"],f8=["y","scaleY","originY"];function E3(n,e,t,i){T3(n.x,e,c8,t?t.x:void 0,i?i.x:void 0),T3(n.y,e,f8,t?t.y:void 0,i?i.y:void 0)}function A3(n){return n.translate===0&&n.scale===1}function TP(n){return A3(n.x)&&A3(n.y)}function C3(n,e){return n.min===e.min&&n.max===e.max}function d8(n,e){return C3(n.x,e.x)&&C3(n.y,e.y)}function P3(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function EP(n,e){return P3(n.x,e.x)&&P3(n.y,e.y)}function L3(n){return pi(n.x)/pi(n.y)}function R3(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class h8{constructor(){this.members=[]}add(e){p_(this.members,e),e.scheduleRender()}remove(e){if(m_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p8(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:d,rotateX:h,rotateY:p,skewX:g,skewY:v}=t;f&&(i=`perspective(${f}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),g&&(i+=`skewX(${g}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=n.x.scale*e.x,u=n.y.scale*e.y;return(a!==1||u!==1)&&(i+=`scale(${a}, ${u})`),i||"none"}const gv=["","X","Y","Z"],m8={visibility:"hidden"},D3=1e3;let g8=0;function vv(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function AP(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=IC(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Gt,!(r||s))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&AP(i)}function CP({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=g8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(x8),this.nodes.forEach(b8),this.nodes.forEach(T8),this.nodes.forEach(_8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new i8)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new v_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t8(o),this.instance=o;const{layoutId:u,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(f||u)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=r8(p,250),Gp.hasAnimatedSinceResize&&(Gp.hasAnimatedSinceResize=!1,this.nodes.forEach(I3))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||L8,{onLayoutAnimationStart:x,onLayoutAnimationComplete:_}=d.getProps(),S=!this.targetLayout||!EP(this.targetLayout,v),M=!p&&g;if(this.options.layoutRoot||this.resumeFrom||M||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,M);const b={...__(y,"layout"),onPlay:x,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||I3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Eo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k3);return}this.isUpdating||this.nodes.forEach(S8),this.isUpdating=!1,this.nodes.forEach(M8),this.nodes.forEach(v8),this.nodes.forEach(y8),this.clearAllSnapshots();const a=Jr.now();Vn.delta=Ns(0,1e3/60,a-Vn.timestamp),Vn.timestamp=a,Vn.isProcessing=!0,av.update.process(Vn),av.preRender.process(Vn),av.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,S_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w8),this.sharedNodes.forEach(A8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pi(this.snapshot.measuredBox.x)&&!pi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!TP(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;o&&(a||fa(this.latestValues)||d)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),R8(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return pn();const a=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(D8))){const{scroll:d}=this.root;d&&(Ql(a.x,d.offset.x),Ql(a.y,d.offset.y))}return a}removeElementScroll(o){var u;const a=pn();if(nr(a,o),(u=this.scroll)!=null&&u.wasRoot)return a;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&nr(a,o),Ql(a.x,h.offset.x),Ql(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const u=pn();nr(u,o);for(let f=0;f<this.path.length;f++){const d=this.path[f];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&$l(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),fa(d.latestValues)&&$l(u,d.latestValues)}return fa(this.latestValues)&&$l(u,this.latestValues),u}removeTransform(o){const a=pn();nr(a,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!fa(f.latestValues))continue;b1(f.latestValues)&&f.updateSnapshot();const d=pn(),h=f.measurePageBox();nr(d,h),E3(a,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return fa(this.latestValues)&&E3(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),Jc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pn(),this.targetWithTransforms=pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Iz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),vP(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),Jc(this.relativeTargetOrigin,this.target,g.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||b1(this.parent.latestValues)||gP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;nr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Nz(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=pn());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(M3(this.prevProjectionDelta.x,this.projectionDelta.x),M3(this.prevProjectionDelta.y,this.projectionDelta.y)),Zc(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!R3(this.projectionDelta.x,this.prevProjectionDelta.x)||!R3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kl(),this.projectionDelta=Kl(),this.projectionDeltaWithTransform=Kl()}setAnimationOrigin(o,a=!1){const u=this.snapshot,f=u?u.latestValues:{},d={...this.latestValues},h=Kl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=pn(),g=u?u.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,x=this.getStack(),_=!x||x.members.length<=1,S=!!(y&&!_&&this.options.crossfade===!0&&!this.path.some(P8));this.animationProgress=0;let M;this.mixTargetDelta=b=>{const A=b/1e3;N3(h.x,o.x,A),N3(h.y,o.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jc(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C8(this.relativeTarget,this.relativeTargetOrigin,p,A),M&&d8(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=pn()),nr(M,this.relativeTarget)),y&&(this.animationValues=d,o8(d,f,this.latestValues,A,S,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Eo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Gp.hasAnimatedSinceResize=!0,this.currentAnimation=e8(0,D3,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:f,latestValues:d}=o;if(!(!a||!u||!f)){if(this!==o&&this.layout&&f&&PP(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||pn();const h=pi(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+h;const p=pi(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}nr(a,u),$l(a,d),Zc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new h8),this.sharedNodes.get(o).add(a);const f=a.options.initialPromotionConfig;a.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const f={};u.z&&vv("z",o,f,this.animationValues);for(let d=0;d<gv.length;d++)vv(`rotate${gv[d]}`,o,f,this.animationValues),vv(`skew${gv[d]}`,o,f,this.animationValues);o.render();for(const d in f)o.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return m8;const a={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Wp(o==null?void 0:o.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none",a;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Wp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fa(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),a.transform=p8(this.projectionDeltaWithTransform,this.treeScale,d),u&&(a.transform=u(d,a.transform));const{x:h,y:p}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,f.animationValues?a.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Ef){if(d[g]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:x}=Ef[g],_=a.transform==="none"?d[g]:v(d[g],f);if(y){const S=y.length;for(let M=0;M<S;M++)a[y[M]]=_}else x?this.options.visualElement.renderState.vars[g]=_:a[g]=_}return this.options.layoutId&&(a.pointerEvents=f===this?Wp(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(k3),this.root.sharedNodes.clear()}}}function v8(n){n.updateLayout()}function y8(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?rr(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],g=pi(p);p.min=i[h].min,p.max=p.min+g}):PP(s,e.layoutBox,i)&&rr(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],g=pi(i[h]);p.max=p.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+g)});const a=Kl();Zc(a,i,e.layoutBox);const u=Kl();o?Zc(u,n.applyTransform(r,!0),e.measuredBox):Zc(u,i,e.layoutBox);const f=!TP(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const v=pn();Jc(v,e.layoutBox,p.layoutBox);const y=pn();Jc(y,i,g.layoutBox),EP(v,y)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=y,n.relativeTargetOrigin=v,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:u,layoutDelta:a,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function x8(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function _8(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function w8(n){n.clearSnapshot()}function k3(n){n.clearMeasurements()}function S8(n){n.isLayoutDirty=!1}function M8(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function I3(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function b8(n){n.resolveTargetDelta()}function T8(n){n.calcProjection()}function E8(n){n.resetSkewAndRotation()}function A8(n){n.removeLeadSnapshot()}function N3(n,e,t){n.translate=$t(e.translate,0,t),n.scale=$t(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function z3(n,e,t,i){n.min=$t(e.min,t.min,i),n.max=$t(e.max,t.max,i)}function C8(n,e,t,i){z3(n.x,e.x,t.x,i),z3(n.y,e.y,t.y,i)}function P8(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const L8={duration:.45,ease:[.4,0,.1,1]},O3=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),F3=O3("applewebkit/")&&!O3("chrome/")?Math.round:fr;function B3(n){n.min=F3(n.min),n.max=F3(n.max)}function R8(n){B3(n.x),B3(n.y)}function PP(n,e,t){return n==="position"||n==="preserve-aspect"&&!kz(L3(e),L3(t),.2)}function D8(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const k8=CP({attachResizeListener:(n,e)=>Lf(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yv={current:void 0},LP=CP({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!yv.current){const n=new k8({});n.mount(window),n.setOptions({layoutScroll:!0}),yv.current=n}return yv.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),I8={pan:{Feature:Jz},drag:{Feature:Zz,ProjectionNode:LP,MeasureLayout:SP}};function U3(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=i[r];s&&Gt.postRender(()=>s(e,od(e)))}class N8 extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=j6(e,(t,i)=>(U3(this.node,i,"Start"),r=>U3(this.node,r,"End"))))}unmount(){}}class z8 extends Oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sd(Lf(this.node.current,"focus",()=>this.onFocus()),Lf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function V3(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=i[r];s&&Gt.postRender(()=>s(e,od(e)))}class O8 extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=Z6(e,(t,i)=>(V3(this.node,i,"Start"),(r,{success:s})=>V3(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const A1=new WeakMap,xv=new WeakMap,F8=n=>{const e=A1.get(n.target);e&&e(n)},B8=n=>{n.forEach(F8)};function U8({root:n,...e}){const t=n||document;xv.has(t)||xv.set(t,{});const i=xv.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(B8,{root:n,...e})),i[r]}function V8(n,e,t){const i=U8(e);return A1.set(n,t),i.observe(n),()=>{A1.delete(n),i.unobserve(n)}}const H8={some:0,all:1};class W8 extends Oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:H8[r]},a=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=f?d:h;p&&p(u)};return V8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(G8(e,t))&&this.startObserver()}unmount(){}}function G8({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const j8={inView:{Feature:W8},tap:{Feature:O8},focus:{Feature:z8},hover:{Feature:N8}},X8={layout:{ProjectionNode:LP,MeasureLayout:SP}},C1={current:null},RP={current:!1};function Y8(){if(RP.current=!0,!!d_)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>C1.current=n.matches;n.addListener(e),e()}else C1.current=!1}const q8=[...nP,ti,Ao],Z8=n=>q8.find(tP(n)),J8=new WeakMap;function K8(n,e,t){for(const i in e){const r=e[i],s=t[i];if(ri(r))n.addValue(i,r);else if(ri(s))n.addValue(i,bf(r,{owner:n}));else if(s!==r)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=n.getStaticValue(i);n.addValue(i,bf(o!==void 0?o:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const H3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Q8{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=V_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Jr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Gt.render(this.render,!1,!0))};const{latestValues:u,renderState:f,onUpdate:d}=o;this.onUpdate=d,this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=cg(t),this.isVariantNode=yC(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const g in p){const v=p[g];u[g]!==void 0&&ri(v)&&v.set(u[g],!1)}}mount(e){this.current=e,J8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),RP.current||Y8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:C1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Eo(this.notifyUpdate),Eo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=qa.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _u){const t=_u[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<H3.length;i++){const r=H3[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=K8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=bf(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&($C(i)||WC(i))?i=parseFloat(i):!Z8(i)&&Ao.test(t)&&(i=JC(e,t)),this.setBaseTarget(e,ri(i)?i.get():i)),ri(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=N_(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!ri(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new v_),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class DP extends Q8{constructor(){super(...arguments),this.KeyframeResolver=iP}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ri(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function $8(n){return window.getComputedStyle(n)}class eO extends DP{constructor(){super(...arguments),this.type="html",this.renderInstance=PC}readValueFromInstance(e,t){if(qa.has(t))return hN(e,t);{const i=$8(e),r=(A_(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return yP(e,t)}build(e,t,i){L_(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return z_(e,t,i)}}class tO extends DP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&CC(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(qa.has(t)){const i=ZC(t);return i&&i.default||0}return t=LC.has(t)?t:E_(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return DC(e,t,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Gt.postRender(this.updateDimensions)}build(e,t,i){k_(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){RC(e,t,i,r)}mount(e){this.isSVGTag=I_(e.tagName),super.mount(e)}}const nO=(n,e)=>D_(n)?new tO(e):new eO(e,{allowProjection:n!==X.Fragment}),iO=UI({...Tz,...j8,...I8,...X8},nO),Ss=nI(iO),rO=()=>{const n=eC();return X.useEffect(()=>{ai.init({duration:1e3,easing:"ease-out",once:!0})},[]),L.jsx("section",{className:"relative overflow-hidden py-12 lg:py-0",children:L.jsx("div",{className:"max-w-4xl mx-auto relative z-10",children:L.jsxs("div",{className:"space-y-8","data-aos":"fade-up",children:[L.jsxs(Ss.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"flex items-center gap-4",children:[L.jsx("span",{className:"w-12 h-[2px] bg-red-600"}),L.jsx("span",{className:"text-red-500 uppercase tracking-[0.3em] text-sm font-bold",children:"Lead Software Engineer"})]}),L.jsx("div",{className:"space-y-4",children:L.jsxs(Ss.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-6xl md:text-7xl lg:text-7xl font-extrabold text-white leading-[0.9] tracking-tighter",children:["KRISHNA ",L.jsx("span",{className:"text-red-600",children:"NATHS"})]})}),L.jsxs(Ss.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.6},className:"flex flex-wrap gap-x-6 gap-y-2 text-zinc-500 font-medium uppercase tracking-widest text-xs lg:text-sm",children:[L.jsx("span",{children:"Indian Institute of Commerce, Lakshya"}),L.jsx("span",{className:"text-red-600",children:""}),L.jsx("span",{children:"Lead Full Stack Developer"}),L.jsx("span",{className:"text-red-600",children:""}),L.jsx("span",{children:"Kochi, Kerala"})]}),L.jsxs(Ss.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"text-lg lg:text-xl text-zinc-400 leading-relaxed max-w-2xl font-light",children:["Crafting high-performance web experiences with the"," ",L.jsx("span",{className:"text-white font-semibold",children:"MERN Stack, Django, and Next.js."})," ","Passionate about building modern, scalable, and user-centric applications."]}),L.jsxs(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},className:"flex flex-wrap gap-4 pt-4",children:[L.jsx("button",{className:"btn-modern",onClick:()=>n("/projects"),children:"View Projects"}),L.jsx("button",{className:"btn-outline",onClick:()=>n("/contact"),children:"Get In Touch"})]})]})})})},sO=""+new URL("krishna-Cal7KgPi.jpg",import.meta.url).href,oO=()=>(X.useEffect(()=>{ai.init({duration:1e3,easing:"ease-in-out",once:!0})},[]),L.jsx("div",{className:"flex items-center justify-center py-8 md:py-12 px-4 relative",children:L.jsxs("div",{className:"relative group animate-float","data-aos":"zoom-in",children:[L.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] bg-red-600/30 rounded-full blur-[80px] group-hover:bg-red-500/40 transition-all duration-700"}),L.jsxs("div",{className:"relative z-10 perspective-1000",children:[L.jsx("img",{src:sO,alt:"Portrait",className:`rounded-[2.5rem] object-cover border-[6px] border-white shadow-[0_20px_50px_rgba(0,0,0,0.5)]\r
                       w-64 h-80 \r
                       md:w-80 md:h-[450px]\r
                       lg:w-96 lg:h-[550px]\r
                       transition-all duration-500 group-hover:scale-[1.02] group-hover:-rotate-1`}),L.jsx("div",{className:"absolute inset-0 rounded-[2.5rem] ring-1 ring-inset ring-white/20"})]}),L.jsx("div",{className:"absolute -bottom-6 -right-6 w-24 h-24 bg-red-600 rounded-2xl rotate-12 -z-10 blur-xl opacity-50 animate-pulse"})]})}));/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const dg="149",da={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ha={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},kP=0,P1=1,IP=2,aO=3,NP=0,hg=1,Kc=2,Sa=3,zs=0,Li=1,Es=2,lO=2,Ls=0,La=1,L1=2,R1=3,D1=4,zP=5,ma=100,OP=101,FP=102,k1=103,I1=104,BP=200,UP=201,VP=202,HP=203,j_=204,X_=205,WP=206,GP=207,jP=208,XP=209,YP=210,qP=0,ZP=1,JP=2,Im=3,KP=4,QP=5,$P=6,e4=7,ad=0,t4=1,n4=2,Lr=0,i4=1,r4=2,s4=3,Y_=4,o4=5,pg=300,Co=301,Po=302,Rf=303,Df=304,ku=306,kf=1e3,ii=1001,If=1002,mn=1003,Nm=1004,uO=1004,Qc=1005,cO=1005,vn=1006,q_=1007,fO=1007,Lo=1008,dO=1008,Os=1009,a4=1010,l4=1011,Z_=1012,u4=1013,fo=1014,As=1015,Su=1016,c4=1017,f4=1018,Ra=1020,d4=1021,Ti=1023,h4=1024,p4=1025,So=1026,Va=1027,m4=1028,g4=1029,v4=1030,y4=1031,x4=1033,jp=33776,Xp=33777,Yp=33778,qp=33779,N1=35840,z1=35841,O1=35842,F1=35843,_4=36196,B1=37492,U1=37496,V1=37808,H1=37809,W1=37810,G1=37811,j1=37812,X1=37813,Y1=37814,q1=37815,Z1=37816,J1=37817,K1=37818,Q1=37819,$1=37820,ex=37821,Zp=36492,w4=36283,tx=36284,nx=36285,ix=36286,S4=2200,M4=2201,b4=2202,Nf=2300,zf=2301,Jp=2302,Ma=2400,ba=2401,Of=2402,mg=2500,J_=2501,hO=0,pO=1,mO=2,Ro=3e3,Ht=3001,T4=3200,E4=3201,Fo=0,A4=1,gO="",Tr="srgb",Mu="srgb-linear",vO=0,Kp=7680,yO=7681,xO=7682,_O=7683,wO=34055,SO=34056,MO=5386,bO=512,TO=513,EO=514,AO=515,CO=516,PO=517,LO=518,C4=519,Ff=35044,RO=35048,DO=35040,kO=35045,IO=35049,NO=35041,zO=35046,OO=35050,FO=35042,BO="100",rx="300 es",zm=1035;let Us=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}};const $n=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let W3=1234567;const Da=Math.PI/180,Bf=180/Math.PI;function Ui(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return($n[n&255]+$n[n>>8&255]+$n[n>>16&255]+$n[n>>24&255]+"-"+$n[e&255]+$n[e>>8&255]+"-"+$n[e>>16&15|64]+$n[e>>24&255]+"-"+$n[t&63|128]+$n[t>>8&255]+"-"+$n[t>>16&255]+$n[t>>24&255]+$n[i&255]+$n[i>>8&255]+$n[i>>16&255]+$n[i>>24&255]).toLowerCase()}function yn(n,e,t){return Math.max(e,Math.min(t,n))}function K_(n,e){return(n%e+e)%e}function UO(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function VO(n,e,t){return n!==e?(t-n)/(e-n):0}function $c(n,e,t){return(1-t)*n+t*e}function HO(n,e,t,i){return $c(n,e,1-Math.exp(-t*i))}function WO(n,e=1){return e-Math.abs(K_(n,e*2)-e)}function GO(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function jO(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function XO(n,e){return n+Math.floor(Math.random()*(e-n+1))}function YO(n,e){return n+Math.random()*(e-n)}function qO(n){return n*(.5-Math.random())}function ZO(n){n!==void 0&&(W3=n);let e=W3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function JO(n){return n*Da}function KO(n){return n*Bf}function sx(n){return(n&n-1)===0&&n!==0}function P4(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Om(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function QO(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),u=o(t/2),f=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),g=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*d,u*h,u*p,a*f);break;case"YZY":n.set(u*p,a*d,u*h,a*f);break;case"ZXZ":n.set(u*h,u*p,a*d,a*f);break;case"XZX":n.set(a*d,u*v,u*g,a*f);break;case"YXY":n.set(u*g,a*d,u*v,a*f);break;case"ZYZ":n.set(u*v,u*g,a*d,a*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Cs(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ut(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var $O=Object.freeze({__proto__:null,DEG2RAD:Da,RAD2DEG:Bf,ceilPowerOfTwo:P4,clamp:yn,damp:HO,degToRad:JO,denormalize:Cs,euclideanModulo:K_,floorPowerOfTwo:Om,generateUUID:Ui,inverseLerp:VO,isPowerOfTwo:sx,lerp:$c,mapLinear:UO,normalize:Ut,pingpong:WO,radToDeg:KO,randFloat:YO,randFloatSpread:qO,randInt:XO,seededRandom:ZO,setQuaternionFromProperEuler:QO,smootherstep:jO,smoothstep:GO});class ve{constructor(e=0,t=0){ve.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class mi{constructor(){mi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,u,f){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=u,d[6]=i,d[7]=o,d[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],u=i[6],f=i[1],d=i[4],h=i[7],p=i[2],g=i[5],v=i[8],y=r[0],x=r[3],_=r[6],S=r[1],M=r[4],b=r[7],A=r[2],P=r[5],D=r[8];return s[0]=o*y+a*S+u*A,s[3]=o*x+a*M+u*P,s[6]=o*_+a*b+u*D,s[1]=f*y+d*S+h*A,s[4]=f*x+d*M+h*P,s[7]=f*_+d*b+h*D,s[2]=p*y+g*S+v*A,s[5]=p*x+g*M+v*P,s[8]=p*_+g*b+v*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],f=e[7],d=e[8];return t*o*d-t*a*f-i*s*d+i*a*u+r*s*f-r*o*u}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],f=e[7],d=e[8],h=d*o-a*f,p=a*u-d*s,g=f*s-o*u,v=t*h+i*p+r*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=h*y,e[1]=(r*f-d*i)*y,e[2]=(a*i-r*o)*y,e[3]=p*y,e[4]=(d*t-r*u)*y,e[5]=(r*s-a*t)*y,e[6]=g*y,e[7]=(i*u-f*t)*y,e[8]=(o*t-i*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const u=Math.cos(s),f=Math.sin(s);return this.set(i*u,i*f,-i*(u*o+f*a)+o+e,-r*f,r*u,-r*(-f*o+u*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(_v.makeScale(e,t)),this}rotate(e){return this.premultiply(_v.makeRotation(-e)),this}translate(e,t){return this.premultiply(_v.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _v=new mi;function L4(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const eF={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function eu(n,e){return new eF[n](e)}function Uf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function ka(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Qp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const wv={[Tr]:{[Mu]:ka},[Mu]:{[Tr]:Qp}},ei={legacyMode:!0,get workingColorSpace(){return Mu},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(wv[e]&&wv[e][t]!==void 0){const i=wv[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},R4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},En={r:0,g:0,b:0},xr={h:0,s:0,l:0},Vh={h:0,s:0,l:0};function Sv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Hh(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Be{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Tr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ei.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=ei.workingColorSpace){return this.r=e,this.g=t,this.b=i,ei.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=ei.workingColorSpace){if(e=K_(e,1),t=yn(t,0,1),i=yn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Sv(o,s,e+1/3),this.g=Sv(o,s,e),this.b=Sv(o,s,e-1/3)}return ei.toWorkingColorSpace(this,r),this}setStyle(e,t=Tr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ei.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ei.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const u=parseFloat(s[1])/360,f=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return i(s[4]),this.setHSL(u,f,d,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,ei.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,ei.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Tr){const i=R4[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ka(e.r),this.g=ka(e.g),this.b=ka(e.b),this}copyLinearToSRGB(e){return this.r=Qp(e.r),this.g=Qp(e.g),this.b=Qp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Tr){return ei.fromWorkingColorSpace(Hh(this,En),e),yn(En.r*255,0,255)<<16^yn(En.g*255,0,255)<<8^yn(En.b*255,0,255)<<0}getHexString(e=Tr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ei.workingColorSpace){ei.fromWorkingColorSpace(Hh(this,En),t);const i=En.r,r=En.g,s=En.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let u,f;const d=(a+o)/2;if(a===o)u=0,f=0;else{const h=o-a;switch(f=d<=.5?h/(o+a):h/(2-o-a),o){case i:u=(r-s)/h+(r<s?6:0);break;case r:u=(s-i)/h+2;break;case s:u=(i-r)/h+4;break}u/=6}return e.h=u,e.s=f,e.l=d,e}getRGB(e,t=ei.workingColorSpace){return ei.fromWorkingColorSpace(Hh(this,En),t),e.r=En.r,e.g=En.g,e.b=En.b,e}getStyle(e=Tr){return ei.fromWorkingColorSpace(Hh(this,En),e),e!==Tr?`color(${e} ${En.r} ${En.g} ${En.b})`:`rgb(${En.r*255|0},${En.g*255|0},${En.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(xr),xr.h+=e,xr.s+=t,xr.l+=i,this.setHSL(xr.h,xr.s,xr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(xr),e.getHSL(Vh);const i=$c(xr.h,Vh.h,t),r=$c(xr.s,Vh.s,t),s=$c(xr.l,Vh.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Be.NAMES=R4;let ml;class Q_{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ml===void 0&&(ml=Uf("canvas")),ml.width=e.width,ml.height=e.height;const i=ml.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=ml}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Uf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=ka(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(ka(t[i]/255)*255):t[i]=ka(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Ta{constructor(e=null){this.isSource=!0,this.uuid=Ui(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Mv(r[o].image)):s.push(Mv(r[o]))}else s=Mv(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Mv(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Q_.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let tF=0;class fn extends Us{constructor(e=fn.DEFAULT_IMAGE,t=fn.DEFAULT_MAPPING,i=ii,r=ii,s=vn,o=Lo,a=Ti,u=Os,f=fn.DEFAULT_ANISOTROPY,d=Ro){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:tF++}),this.uuid=Ui(),this.name="",this.source=new Ta(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=f,this.format=a,this.internalFormat=null,this.type=u,this.offset=new ve(0,0),this.repeat=new ve(1,1),this.center=new ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==pg)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case kf:e.x=e.x-Math.floor(e.x);break;case ii:e.x=e.x<0?0:1;break;case If:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case kf:e.y=e.y-Math.floor(e.y);break;case ii:e.y=e.y<0?0:1;break;case If:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}fn.DEFAULT_IMAGE=null;fn.DEFAULT_MAPPING=pg;fn.DEFAULT_ANISOTROPY=1;class Nt{constructor(e=0,t=0,i=0,r=1){Nt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const u=e.elements,f=u[0],d=u[4],h=u[8],p=u[1],g=u[5],v=u[9],y=u[2],x=u[6],_=u[10];if(Math.abs(d-p)<.01&&Math.abs(h-y)<.01&&Math.abs(v-x)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+y)<.1&&Math.abs(v+x)<.1&&Math.abs(f+g+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(f+1)/2,b=(g+1)/2,A=(_+1)/2,P=(d+p)/4,D=(h+y)/4,E=(v+x)/4;return M>b&&M>A?M<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(M),r=P/i,s=D/i):b>A?b<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(b),i=P/r,s=E/r):A<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(A),i=D/s,r=E/s),this.set(i,r,s,t),this}let S=Math.sqrt((x-v)*(x-v)+(h-y)*(h-y)+(p-d)*(p-d));return Math.abs(S)<.001&&(S=1),this.x=(x-v)/S,this.y=(h-y)/S,this.z=(p-d)/S,this.w=Math.acos((f+g+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Dr extends Us{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Nt(0,0,e,t),this.scissorTest=!1,this.viewport=new Nt(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new fn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:vn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ta(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class gg extends fn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=mn,this.minFilter=mn,this.wrapR=ii,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nF extends Dr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new gg(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class $_ extends fn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=mn,this.minFilter=mn,this.wrapR=ii,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class iF extends Dr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new $_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class rF extends Dr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class si{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let u=i[r+0],f=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],g=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=u,e[t+1]=f,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=g,e[t+2]=v,e[t+3]=y;return}if(h!==y||u!==p||f!==g||d!==v){let x=1-a;const _=u*p+f*g+d*v+h*y,S=_>=0?1:-1,M=1-_*_;if(M>Number.EPSILON){const A=Math.sqrt(M),P=Math.atan2(A,_*S);x=Math.sin(x*P)/A,a=Math.sin(a*P)/A}const b=a*S;if(u=u*x+p*b,f=f*x+g*b,d=d*x+v*b,h=h*x+y*b,x===1-a){const A=1/Math.sqrt(u*u+f*f+d*d+h*h);u*=A,f*=A,d*=A,h*=A}}e[t]=u,e[t+1]=f,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],u=i[r+1],f=i[r+2],d=i[r+3],h=s[o],p=s[o+1],g=s[o+2],v=s[o+3];return e[t]=a*v+d*h+u*g-f*p,e[t+1]=u*v+d*p+f*h-a*g,e[t+2]=f*v+d*g+a*p-u*h,e[t+3]=d*v-a*h-u*p-f*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,u=Math.sin,f=a(i/2),d=a(r/2),h=a(s/2),p=u(i/2),g=u(r/2),v=u(s/2);switch(o){case"XYZ":this._x=p*d*h+f*g*v,this._y=f*g*h-p*d*v,this._z=f*d*v+p*g*h,this._w=f*d*h-p*g*v;break;case"YXZ":this._x=p*d*h+f*g*v,this._y=f*g*h-p*d*v,this._z=f*d*v-p*g*h,this._w=f*d*h+p*g*v;break;case"ZXY":this._x=p*d*h-f*g*v,this._y=f*g*h+p*d*v,this._z=f*d*v+p*g*h,this._w=f*d*h-p*g*v;break;case"ZYX":this._x=p*d*h-f*g*v,this._y=f*g*h+p*d*v,this._z=f*d*v-p*g*h,this._w=f*d*h+p*g*v;break;case"YZX":this._x=p*d*h+f*g*v,this._y=f*g*h+p*d*v,this._z=f*d*v-p*g*h,this._w=f*d*h-p*g*v;break;case"XZY":this._x=p*d*h-f*g*v,this._y=f*g*h-p*d*v,this._z=f*d*v+p*g*h,this._w=f*d*h+p*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],u=t[9],f=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(d-u)*g,this._y=(s-f)*g,this._z=(o-r)*g}else if(i>a&&i>h){const g=2*Math.sqrt(1+i-a-h);this._w=(d-u)/g,this._x=.25*g,this._y=(r+o)/g,this._z=(s+f)/g}else if(a>h){const g=2*Math.sqrt(1+a-i-h);this._w=(s-f)/g,this._x=(r+o)/g,this._y=.25*g,this._z=(u+d)/g}else{const g=2*Math.sqrt(1+h-i-a);this._w=(o-r)/g,this._x=(s+f)/g,this._y=(u+d)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(yn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,u=t._y,f=t._z,d=t._w;return this._x=i*d+o*a+r*f-s*u,this._y=r*d+o*u+s*a-i*f,this._z=s*d+o*f+i*u-r*a,this._w=o*d-i*a-r*u-s*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const u=1-a*a;if(u<=Number.EPSILON){const g=1-t;return this._w=g*o+t*this._w,this._x=g*i+t*this._x,this._y=g*r+t*this._y,this._z=g*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(u),d=Math.atan2(f,a),h=Math.sin((1-t)*d)/f,p=Math.sin(t*d)/f;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class z{constructor(e=0,t=0,i=0){z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(G3.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(G3.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,u=e.w,f=u*t+o*r-a*i,d=u*i+a*t-s*r,h=u*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=f*u+p*-s+d*-a-h*-o,this.y=d*u+p*-o+h*-s-f*-a,this.z=h*u+p*-a+f*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,u=t.z;return this.x=r*u-s*a,this.y=s*o-i*u,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return bv.copy(this).projectOnVector(e),this.sub(bv)}reflect(e){return this.sub(bv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(yn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const bv=new z,G3=new si;class Za{constructor(e=new z(1/0,1/0,1/0),t=new z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let u=0,f=e.length;u<f;u+=3){const d=e[u],h=e[u+1],p=e[u+2];d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let u=0,f=e.count;u<f;u++){const d=e.getX(u),h=e.getY(u),p=e.getZ(u);d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ta.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)ta.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ta)}else i.boundingBox===null&&i.computeBoundingBox(),Tv.copy(i.boundingBox),Tv.applyMatrix4(e.matrixWorld),this.union(Tv);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ta),ta.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(gc),Wh.subVectors(this.max,gc),gl.subVectors(e.a,gc),vl.subVectors(e.b,gc),yl.subVectors(e.c,gc),Qs.subVectors(vl,gl),$s.subVectors(yl,vl),na.subVectors(gl,yl);let t=[0,-Qs.z,Qs.y,0,-$s.z,$s.y,0,-na.z,na.y,Qs.z,0,-Qs.x,$s.z,0,-$s.x,na.z,0,-na.x,-Qs.y,Qs.x,0,-$s.y,$s.x,0,-na.y,na.x,0];return!Ev(t,gl,vl,yl,Wh)||(t=[1,0,0,0,1,0,0,0,1],!Ev(t,gl,vl,yl,Wh))?!1:(Gh.crossVectors(Qs,$s),t=[Gh.x,Gh.y,Gh.z],Ev(t,gl,vl,yl,Wh))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ta.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ta).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(fs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fs),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fs=[new z,new z,new z,new z,new z,new z,new z,new z],ta=new z,Tv=new Za,gl=new z,vl=new z,yl=new z,Qs=new z,$s=new z,na=new z,gc=new z,Wh=new z,Gh=new z,ia=new z;function Ev(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){ia.fromArray(n,s);const a=r.x*Math.abs(ia.x)+r.y*Math.abs(ia.y)+r.z*Math.abs(ia.z),u=e.dot(ia),f=t.dot(ia),d=i.dot(ia);if(Math.max(-Math.max(u,f,d),Math.min(u,f,d))>a)return!1}return!0}const sF=new Za,vc=new z,Av=new z;class Ja{constructor(e=new z,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):sF.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;vc.subVectors(e,this.center);const t=vc.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(vc,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Av.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(vc.copy(e.center).add(Av)),this.expandByPoint(vc.copy(e.center).sub(Av))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ds=new z,Cv=new z,jh=new z,eo=new z,Pv=new z,Xh=new z,Lv=new z;class Iu{constructor(e=new z,t=new z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ds)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ds.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ds.copy(this.direction).multiplyScalar(t).add(this.origin),ds.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Cv.copy(e).add(t).multiplyScalar(.5),jh.copy(t).sub(e).normalize(),eo.copy(this.origin).sub(Cv);const s=e.distanceTo(t)*.5,o=-this.direction.dot(jh),a=eo.dot(this.direction),u=-eo.dot(jh),f=eo.lengthSq(),d=Math.abs(1-o*o);let h,p,g,v;if(d>0)if(h=o*u-a,p=o*a-u,v=s*d,h>=0)if(p>=-v)if(p<=v){const y=1/d;h*=y,p*=y,g=h*(h+o*p+2*a)+p*(o*h+p+2*u)+f}else p=s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*u)+f;else p=-s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*u)+f;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-u),s),g=-h*h+p*(p+2*u)+f):p<=v?(h=0,p=Math.min(Math.max(-s,-u),s),g=p*(p+2*u)+f):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-u),s),g=-h*h+p*(p+2*u)+f);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*u)+f;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(jh).multiplyScalar(p).add(Cv),g}intersectSphere(e,t){ds.subVectors(e.center,this.origin);const i=ds.dot(this.direction),r=ds.dot(ds)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,u=i+o;return a<0&&u<0?null:a<0?this.at(u,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,u;const f=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return f>=0?(i=(e.min.x-p.x)*f,r=(e.max.x-p.x)*f):(i=(e.max.x-p.x)*f,r=(e.min.x-p.x)*f),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,u=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,u=(e.min.z-p.z)*h),i>u||a>r)||((a>i||i!==i)&&(i=a),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ds)!==null}intersectTriangle(e,t,i,r,s){Pv.subVectors(t,e),Xh.subVectors(i,e),Lv.crossVectors(Pv,Xh);let o=this.direction.dot(Lv),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;eo.subVectors(this.origin,e);const u=a*this.direction.dot(Xh.crossVectors(eo,Xh));if(u<0)return null;const f=a*this.direction.dot(Pv.cross(eo));if(f<0||u+f>o)return null;const d=-a*eo.dot(Lv);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ut{constructor(){ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,u,f,d,h,p,g,v,y,x){const _=this.elements;return _[0]=e,_[4]=t,_[8]=i,_[12]=r,_[1]=s,_[5]=o,_[9]=a,_[13]=u,_[2]=f,_[6]=d,_[10]=h,_[14]=p,_[3]=g,_[7]=v,_[11]=y,_[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ut().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/xl.setFromMatrixColumn(e,0).length(),s=1/xl.setFromMatrixColumn(e,1).length(),o=1/xl.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),u=Math.cos(r),f=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,g=o*h,v=a*d,y=a*h;t[0]=u*d,t[4]=-u*h,t[8]=f,t[1]=g+v*f,t[5]=p-y*f,t[9]=-a*u,t[2]=y-p*f,t[6]=v+g*f,t[10]=o*u}else if(e.order==="YXZ"){const p=u*d,g=u*h,v=f*d,y=f*h;t[0]=p+y*a,t[4]=v*a-g,t[8]=o*f,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=g*a-v,t[6]=y+p*a,t[10]=o*u}else if(e.order==="ZXY"){const p=u*d,g=u*h,v=f*d,y=f*h;t[0]=p-y*a,t[4]=-o*h,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*d,t[9]=y-p*a,t[2]=-o*f,t[6]=a,t[10]=o*u}else if(e.order==="ZYX"){const p=o*d,g=o*h,v=a*d,y=a*h;t[0]=u*d,t[4]=v*f-g,t[8]=p*f+y,t[1]=u*h,t[5]=y*f+p,t[9]=g*f-v,t[2]=-f,t[6]=a*u,t[10]=o*u}else if(e.order==="YZX"){const p=o*u,g=o*f,v=a*u,y=a*f;t[0]=u*d,t[4]=y-p*h,t[8]=v*h+g,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-f*d,t[6]=g*h+v,t[10]=p-y*h}else if(e.order==="XZY"){const p=o*u,g=o*f,v=a*u,y=a*f;t[0]=u*d,t[4]=-h,t[8]=f*d,t[1]=p*h+y,t[5]=o*d,t[9]=g*h-v,t[2]=v*h-g,t[6]=a*d,t[10]=y*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(oF,e,aF)}lookAt(e,t,i){const r=this.elements;return Ni.subVectors(e,t),Ni.lengthSq()===0&&(Ni.z=1),Ni.normalize(),to.crossVectors(i,Ni),to.lengthSq()===0&&(Math.abs(i.z)===1?Ni.x+=1e-4:Ni.z+=1e-4,Ni.normalize(),to.crossVectors(i,Ni)),to.normalize(),Yh.crossVectors(Ni,to),r[0]=to.x,r[4]=Yh.x,r[8]=Ni.x,r[1]=to.y,r[5]=Yh.y,r[9]=Ni.y,r[2]=to.z,r[6]=Yh.z,r[10]=Ni.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],u=i[8],f=i[12],d=i[1],h=i[5],p=i[9],g=i[13],v=i[2],y=i[6],x=i[10],_=i[14],S=i[3],M=i[7],b=i[11],A=i[15],P=r[0],D=r[4],E=r[8],R=r[12],I=r[1],F=r[5],j=r[9],Y=r[13],W=r[2],$=r[6],se=r[10],ae=r[14],k=r[3],H=r[7],V=r[11],te=r[15];return s[0]=o*P+a*I+u*W+f*k,s[4]=o*D+a*F+u*$+f*H,s[8]=o*E+a*j+u*se+f*V,s[12]=o*R+a*Y+u*ae+f*te,s[1]=d*P+h*I+p*W+g*k,s[5]=d*D+h*F+p*$+g*H,s[9]=d*E+h*j+p*se+g*V,s[13]=d*R+h*Y+p*ae+g*te,s[2]=v*P+y*I+x*W+_*k,s[6]=v*D+y*F+x*$+_*H,s[10]=v*E+y*j+x*se+_*V,s[14]=v*R+y*Y+x*ae+_*te,s[3]=S*P+M*I+b*W+A*k,s[7]=S*D+M*F+b*$+A*H,s[11]=S*E+M*j+b*se+A*V,s[15]=S*R+M*Y+b*ae+A*te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],u=e[9],f=e[13],d=e[2],h=e[6],p=e[10],g=e[14],v=e[3],y=e[7],x=e[11],_=e[15];return v*(+s*u*h-r*f*h-s*a*p+i*f*p+r*a*g-i*u*g)+y*(+t*u*g-t*f*p+s*o*p-r*o*g+r*f*d-s*u*d)+x*(+t*f*h-t*a*g-s*o*h+i*o*g+s*a*d-i*f*d)+_*(-r*a*d-t*u*h+t*a*p+r*o*h-i*o*p+i*u*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],f=e[7],d=e[8],h=e[9],p=e[10],g=e[11],v=e[12],y=e[13],x=e[14],_=e[15],S=h*x*f-y*p*f+y*u*g-a*x*g-h*u*_+a*p*_,M=v*p*f-d*x*f-v*u*g+o*x*g+d*u*_-o*p*_,b=d*y*f-v*h*f+v*a*g-o*y*g-d*a*_+o*h*_,A=v*h*u-d*y*u-v*a*p+o*y*p+d*a*x-o*h*x,P=t*S+i*M+r*b+s*A;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/P;return e[0]=S*D,e[1]=(y*p*s-h*x*s-y*r*g+i*x*g+h*r*_-i*p*_)*D,e[2]=(a*x*s-y*u*s+y*r*f-i*x*f-a*r*_+i*u*_)*D,e[3]=(h*u*s-a*p*s-h*r*f+i*p*f+a*r*g-i*u*g)*D,e[4]=M*D,e[5]=(d*x*s-v*p*s+v*r*g-t*x*g-d*r*_+t*p*_)*D,e[6]=(v*u*s-o*x*s-v*r*f+t*x*f+o*r*_-t*u*_)*D,e[7]=(o*p*s-d*u*s+d*r*f-t*p*f-o*r*g+t*u*g)*D,e[8]=b*D,e[9]=(v*h*s-d*y*s-v*i*g+t*y*g+d*i*_-t*h*_)*D,e[10]=(o*y*s-v*a*s+v*i*f-t*y*f-o*i*_+t*a*_)*D,e[11]=(d*a*s-o*h*s-d*i*f+t*h*f+o*i*g-t*a*g)*D,e[12]=A*D,e[13]=(d*y*r-v*h*r+v*i*p-t*y*p-d*i*x+t*h*x)*D,e[14]=(v*a*r-o*y*r-v*i*u+t*y*u+o*i*x-t*a*x)*D,e[15]=(o*h*r-d*a*r+d*i*u-t*h*u-o*i*p+t*a*p)*D,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,u=e.z,f=s*o,d=s*a;return this.set(f*o+i,f*a-r*u,f*u+r*a,0,f*a+r*u,d*a+i,d*u-r*o,0,f*u-r*a,d*u+r*o,s*u*u+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,u=t._w,f=s+s,d=o+o,h=a+a,p=s*f,g=s*d,v=s*h,y=o*d,x=o*h,_=a*h,S=u*f,M=u*d,b=u*h,A=i.x,P=i.y,D=i.z;return r[0]=(1-(y+_))*A,r[1]=(g+b)*A,r[2]=(v-M)*A,r[3]=0,r[4]=(g-b)*P,r[5]=(1-(p+_))*P,r[6]=(x+S)*P,r[7]=0,r[8]=(v+M)*D,r[9]=(x-S)*D,r[10]=(1-(p+y))*D,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=xl.set(r[0],r[1],r[2]).length();const o=xl.set(r[4],r[5],r[6]).length(),a=xl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],_r.copy(this);const f=1/s,d=1/o,h=1/a;return _r.elements[0]*=f,_r.elements[1]*=f,_r.elements[2]*=f,_r.elements[4]*=d,_r.elements[5]*=d,_r.elements[6]*=d,_r.elements[8]*=h,_r.elements[9]*=h,_r.elements[10]*=h,t.setFromRotationMatrix(_r),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,u=2*s/(t-e),f=2*s/(i-r),d=(t+e)/(t-e),h=(i+r)/(i-r),p=-(o+s)/(o-s),g=-2*o*s/(o-s);return a[0]=u,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=f,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=g,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,u=1/(t-e),f=1/(i-r),d=1/(o-s),h=(t+e)*u,p=(i+r)*f,g=(o+s)*d;return a[0]=2*u,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*f,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-g,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const xl=new z,_r=new ut,oF=new z(0,0,0),aF=new z(1,1,1),to=new z,Yh=new z,Ni=new z,j3=new ut,X3=new si;class ld{constructor(e=0,t=0,i=0,r=ld.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],u=r[1],f=r[5],d=r[9],h=r[2],p=r[6],g=r[10];switch(t){case"XYZ":this._y=Math.asin(yn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,f),this._z=0);break;case"YXZ":this._x=Math.asin(-yn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(yn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,g),this._z=Math.atan2(-o,f)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-yn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-o,f));break;case"YZX":this._z=Math.asin(yn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-d,f),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-yn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,f),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return j3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(j3,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return X3.setFromEuler(this),this.setFromQuaternion(X3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ld.DEFAULT_ORDER="XYZ";class Ia{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let lF=0;const Y3=new z,_l=new si,hs=new ut,qh=new z,yc=new z,uF=new z,cF=new si,q3=new z(1,0,0),Z3=new z(0,1,0),J3=new z(0,0,1),fF={type:"added"},K3={type:"removed"};class Dt extends Us{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:lF++}),this.uuid=Ui(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Dt.DEFAULT_UP.clone();const e=new z,t=new ld,i=new si,r=new z(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ut},normalMatrix:{value:new mi}}),this.matrix=new ut,this.matrixWorld=new ut,this.matrixAutoUpdate=Dt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Dt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Ia,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return _l.setFromAxisAngle(e,t),this.quaternion.multiply(_l),this}rotateOnWorldAxis(e,t){return _l.setFromAxisAngle(e,t),this.quaternion.premultiply(_l),this}rotateX(e){return this.rotateOnAxis(q3,e)}rotateY(e){return this.rotateOnAxis(Z3,e)}rotateZ(e){return this.rotateOnAxis(J3,e)}translateOnAxis(e,t){return Y3.copy(e).applyQuaternion(this.quaternion),this.position.add(Y3.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(q3,e)}translateY(e){return this.translateOnAxis(Z3,e)}translateZ(e){return this.translateOnAxis(J3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(hs.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?qh.copy(e):qh.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),yc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?hs.lookAt(yc,qh,this.up):hs.lookAt(qh,yc,this.up),this.quaternion.setFromRotationMatrix(hs),r&&(hs.extractRotation(r.matrixWorld),_l.setFromRotationMatrix(hs),this.quaternion.premultiply(_l.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(fF)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(K3)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(K3)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),hs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),hs.multiply(e.parent.matrixWorld)),e.applyMatrix4(hs),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(yc,e,uF),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(yc,cF,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,u){return a[u.uuid]===void 0&&(a[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const u=a.shapes;if(Array.isArray(u))for(let f=0,d=u.length;f<d;f++){const h=u[f];s(e.shapes,h)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let u=0,f=this.material.length;u<f;u++)a.push(s(e.materials,this.material[u]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const u=this.animations[a];r.animations.push(s(e.animations,u))}}if(t){const a=o(e.geometries),u=o(e.materials),f=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),g=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),u.length>0&&(i.materials=u),f.length>0&&(i.textures=f),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),g.length>0&&(i.animations=g),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const u=[];for(const f in a){const d=a[f];delete d.metadata,u.push(d)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Dt.DEFAULT_UP=new z(0,1,0);Dt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Dt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const wr=new z,ps=new z,Rv=new z,ms=new z,wl=new z,Sl=new z,Q3=new z,Dv=new z,kv=new z,Iv=new z;class lr{constructor(e=new z,t=new z,i=new z){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),wr.subVectors(e,t),r.cross(wr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){wr.subVectors(r,t),ps.subVectors(i,t),Rv.subVectors(e,t);const o=wr.dot(wr),a=wr.dot(ps),u=wr.dot(Rv),f=ps.dot(ps),d=ps.dot(Rv),h=o*f-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,g=(f*u-a*d)*p,v=(o*d-a*u)*p;return s.set(1-g-v,v,g)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ms),ms.x>=0&&ms.y>=0&&ms.x+ms.y<=1}static getUV(e,t,i,r,s,o,a,u){return this.getBarycoord(e,t,i,r,ms),u.set(0,0),u.addScaledVector(s,ms.x),u.addScaledVector(o,ms.y),u.addScaledVector(a,ms.z),u}static isFrontFacing(e,t,i,r){return wr.subVectors(i,t),ps.subVectors(e,t),wr.cross(ps).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return wr.subVectors(this.c,this.b),ps.subVectors(this.a,this.b),wr.cross(ps).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return lr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return lr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return lr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return lr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return lr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;wl.subVectors(r,i),Sl.subVectors(s,i),Dv.subVectors(e,i);const u=wl.dot(Dv),f=Sl.dot(Dv);if(u<=0&&f<=0)return t.copy(i);kv.subVectors(e,r);const d=wl.dot(kv),h=Sl.dot(kv);if(d>=0&&h<=d)return t.copy(r);const p=u*h-d*f;if(p<=0&&u>=0&&d<=0)return o=u/(u-d),t.copy(i).addScaledVector(wl,o);Iv.subVectors(e,s);const g=wl.dot(Iv),v=Sl.dot(Iv);if(v>=0&&g<=v)return t.copy(s);const y=g*f-u*v;if(y<=0&&f>=0&&v<=0)return a=f/(f-v),t.copy(i).addScaledVector(Sl,a);const x=d*v-g*h;if(x<=0&&h-d>=0&&g-v>=0)return Q3.subVectors(s,r),a=(h-d)/(h-d+(g-v)),t.copy(r).addScaledVector(Q3,a);const _=1/(x+y+p);return o=y*_,a=p*_,t.copy(i).addScaledVector(wl,o).addScaledVector(Sl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let dF=0;class jn extends Us{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:dF++}),this.uuid=Ui(),this.name="",this.type="Material",this.blending=La,this.side=zs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=j_,this.blendDst=X_,this.blendEquation=ma,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Im,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=C4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Kp,this.stencilZFail=Kp,this.stencilZPass=Kp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==La&&(i.blending=this.blending),this.side!==zs&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const u=s[a];delete u.metadata,o.push(u)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Bo extends jn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ad,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Sn=new z,Zh=new ve;class Vt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Ff,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Zh.fromBufferAttribute(this,t),Zh.applyMatrix3(e),this.setXY(t,Zh.x,Zh.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Sn.fromBufferAttribute(this,t),Sn.applyMatrix3(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Sn.fromBufferAttribute(this,t),Sn.applyMatrix4(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Sn.fromBufferAttribute(this,t),Sn.applyNormalMatrix(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Sn.fromBufferAttribute(this,t),Sn.transformDirection(e),this.setXYZ(t,Sn.x,Sn.y,Sn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Cs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Cs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Cs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Cs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array),s=Ut(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ff&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class hF extends Vt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class pF extends Vt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class mF extends Vt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class gF extends Vt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class ew extends Vt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class vF extends Vt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class tw extends Vt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class yF extends Vt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class We extends Vt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class xF extends Vt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let _F=0;const ir=new ut,Nv=new Dt,Ml=new z,zi=new Za,xc=new Za,zn=new z;class mt extends Us{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_F++}),this.uuid=Ui(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(L4(e)?tw:ew)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new mi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ir.makeRotationFromQuaternion(e),this.applyMatrix4(ir),this}rotateX(e){return ir.makeRotationX(e),this.applyMatrix4(ir),this}rotateY(e){return ir.makeRotationY(e),this.applyMatrix4(ir),this}rotateZ(e){return ir.makeRotationZ(e),this.applyMatrix4(ir),this}translate(e,t,i){return ir.makeTranslation(e,t,i),this.applyMatrix4(ir),this}scale(e,t,i){return ir.makeScale(e,t,i),this.applyMatrix4(ir),this}lookAt(e){return Nv.lookAt(e),Nv.updateMatrix(),this.applyMatrix4(Nv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ml).negate(),this.translate(Ml.x,Ml.y,Ml.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new We(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Za);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];zi.setFromBufferAttribute(s),this.morphTargetsRelative?(zn.addVectors(this.boundingBox.min,zi.min),this.boundingBox.expandByPoint(zn),zn.addVectors(this.boundingBox.max,zi.max),this.boundingBox.expandByPoint(zn)):(this.boundingBox.expandByPoint(zi.min),this.boundingBox.expandByPoint(zi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ja);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new z,1/0);return}if(e){const i=this.boundingSphere.center;if(zi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];xc.setFromBufferAttribute(a),this.morphTargetsRelative?(zn.addVectors(zi.min,xc.min),zi.expandByPoint(zn),zn.addVectors(zi.max,xc.max),zi.expandByPoint(zn)):(zi.expandByPoint(xc.min),zi.expandByPoint(xc.max))}zi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)zn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(zn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],u=this.morphTargetsRelative;for(let f=0,d=a.count;f<d;f++)zn.fromBufferAttribute(a,f),u&&(Ml.fromBufferAttribute(e,f),zn.add(Ml)),r=Math.max(r,i.distanceToSquared(zn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Vt(new Float32Array(4*a),4));const u=this.getAttribute("tangent").array,f=[],d=[];for(let I=0;I<a;I++)f[I]=new z,d[I]=new z;const h=new z,p=new z,g=new z,v=new ve,y=new ve,x=new ve,_=new z,S=new z;function M(I,F,j){h.fromArray(r,I*3),p.fromArray(r,F*3),g.fromArray(r,j*3),v.fromArray(o,I*2),y.fromArray(o,F*2),x.fromArray(o,j*2),p.sub(h),g.sub(h),y.sub(v),x.sub(v);const Y=1/(y.x*x.y-x.x*y.y);isFinite(Y)&&(_.copy(p).multiplyScalar(x.y).addScaledVector(g,-y.y).multiplyScalar(Y),S.copy(g).multiplyScalar(y.x).addScaledVector(p,-x.x).multiplyScalar(Y),f[I].add(_),f[F].add(_),f[j].add(_),d[I].add(S),d[F].add(S),d[j].add(S))}let b=this.groups;b.length===0&&(b=[{start:0,count:i.length}]);for(let I=0,F=b.length;I<F;++I){const j=b[I],Y=j.start,W=j.count;for(let $=Y,se=Y+W;$<se;$+=3)M(i[$+0],i[$+1],i[$+2])}const A=new z,P=new z,D=new z,E=new z;function R(I){D.fromArray(s,I*3),E.copy(D);const F=f[I];A.copy(F),A.sub(D.multiplyScalar(D.dot(F))).normalize(),P.crossVectors(E,F);const Y=P.dot(d[I])<0?-1:1;u[I*4]=A.x,u[I*4+1]=A.y,u[I*4+2]=A.z,u[I*4+3]=Y}for(let I=0,F=b.length;I<F;++I){const j=b[I],Y=j.start,W=j.count;for(let $=Y,se=Y+W;$<se;$+=3)R(i[$+0]),R(i[$+1]),R(i[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Vt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,g=i.count;p<g;p++)i.setXYZ(p,0,0,0);const r=new z,s=new z,o=new z,a=new z,u=new z,f=new z,d=new z,h=new z;if(e)for(let p=0,g=e.count;p<g;p+=3){const v=e.getX(p+0),y=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,x),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,v),u.fromBufferAttribute(i,y),f.fromBufferAttribute(i,x),a.add(d),u.add(d),f.add(d),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(y,u.x,u.y,u.z),i.setXYZ(x,f.x,f.y,f.z)}else for(let p=0,g=t.count;p<g;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)zn.fromBufferAttribute(e,t),zn.normalize(),e.setXYZ(t,zn.x,zn.y,zn.z)}toNonIndexed(){function e(a,u){const f=a.array,d=a.itemSize,h=a.normalized,p=new f.constructor(u.length*d);let g=0,v=0;for(let y=0,x=u.length;y<x;y++){a.isInterleavedBufferAttribute?g=u[y]*a.data.stride+a.offset:g=u[y]*d;for(let _=0;_<d;_++)p[v++]=f[g++]}return new Vt(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new mt,i=this.index.array,r=this.attributes;for(const a in r){const u=r[a],f=e(u,i);t.setAttribute(a,f)}const s=this.morphAttributes;for(const a in s){const u=[],f=s[a];for(let d=0,h=f.length;d<h;d++){const p=f[d],g=e(p,i);u.push(g)}t.morphAttributes[a]=u}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,u=o.length;a<u;a++){const f=o[a];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const u in i){const f=i[u];e.data.attributes[u]=f.toJSON(e.data)}const r={};let s=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],d=[];for(let h=0,p=f.length;h<p;h++){const g=f[h];d.push(g.toJSON(e.data))}d.length>0&&(r[u]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const f in r){const d=r[f];this.setAttribute(f,d.clone(t))}const s=e.morphAttributes;for(const f in s){const d=[],h=s[f];for(let p=0,g=h.length;p<g;p++)d.push(h[p].clone(t));this.morphAttributes[f]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let f=0,d=o.length;f<d;f++){const h=o[f];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const $3=new ut,bl=new Iu,zv=new Ja,_c=new z,wc=new z,Sc=new z,Ov=new z,Jh=new z,Kh=new ve,Qh=new ve,$h=new ve,Fv=new z,ep=new z;class Hn extends Dt{constructor(e=new mt,t=new Bo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Jh.set(0,0,0);for(let u=0,f=s.length;u<f;u++){const d=a[u],h=s[u];d!==0&&(Ov.fromBufferAttribute(h,e),o?Jh.addScaledVector(Ov,d):Jh.addScaledVector(Ov.sub(t),d))}t.add(Jh)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),zv.copy(i.boundingSphere),zv.applyMatrix4(s),e.ray.intersectsSphere(zv)===!1)||($3.copy(s).invert(),bl.copy(e.ray).applyMatrix4($3),i.boundingBox!==null&&bl.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,u=i.attributes.position,f=i.attributes.uv,d=i.attributes.uv2,h=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let g=0,v=h.length;g<v;g++){const y=h[g],x=r[y.materialIndex],_=Math.max(y.start,p.start),S=Math.min(a.count,Math.min(y.start+y.count,p.start+p.count));for(let M=_,b=S;M<b;M+=3){const A=a.getX(M),P=a.getX(M+1),D=a.getX(M+2);o=tp(this,x,e,bl,f,d,A,P,D),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const g=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let y=g,x=v;y<x;y+=3){const _=a.getX(y),S=a.getX(y+1),M=a.getX(y+2);o=tp(this,r,e,bl,f,d,_,S,M),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(u!==void 0)if(Array.isArray(r))for(let g=0,v=h.length;g<v;g++){const y=h[g],x=r[y.materialIndex],_=Math.max(y.start,p.start),S=Math.min(u.count,Math.min(y.start+y.count,p.start+p.count));for(let M=_,b=S;M<b;M+=3){const A=M,P=M+1,D=M+2;o=tp(this,x,e,bl,f,d,A,P,D),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const g=Math.max(0,p.start),v=Math.min(u.count,p.start+p.count);for(let y=g,x=v;y<x;y+=3){const _=y,S=y+1,M=y+2;o=tp(this,r,e,bl,f,d,_,S,M),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}}function wF(n,e,t,i,r,s,o,a){let u;if(e.side===Li?u=i.intersectTriangle(o,s,r,!0,a):u=i.intersectTriangle(r,s,o,e.side===zs,a),u===null)return null;ep.copy(a),ep.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(ep);return f<t.near||f>t.far?null:{distance:f,point:ep.clone(),object:n}}function tp(n,e,t,i,r,s,o,a,u){n.getVertexPosition(o,_c),n.getVertexPosition(a,wc),n.getVertexPosition(u,Sc);const f=wF(n,e,t,i,_c,wc,Sc,Fv);if(f){r&&(Kh.fromBufferAttribute(r,o),Qh.fromBufferAttribute(r,a),$h.fromBufferAttribute(r,u),f.uv=lr.getUV(Fv,_c,wc,Sc,Kh,Qh,$h,new ve)),s&&(Kh.fromBufferAttribute(s,o),Qh.fromBufferAttribute(s,a),$h.fromBufferAttribute(s,u),f.uv2=lr.getUV(Fv,_c,wc,Sc,Kh,Qh,$h,new ve));const d={a:o,b:a,c:u,normal:new z,materialIndex:0};lr.getNormal(_c,wc,Sc,d.normal),f.face=d}return f}class Uo extends mt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const u=[],f=[],d=[],h=[];let p=0,g=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(u),this.setAttribute("position",new We(f,3)),this.setAttribute("normal",new We(d,3)),this.setAttribute("uv",new We(h,2));function v(y,x,_,S,M,b,A,P,D,E,R){const I=b/D,F=A/E,j=b/2,Y=A/2,W=P/2,$=D+1,se=E+1;let ae=0,k=0;const H=new z;for(let V=0;V<se;V++){const te=V*F-Y;for(let G=0;G<$;G++){const fe=G*I-j;H[y]=fe*S,H[x]=te*M,H[_]=W,f.push(H.x,H.y,H.z),H[y]=0,H[x]=0,H[_]=P>0?1:-1,d.push(H.x,H.y,H.z),h.push(G/D),h.push(1-V/E),ae+=1}}for(let V=0;V<E;V++)for(let te=0;te<D;te++){const G=p+te+$*V,fe=p+te+$*(V+1),ue=p+(te+1)+$*(V+1),xe=p+(te+1)+$*V;u.push(G,fe,xe),u.push(fe,ue,xe),k+=6}a.addGroup(g,k,R),g+=k,p+=ae}}static fromJSON(e){return new Uo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function bu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function di(n){const e={};for(let t=0;t<n.length;t++){const i=bu(n[t]);for(const r in i)e[r]=i[r]}return e}function SF(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function D4(n){return n.getRenderTarget()===null&&n.outputEncoding===Ht?Tr:Mu}const k4={clone:bu,merge:di};var MF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,bF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class $r extends jn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=MF,this.fragmentShader=bF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=bu(e.uniforms),this.uniformsGroups=SF(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class ud extends Dt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ut,this.projectionMatrix=new ut,this.projectionMatrixInverse=new ut}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class xn extends ud{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Bf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Da*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bf*2*Math.atan(Math.tan(Da*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Da*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,f=o.fullHeight;s+=o.offsetX*r/u,t-=o.offsetY*i/f,r*=o.width/u,i*=o.height/f}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Tl=-90,El=1;class I4 extends Dt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new xn(Tl,El,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new xn(Tl,El,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new xn(Tl,El,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new xn(Tl,El,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const u=new xn(Tl,El,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,1),this.add(u);const f=new xn(Tl,El,e,t);f.layers=this.layers,f.up.set(0,1,0),f.lookAt(0,0,-1),this.add(f)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,u,f]=this.children,d=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=Lr,e.xr.enabled=!1;const g=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,u),i.texture.generateMipmaps=g,e.setRenderTarget(i,5),e.render(t,f),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class cd extends fn{constructor(e,t,i,r,s,o,a,u,f,d){e=e!==void 0?e:[],t=t!==void 0?t:Co,super(e,t,i,r,s,o,a,u,f,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class N4 extends Dr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new cd(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:vn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Uo(5,5,5),s=new $r({name:"CubemapFromEquirect",uniforms:bu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Li,blending:Ls});s.uniforms.tEquirect.value=t;const o=new Hn(r,s),a=t.minFilter;return t.minFilter===Lo&&(t.minFilter=vn),new I4(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const Bv=new z,TF=new z,EF=new mi;class ws{constructor(e=new z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Bv.subVectors(i,t).cross(TF.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(Bv),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||EF.getNormalMatrix(e),r=this.coplanarPoint(Bv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Al=new Ja,np=new z;class vg{constructor(e=new ws,t=new ws,i=new ws,r=new ws,s=new ws,o=new ws){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],u=i[4],f=i[5],d=i[6],h=i[7],p=i[8],g=i[9],v=i[10],y=i[11],x=i[12],_=i[13],S=i[14],M=i[15];return t[0].setComponents(a-r,h-u,y-p,M-x).normalize(),t[1].setComponents(a+r,h+u,y+p,M+x).normalize(),t[2].setComponents(a+s,h+f,y+g,M+_).normalize(),t[3].setComponents(a-s,h-f,y-g,M-_).normalize(),t[4].setComponents(a-o,h-d,y-v,M-S).normalize(),t[5].setComponents(a+o,h+d,y+v,M+S).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Al.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Al)}intersectsSprite(e){return Al.center.set(0,0,0),Al.radius=.7071067811865476,Al.applyMatrix4(e.matrixWorld),this.intersectsSphere(Al)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(np.x=r.normal.x>0?e.max.x:e.min.x,np.y=r.normal.y>0?e.max.y:e.min.y,np.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(np)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function z4(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function AF(n,e){const t=e.isWebGL2,i=new WeakMap;function r(f,d){const h=f.array,p=f.usage,g=n.createBuffer();n.bindBuffer(d,g),n.bufferData(d,h,p),f.onUploadCallback();let v;if(h instanceof Float32Array)v=5126;else if(h instanceof Uint16Array)if(f.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(h instanceof Int16Array)v=5122;else if(h instanceof Uint32Array)v=5125;else if(h instanceof Int32Array)v=5124;else if(h instanceof Int8Array)v=5120;else if(h instanceof Uint8Array)v=5121;else if(h instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:g,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:f.version}}function s(f,d,h){const p=d.array,g=d.updateRange;n.bindBuffer(h,f),g.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p,g.offset,g.count):n.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p.subarray(g.offset,g.offset+g.count)),g.count=-1),d.onUploadCallback()}function o(f){return f.isInterleavedBufferAttribute&&(f=f.data),i.get(f)}function a(f){f.isInterleavedBufferAttribute&&(f=f.data);const d=i.get(f);d&&(n.deleteBuffer(d.buffer),i.delete(f))}function u(f,d){if(f.isGLBufferAttribute){const p=i.get(f);(!p||p.version<f.version)&&i.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const h=i.get(f);h===void 0?i.set(f,r(f,d)):h.version<f.version&&(s(h.buffer,f,d),h.version=f.version)}return{get:o,remove:a,update:u}}class Nu extends mt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),u=Math.floor(r),f=a+1,d=u+1,h=e/a,p=t/u,g=[],v=[],y=[],x=[];for(let _=0;_<d;_++){const S=_*p-o;for(let M=0;M<f;M++){const b=M*h-s;v.push(b,-S,0),y.push(0,0,1),x.push(M/a),x.push(1-_/u)}}for(let _=0;_<u;_++)for(let S=0;S<a;S++){const M=S+f*_,b=S+f*(_+1),A=S+1+f*(_+1),P=S+1+f*_;g.push(M,b,P),g.push(b,A,P)}this.setIndex(g),this.setAttribute("position",new We(v,3)),this.setAttribute("normal",new We(y,3)),this.setAttribute("uv",new We(x,2))}static fromJSON(e){return new Nu(e.width,e.height,e.widthSegments,e.heightSegments)}}var CF=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,PF=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,LF=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,RF=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,DF=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,kF=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,IF="vec3 transformed = vec3( position );",NF=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,zF=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,OF=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,FF=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,BF=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,UF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,VF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,HF=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,WF=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,GF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,jF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,XF=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,YF=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,qF=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ZF=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,JF=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,KF=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,QF=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,$F=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,eB="gl_FragColor = linearToOutputTexel( gl_FragColor );",tB=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,nB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,iB=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,rB=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,sB=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,oB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,aB=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,lB=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,uB=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,cB=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,fB=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,dB=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,hB=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,pB=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,mB=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,gB=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,vB=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,yB=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,xB=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,_B=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,wB=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,SB=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,MB=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,bB=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,TB=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,EB=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,AB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,CB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,PB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,LB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,RB=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,DB=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,kB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,IB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NB=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,zB=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,OB=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,FB=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,BB=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,UB=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,VB=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,HB=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,WB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,GB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jB=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,XB=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,YB=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,qB=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,ZB=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,JB=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,KB=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,QB=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,$B=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,eU=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,tU=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,nU=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,iU=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,rU=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,sU=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,oU=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,aU=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,lU=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,uU=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,cU=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,fU=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,dU=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,hU=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,pU=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,mU=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,gU=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,vU=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,yU=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,xU=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,_U=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,wU=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,SU=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,MU=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,bU=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,TU=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const EU=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,AU=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,CU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,PU=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,LU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,RU=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,DU=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,kU=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,IU=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,NU=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,zU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,OU=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,FU=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,BU=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,UU=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,VU=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HU=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WU=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GU=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,jU=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XU=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,YU=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,qU=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZU=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JU=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,KU=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QU=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$U=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eV=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,tV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nV=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iV=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,rV=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,pt={alphamap_fragment:CF,alphamap_pars_fragment:PF,alphatest_fragment:LF,alphatest_pars_fragment:RF,aomap_fragment:DF,aomap_pars_fragment:kF,begin_vertex:IF,beginnormal_vertex:NF,bsdfs:zF,iridescence_fragment:OF,bumpmap_pars_fragment:FF,clipping_planes_fragment:BF,clipping_planes_pars_fragment:UF,clipping_planes_pars_vertex:VF,clipping_planes_vertex:HF,color_fragment:WF,color_pars_fragment:GF,color_pars_vertex:jF,color_vertex:XF,common:YF,cube_uv_reflection_fragment:qF,defaultnormal_vertex:ZF,displacementmap_pars_vertex:JF,displacementmap_vertex:KF,emissivemap_fragment:QF,emissivemap_pars_fragment:$F,encodings_fragment:eB,encodings_pars_fragment:tB,envmap_fragment:nB,envmap_common_pars_fragment:iB,envmap_pars_fragment:rB,envmap_pars_vertex:sB,envmap_physical_pars_fragment:vB,envmap_vertex:oB,fog_vertex:aB,fog_pars_vertex:lB,fog_fragment:uB,fog_pars_fragment:cB,gradientmap_pars_fragment:fB,lightmap_fragment:dB,lightmap_pars_fragment:hB,lights_lambert_fragment:pB,lights_lambert_pars_fragment:mB,lights_pars_begin:gB,lights_toon_fragment:yB,lights_toon_pars_fragment:xB,lights_phong_fragment:_B,lights_phong_pars_fragment:wB,lights_physical_fragment:SB,lights_physical_pars_fragment:MB,lights_fragment_begin:bB,lights_fragment_maps:TB,lights_fragment_end:EB,logdepthbuf_fragment:AB,logdepthbuf_pars_fragment:CB,logdepthbuf_pars_vertex:PB,logdepthbuf_vertex:LB,map_fragment:RB,map_pars_fragment:DB,map_particle_fragment:kB,map_particle_pars_fragment:IB,metalnessmap_fragment:NB,metalnessmap_pars_fragment:zB,morphcolor_vertex:OB,morphnormal_vertex:FB,morphtarget_pars_vertex:BB,morphtarget_vertex:UB,normal_fragment_begin:VB,normal_fragment_maps:HB,normal_pars_fragment:WB,normal_pars_vertex:GB,normal_vertex:jB,normalmap_pars_fragment:XB,clearcoat_normal_fragment_begin:YB,clearcoat_normal_fragment_maps:qB,clearcoat_pars_fragment:ZB,iridescence_pars_fragment:JB,output_fragment:KB,packing:QB,premultiplied_alpha_fragment:$B,project_vertex:eU,dithering_fragment:tU,dithering_pars_fragment:nU,roughnessmap_fragment:iU,roughnessmap_pars_fragment:rU,shadowmap_pars_fragment:sU,shadowmap_pars_vertex:oU,shadowmap_vertex:aU,shadowmask_pars_fragment:lU,skinbase_vertex:uU,skinning_pars_vertex:cU,skinning_vertex:fU,skinnormal_vertex:dU,specularmap_fragment:hU,specularmap_pars_fragment:pU,tonemapping_fragment:mU,tonemapping_pars_fragment:gU,transmission_fragment:vU,transmission_pars_fragment:yU,uv_pars_fragment:xU,uv_pars_vertex:_U,uv_vertex:wU,uv2_pars_fragment:SU,uv2_pars_vertex:MU,uv2_vertex:bU,worldpos_vertex:TU,background_vert:EU,background_frag:AU,backgroundCube_vert:CU,backgroundCube_frag:PU,cube_vert:LU,cube_frag:RU,depth_vert:DU,depth_frag:kU,distanceRGBA_vert:IU,distanceRGBA_frag:NU,equirect_vert:zU,equirect_frag:OU,linedashed_vert:FU,linedashed_frag:BU,meshbasic_vert:UU,meshbasic_frag:VU,meshlambert_vert:HU,meshlambert_frag:WU,meshmatcap_vert:GU,meshmatcap_frag:jU,meshnormal_vert:XU,meshnormal_frag:YU,meshphong_vert:qU,meshphong_frag:ZU,meshphysical_vert:JU,meshphysical_frag:KU,meshtoon_vert:QU,meshtoon_frag:$U,points_vert:eV,points_frag:tV,shadow_vert:nV,shadow_frag:iV,sprite_vert:rV,sprite_frag:sV},Le={common:{diffuse:{value:new Be(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new mi},uv2Transform:{value:new mi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Be(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Be(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new mi}},sprite:{diffuse:{value:new Be(16777215)},opacity:{value:1},center:{value:new ve(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new mi}}},Ar={basic:{uniforms:di([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.fog]),vertexShader:pt.meshbasic_vert,fragmentShader:pt.meshbasic_frag},lambert:{uniforms:di([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,Le.lights,{emissive:{value:new Be(0)}}]),vertexShader:pt.meshlambert_vert,fragmentShader:pt.meshlambert_frag},phong:{uniforms:di([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,Le.lights,{emissive:{value:new Be(0)},specular:{value:new Be(1118481)},shininess:{value:30}}]),vertexShader:pt.meshphong_vert,fragmentShader:pt.meshphong_frag},standard:{uniforms:di([Le.common,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.roughnessmap,Le.metalnessmap,Le.fog,Le.lights,{emissive:{value:new Be(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:pt.meshphysical_vert,fragmentShader:pt.meshphysical_frag},toon:{uniforms:di([Le.common,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.gradientmap,Le.fog,Le.lights,{emissive:{value:new Be(0)}}]),vertexShader:pt.meshtoon_vert,fragmentShader:pt.meshtoon_frag},matcap:{uniforms:di([Le.common,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,{matcap:{value:null}}]),vertexShader:pt.meshmatcap_vert,fragmentShader:pt.meshmatcap_frag},points:{uniforms:di([Le.points,Le.fog]),vertexShader:pt.points_vert,fragmentShader:pt.points_frag},dashed:{uniforms:di([Le.common,Le.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:pt.linedashed_vert,fragmentShader:pt.linedashed_frag},depth:{uniforms:di([Le.common,Le.displacementmap]),vertexShader:pt.depth_vert,fragmentShader:pt.depth_frag},normal:{uniforms:di([Le.common,Le.bumpmap,Le.normalmap,Le.displacementmap,{opacity:{value:1}}]),vertexShader:pt.meshnormal_vert,fragmentShader:pt.meshnormal_frag},sprite:{uniforms:di([Le.sprite,Le.fog]),vertexShader:pt.sprite_vert,fragmentShader:pt.sprite_frag},background:{uniforms:{uvTransform:{value:new mi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:pt.background_vert,fragmentShader:pt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:pt.backgroundCube_vert,fragmentShader:pt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:pt.cube_vert,fragmentShader:pt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:pt.equirect_vert,fragmentShader:pt.equirect_frag},distanceRGBA:{uniforms:di([Le.common,Le.displacementmap,{referencePosition:{value:new z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:pt.distanceRGBA_vert,fragmentShader:pt.distanceRGBA_frag},shadow:{uniforms:di([Le.lights,Le.fog,{color:{value:new Be(0)},opacity:{value:1}}]),vertexShader:pt.shadow_vert,fragmentShader:pt.shadow_frag}};Ar.physical={uniforms:di([Ar.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ve(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Be(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Be(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Be(1,1,1)},specularColorMap:{value:null}}]),vertexShader:pt.meshphysical_vert,fragmentShader:pt.meshphysical_frag};const ip={r:0,b:0,g:0};function oV(n,e,t,i,r,s,o){const a=new Be(0);let u=s===!0?0:1,f,d,h=null,p=0,g=null;function v(x,_){let S=!1,M=_.isScene===!0?_.background:null;M&&M.isTexture&&(M=(_.backgroundBlurriness>0?t:e).get(M));const b=n.xr,A=b.getSession&&b.getSession();A&&A.environmentBlendMode==="additive"&&(M=null),M===null?y(a,u):M&&M.isColor&&(y(M,1),S=!0),(n.autoClear||S)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),M&&(M.isCubeTexture||M.mapping===ku)?(d===void 0&&(d=new Hn(new Uo(1,1,1),new $r({name:"BackgroundCubeMaterial",uniforms:bu(Ar.backgroundCube.uniforms),vertexShader:Ar.backgroundCube.vertexShader,fragmentShader:Ar.backgroundCube.fragmentShader,side:Li,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(P,D,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=M,d.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,d.material.toneMapped=M.encoding!==Ht,(h!==M||p!==M.version||g!==n.toneMapping)&&(d.material.needsUpdate=!0,h=M,p=M.version,g=n.toneMapping),d.layers.enableAll(),x.unshift(d,d.geometry,d.material,0,0,null)):M&&M.isTexture&&(f===void 0&&(f=new Hn(new Nu(2,2),new $r({name:"BackgroundMaterial",uniforms:bu(Ar.background.uniforms),vertexShader:Ar.background.vertexShader,fragmentShader:Ar.background.fragmentShader,side:zs,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=M,f.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,f.material.toneMapped=M.encoding!==Ht,M.matrixAutoUpdate===!0&&M.updateMatrix(),f.material.uniforms.uvTransform.value.copy(M.matrix),(h!==M||p!==M.version||g!==n.toneMapping)&&(f.material.needsUpdate=!0,h=M,p=M.version,g=n.toneMapping),f.layers.enableAll(),x.unshift(f,f.geometry,f.material,0,0,null))}function y(x,_){x.getRGB(ip,D4(n)),i.buffers.color.setClear(ip.r,ip.g,ip.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(x,_=1){a.set(x),u=_,y(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(x){u=x,y(a,u)},render:v}}function aV(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},u=x(null);let f=u,d=!1;function h(W,$,se,ae,k){let H=!1;if(o){const V=y(ae,se,$);f!==V&&(f=V,g(f.object)),H=_(W,ae,se,k),H&&S(W,ae,se,k)}else{const V=$.wireframe===!0;(f.geometry!==ae.id||f.program!==se.id||f.wireframe!==V)&&(f.geometry=ae.id,f.program=se.id,f.wireframe=V,H=!0)}k!==null&&t.update(k,34963),(H||d)&&(d=!1,E(W,$,se,ae),k!==null&&n.bindBuffer(34963,t.get(k).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function g(W){return i.isWebGL2?n.bindVertexArray(W):s.bindVertexArrayOES(W)}function v(W){return i.isWebGL2?n.deleteVertexArray(W):s.deleteVertexArrayOES(W)}function y(W,$,se){const ae=se.wireframe===!0;let k=a[W.id];k===void 0&&(k={},a[W.id]=k);let H=k[$.id];H===void 0&&(H={},k[$.id]=H);let V=H[ae];return V===void 0&&(V=x(p()),H[ae]=V),V}function x(W){const $=[],se=[],ae=[];for(let k=0;k<r;k++)$[k]=0,se[k]=0,ae[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:se,attributeDivisors:ae,object:W,attributes:{},index:null}}function _(W,$,se,ae){const k=f.attributes,H=$.attributes;let V=0;const te=se.getAttributes();for(const G in te)if(te[G].location>=0){const ue=k[G];let xe=H[G];if(xe===void 0&&(G==="instanceMatrix"&&W.instanceMatrix&&(xe=W.instanceMatrix),G==="instanceColor"&&W.instanceColor&&(xe=W.instanceColor)),ue===void 0||ue.attribute!==xe||xe&&ue.data!==xe.data)return!0;V++}return f.attributesNum!==V||f.index!==ae}function S(W,$,se,ae){const k={},H=$.attributes;let V=0;const te=se.getAttributes();for(const G in te)if(te[G].location>=0){let ue=H[G];ue===void 0&&(G==="instanceMatrix"&&W.instanceMatrix&&(ue=W.instanceMatrix),G==="instanceColor"&&W.instanceColor&&(ue=W.instanceColor));const xe={};xe.attribute=ue,ue&&ue.data&&(xe.data=ue.data),k[G]=xe,V++}f.attributes=k,f.attributesNum=V,f.index=ae}function M(){const W=f.newAttributes;for(let $=0,se=W.length;$<se;$++)W[$]=0}function b(W){A(W,0)}function A(W,$){const se=f.newAttributes,ae=f.enabledAttributes,k=f.attributeDivisors;se[W]=1,ae[W]===0&&(n.enableVertexAttribArray(W),ae[W]=1),k[W]!==$&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](W,$),k[W]=$)}function P(){const W=f.newAttributes,$=f.enabledAttributes;for(let se=0,ae=$.length;se<ae;se++)$[se]!==W[se]&&(n.disableVertexAttribArray(se),$[se]=0)}function D(W,$,se,ae,k,H){i.isWebGL2===!0&&(se===5124||se===5125)?n.vertexAttribIPointer(W,$,se,k,H):n.vertexAttribPointer(W,$,se,ae,k,H)}function E(W,$,se,ae){if(i.isWebGL2===!1&&(W.isInstancedMesh||ae.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;M();const k=ae.attributes,H=se.getAttributes(),V=$.defaultAttributeValues;for(const te in H){const G=H[te];if(G.location>=0){let fe=k[te];if(fe===void 0&&(te==="instanceMatrix"&&W.instanceMatrix&&(fe=W.instanceMatrix),te==="instanceColor"&&W.instanceColor&&(fe=W.instanceColor)),fe!==void 0){const ue=fe.normalized,xe=fe.itemSize,K=t.get(fe);if(K===void 0)continue;const be=K.buffer,Pe=K.type,ke=K.bytesPerElement;if(fe.isInterleavedBufferAttribute){const Te=fe.data,Ge=Te.stride,he=fe.offset;if(Te.isInstancedInterleavedBuffer){for(let ie=0;ie<G.locationSize;ie++)A(G.location+ie,Te.meshPerAttribute);W.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=Te.meshPerAttribute*Te.count)}else for(let ie=0;ie<G.locationSize;ie++)b(G.location+ie);n.bindBuffer(34962,be);for(let ie=0;ie<G.locationSize;ie++)D(G.location+ie,xe/G.locationSize,Pe,ue,Ge*ke,(he+xe/G.locationSize*ie)*ke)}else{if(fe.isInstancedBufferAttribute){for(let Te=0;Te<G.locationSize;Te++)A(G.location+Te,fe.meshPerAttribute);W.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let Te=0;Te<G.locationSize;Te++)b(G.location+Te);n.bindBuffer(34962,be);for(let Te=0;Te<G.locationSize;Te++)D(G.location+Te,xe/G.locationSize,Pe,ue,xe*ke,xe/G.locationSize*Te*ke)}}else if(V!==void 0){const ue=V[te];if(ue!==void 0)switch(ue.length){case 2:n.vertexAttrib2fv(G.location,ue);break;case 3:n.vertexAttrib3fv(G.location,ue);break;case 4:n.vertexAttrib4fv(G.location,ue);break;default:n.vertexAttrib1fv(G.location,ue)}}}}P()}function R(){j();for(const W in a){const $=a[W];for(const se in $){const ae=$[se];for(const k in ae)v(ae[k].object),delete ae[k];delete $[se]}delete a[W]}}function I(W){if(a[W.id]===void 0)return;const $=a[W.id];for(const se in $){const ae=$[se];for(const k in ae)v(ae[k].object),delete ae[k];delete $[se]}delete a[W.id]}function F(W){for(const $ in a){const se=a[$];if(se[W.id]===void 0)continue;const ae=se[W.id];for(const k in ae)v(ae[k].object),delete ae[k];delete se[W.id]}}function j(){Y(),d=!0,f!==u&&(f=u,g(f.object))}function Y(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:h,reset:j,resetDefaultState:Y,dispose:R,releaseStatesOfGeometry:I,releaseStatesOfProgram:F,initAttributes:M,enableAttribute:b,disableUnusedAttributes:P}}function lV(n,e,t,i){const r=i.isWebGL2;let s;function o(f){s=f}function a(f,d){n.drawArrays(s,f,d),t.update(d,s,1)}function u(f,d,h){if(h===0)return;let p,g;if(r)p=n,g="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](s,f,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=u}function uV(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(D){if(D==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";D="mediump"}return D==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const u=s(a);u!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",u,"instead."),a=u);const f=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),g=n.getParameter(3379),v=n.getParameter(34076),y=n.getParameter(34921),x=n.getParameter(36347),_=n.getParameter(36348),S=n.getParameter(36349),M=p>0,b=o||e.has("OES_texture_float"),A=M&&b,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:f,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:x,maxVaryings:_,maxFragmentUniforms:S,vertexTextures:M,floatFragmentTextures:b,floatVertexTextures:A,maxSamples:P}}function cV(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new ws,a=new mi,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const g=h.length!==0||p||i!==0||r;return r=p,i=h.length,g},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,g){const v=h.clippingPlanes,y=h.clipIntersection,x=h.clipShadows,_=n.get(h);if(!r||v===null||v.length===0||s&&!x)s?d(null):f();else{const S=s?0:i,M=S*4;let b=_.clippingState||null;u.value=b,b=d(v,p,M,g);for(let A=0;A!==M;++A)b[A]=t[A];_.clippingState=b,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=S}};function f(){u.value!==t&&(u.value=t,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,g,v){const y=h!==null?h.length:0;let x=null;if(y!==0){if(x=u.value,v!==!0||x===null){const _=g+y*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(x===null||x.length<_)&&(x=new Float32Array(_));for(let M=0,b=g;M!==y;++M,b+=4)o.copy(h[M]).applyMatrix4(S,a),o.normal.toArray(x,b),x[b+3]=o.constant}u.value=x,u.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function fV(n){let e=new WeakMap;function t(o,a){return a===Rf?o.mapping=Co:a===Df&&(o.mapping=Po),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Rf||a===Df)if(e.has(o)){const u=e.get(o).texture;return t(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const f=new N4(u.height/2);return f.fromEquirectangularTexture(n,o),e.set(o,f),o.addEventListener("dispose",r),t(f.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const u=e.get(a);u!==void 0&&(e.delete(a),u.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Mo extends ud{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,u=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,o=s+f*this.view.width,a-=d*this.view.offsetY,u=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const tu=4,eb=[.125,.215,.35,.446,.526,.582],ga=20,Uv=new Mo,tb=new Be;let Vv=null;const pa=(1+Math.sqrt(5))/2,Cl=1/pa,nb=[new z(1,1,1),new z(-1,1,1),new z(1,1,-1),new z(-1,1,-1),new z(0,pa,Cl),new z(0,pa,-Cl),new z(Cl,0,pa),new z(-Cl,0,pa),new z(pa,Cl,0),new z(-pa,Cl,0)];class ox{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Vv=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sb(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rb(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Vv),e.scissorTest=!1,rp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Co||e.mapping===Po?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Vv=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:vn,minFilter:vn,generateMipmaps:!1,type:Su,format:Ti,encoding:Ro,depthBuffer:!1},r=ib(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=ib(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=dV(s)),this._blurMaterial=hV(s,e,t)}return r}_compileMaterial(e){const t=new Hn(this._lodPlanes[0],e);this._renderer.compile(t,Uv)}_sceneToCubeUV(e,t,i,r){const a=new xn(90,1,t,i),u=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(tb),d.toneMapping=Lr,d.autoClear=!1;const g=new Bo({name:"PMREM.Background",side:Li,depthWrite:!1,depthTest:!1}),v=new Hn(new Uo,g);let y=!1;const x=e.background;x?x.isColor&&(g.color.copy(x),e.background=null,y=!0):(g.color.copy(tb),y=!0);for(let _=0;_<6;_++){const S=_%3;S===0?(a.up.set(0,u[_],0),a.lookAt(f[_],0,0)):S===1?(a.up.set(0,0,u[_]),a.lookAt(0,f[_],0)):(a.up.set(0,u[_],0),a.lookAt(0,0,f[_]));const M=this._cubeSize;rp(r,S*M,_>2?M:0,M,M),d.setRenderTarget(r),y&&d.render(v,a),d.render(e,a)}v.geometry.dispose(),v.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Co||e.mapping===Po;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=sb()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rb());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Hn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const u=this._cubeSize;rp(t,0,0,3*u,2*u),i.setRenderTarget(t),i.render(o,Uv)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=nb[(r-1)%nb.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const u=this._renderer,f=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Hn(this._lodPlanes[r],f),p=f.uniforms,g=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*ga-1),y=s/v,x=isFinite(s)?1+Math.floor(d*y):ga;x>ga&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${ga}`);const _=[];let S=0;for(let D=0;D<ga;++D){const E=D/y,R=Math.exp(-E*E/2);_.push(R),D===0?S+=R:D<x&&(S+=2*R)}for(let D=0;D<_.length;D++)_[D]=_[D]/S;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=_,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:M}=this;p.dTheta.value=v,p.mipInt.value=M-i;const b=this._sizeLods[r],A=3*b*(r>M-tu?r-M+tu:0),P=4*(this._cubeSize-b);rp(t,A,P,3*b,2*b),u.setRenderTarget(t),u.render(h,Uv)}}function dV(n){const e=[],t=[],i=[];let r=n;const s=n-tu+1+eb.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let u=1/a;o>n-tu?u=eb[o-n+tu-1]:o===0&&(u=0),i.push(u);const f=1/(a-2),d=-f,h=1+f,p=[d,d,h,d,h,h,d,d,h,h,d,h],g=6,v=6,y=3,x=2,_=1,S=new Float32Array(y*v*g),M=new Float32Array(x*v*g),b=new Float32Array(_*v*g);for(let P=0;P<g;P++){const D=P%3*2/3-1,E=P>2?0:-1,R=[D,E,0,D+2/3,E,0,D+2/3,E+1,0,D,E,0,D+2/3,E+1,0,D,E+1,0];S.set(R,y*v*P),M.set(p,x*v*P);const I=[P,P,P,P,P,P];b.set(I,_*v*P)}const A=new mt;A.setAttribute("position",new Vt(S,y)),A.setAttribute("uv",new Vt(M,x)),A.setAttribute("faceIndex",new Vt(b,_)),e.push(A),r>tu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function ib(n,e,t){const i=new Dr(n,e,t);return i.texture.mapping=ku,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function rp(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function hV(n,e,t){const i=new Float32Array(ga),r=new z(0,1,0);return new $r({name:"SphericalGaussianBlur",defines:{n:ga,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:nw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ls,depthTest:!1,depthWrite:!1})}function rb(){return new $r({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:nw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ls,depthTest:!1,depthWrite:!1})}function sb(){return new $r({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:nw(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ls,depthTest:!1,depthWrite:!1})}function nw(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function pV(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const u=a.mapping,f=u===Rf||u===Df,d=u===Co||u===Po;if(f||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new ox(n)),h=f?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(f&&h&&h.height>0||d&&h&&r(h)){t===null&&(t=new ox(n));const p=f?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let u=0;const f=6;for(let d=0;d<f;d++)a[d]!==void 0&&u++;return u===f}function s(a){const u=a.target;u.removeEventListener("dispose",s);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function mV(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function gV(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete r[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function u(h){const p=h.attributes;for(const v in p)e.update(p[v],34962);const g=h.morphAttributes;for(const v in g){const y=g[v];for(let x=0,_=y.length;x<_;x++)e.update(y[x],34962)}}function f(h){const p=[],g=h.index,v=h.attributes.position;let y=0;if(g!==null){const S=g.array;y=g.version;for(let M=0,b=S.length;M<b;M+=3){const A=S[M+0],P=S[M+1],D=S[M+2];p.push(A,P,P,D,D,A)}}else{const S=v.array;y=v.version;for(let M=0,b=S.length/3-1;M<b;M+=3){const A=M+0,P=M+1,D=M+2;p.push(A,P,P,D,D,A)}}const x=new(L4(p)?tw:ew)(p,1);x.version=y;const _=s.get(h);_&&e.remove(_),s.set(h,x)}function d(h){const p=s.get(h);if(p){const g=h.index;g!==null&&p.version<g.version&&f(h)}else f(h);return s.get(h)}return{get:a,update:u,getWireframeAttribute:d}}function vV(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,u;function f(p){a=p.type,u=p.bytesPerElement}function d(p,g){n.drawElements(s,g,a,p*u),t.update(g,s,1)}function h(p,g,v){if(v===0)return;let y,x;if(r)y=n,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,g,a,p*u,v),t.update(g,s,v)}this.setMode=o,this.setIndex=f,this.render=d,this.renderInstances=h}function yV(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function xV(n,e){return n[0]-e[0]}function _V(n,e){return Math.abs(e[1])-Math.abs(n[1])}function wV(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Nt,a=[];for(let f=0;f<8;f++)a[f]=[f,0];function u(f,d,h,p){const g=f.morphTargetInfluences;if(e.isWebGL2===!0){const v=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,y=v!==void 0?v.length:0;let x=s.get(d);if(x===void 0||x.count!==y){let $=function(){Y.dispose(),s.delete(d),d.removeEventListener("dispose",$)};x!==void 0&&x.texture.dispose();const M=d.morphAttributes.position!==void 0,b=d.morphAttributes.normal!==void 0,A=d.morphAttributes.color!==void 0,P=d.morphAttributes.position||[],D=d.morphAttributes.normal||[],E=d.morphAttributes.color||[];let R=0;M===!0&&(R=1),b===!0&&(R=2),A===!0&&(R=3);let I=d.attributes.position.count*R,F=1;I>e.maxTextureSize&&(F=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const j=new Float32Array(I*F*4*y),Y=new gg(j,I,F,y);Y.type=As,Y.needsUpdate=!0;const W=R*4;for(let se=0;se<y;se++){const ae=P[se],k=D[se],H=E[se],V=I*F*4*se;for(let te=0;te<ae.count;te++){const G=te*W;M===!0&&(o.fromBufferAttribute(ae,te),j[V+G+0]=o.x,j[V+G+1]=o.y,j[V+G+2]=o.z,j[V+G+3]=0),b===!0&&(o.fromBufferAttribute(k,te),j[V+G+4]=o.x,j[V+G+5]=o.y,j[V+G+6]=o.z,j[V+G+7]=0),A===!0&&(o.fromBufferAttribute(H,te),j[V+G+8]=o.x,j[V+G+9]=o.y,j[V+G+10]=o.z,j[V+G+11]=H.itemSize===4?o.w:1)}}x={count:y,texture:Y,size:new ve(I,F)},s.set(d,x),d.addEventListener("dispose",$)}let _=0;for(let M=0;M<g.length;M++)_+=g[M];const S=d.morphTargetsRelative?1:1-_;p.getUniforms().setValue(n,"morphTargetBaseInfluence",S),p.getUniforms().setValue(n,"morphTargetInfluences",g),p.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const v=g===void 0?0:g.length;let y=i[d.id];if(y===void 0||y.length!==v){y=[];for(let b=0;b<v;b++)y[b]=[b,0];i[d.id]=y}for(let b=0;b<v;b++){const A=y[b];A[0]=b,A[1]=g[b]}y.sort(_V);for(let b=0;b<8;b++)b<v&&y[b][1]?(a[b][0]=y[b][0],a[b][1]=y[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(xV);const x=d.morphAttributes.position,_=d.morphAttributes.normal;let S=0;for(let b=0;b<8;b++){const A=a[b],P=A[0],D=A[1];P!==Number.MAX_SAFE_INTEGER&&D?(x&&d.getAttribute("morphTarget"+b)!==x[P]&&d.setAttribute("morphTarget"+b,x[P]),_&&d.getAttribute("morphNormal"+b)!==_[P]&&d.setAttribute("morphNormal"+b,_[P]),r[b]=D,S+=D):(x&&d.hasAttribute("morphTarget"+b)===!0&&d.deleteAttribute("morphTarget"+b),_&&d.hasAttribute("morphNormal"+b)===!0&&d.deleteAttribute("morphNormal"+b),r[b]=0)}const M=d.morphTargetsRelative?1:1-S;p.getUniforms().setValue(n,"morphTargetBaseInfluence",M),p.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:u}}function SV(n,e,t,i){let r=new WeakMap;function s(u){const f=i.render.frame,d=u.geometry,h=e.get(u,d);return r.get(h)!==f&&(e.update(h),r.set(h,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",a)===!1&&u.addEventListener("dispose",a),t.update(u.instanceMatrix,34962),u.instanceColor!==null&&t.update(u.instanceColor,34962)),h}function o(){r=new WeakMap}function a(u){const f=u.target;f.removeEventListener("dispose",a),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:s,dispose:o}}const O4=new fn,F4=new gg,B4=new $_,U4=new cd,ob=[],ab=[],lb=new Float32Array(16),ub=new Float32Array(9),cb=new Float32Array(4);function zu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=ob[r];if(s===void 0&&(s=new Float32Array(r),ob[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Pn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ln(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function yg(n,e){let t=ab[e];t===void 0&&(t=new Int32Array(e),ab[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function MV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function bV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pn(t,e))return;n.uniform2fv(this.addr,e),Ln(t,e)}}function TV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Pn(t,e))return;n.uniform3fv(this.addr,e),Ln(t,e)}}function EV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pn(t,e))return;n.uniform4fv(this.addr,e),Ln(t,e)}}function AV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ln(t,e)}else{if(Pn(t,i))return;cb.set(i),n.uniformMatrix2fv(this.addr,!1,cb),Ln(t,i)}}function CV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ln(t,e)}else{if(Pn(t,i))return;ub.set(i),n.uniformMatrix3fv(this.addr,!1,ub),Ln(t,i)}}function PV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ln(t,e)}else{if(Pn(t,i))return;lb.set(i),n.uniformMatrix4fv(this.addr,!1,lb),Ln(t,i)}}function LV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function RV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pn(t,e))return;n.uniform2iv(this.addr,e),Ln(t,e)}}function DV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pn(t,e))return;n.uniform3iv(this.addr,e),Ln(t,e)}}function kV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pn(t,e))return;n.uniform4iv(this.addr,e),Ln(t,e)}}function IV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function NV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pn(t,e))return;n.uniform2uiv(this.addr,e),Ln(t,e)}}function zV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pn(t,e))return;n.uniform3uiv(this.addr,e),Ln(t,e)}}function OV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pn(t,e))return;n.uniform4uiv(this.addr,e),Ln(t,e)}}function FV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||O4,r)}function BV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||B4,r)}function UV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||U4,r)}function VV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||F4,r)}function HV(n){switch(n){case 5126:return MV;case 35664:return bV;case 35665:return TV;case 35666:return EV;case 35674:return AV;case 35675:return CV;case 35676:return PV;case 5124:case 35670:return LV;case 35667:case 35671:return RV;case 35668:case 35672:return DV;case 35669:case 35673:return kV;case 5125:return IV;case 36294:return NV;case 36295:return zV;case 36296:return OV;case 35678:case 36198:case 36298:case 36306:case 35682:return FV;case 35679:case 36299:case 36307:return BV;case 35680:case 36300:case 36308:case 36293:return UV;case 36289:case 36303:case 36311:case 36292:return VV}}function WV(n,e){n.uniform1fv(this.addr,e)}function GV(n,e){const t=zu(e,this.size,2);n.uniform2fv(this.addr,t)}function jV(n,e){const t=zu(e,this.size,3);n.uniform3fv(this.addr,t)}function XV(n,e){const t=zu(e,this.size,4);n.uniform4fv(this.addr,t)}function YV(n,e){const t=zu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function qV(n,e){const t=zu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function ZV(n,e){const t=zu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function JV(n,e){n.uniform1iv(this.addr,e)}function KV(n,e){n.uniform2iv(this.addr,e)}function QV(n,e){n.uniform3iv(this.addr,e)}function $V(n,e){n.uniform4iv(this.addr,e)}function e7(n,e){n.uniform1uiv(this.addr,e)}function t7(n,e){n.uniform2uiv(this.addr,e)}function n7(n,e){n.uniform3uiv(this.addr,e)}function i7(n,e){n.uniform4uiv(this.addr,e)}function r7(n,e,t){const i=this.cache,r=e.length,s=yg(t,r);Pn(i,s)||(n.uniform1iv(this.addr,s),Ln(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||O4,s[o])}function s7(n,e,t){const i=this.cache,r=e.length,s=yg(t,r);Pn(i,s)||(n.uniform1iv(this.addr,s),Ln(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||B4,s[o])}function o7(n,e,t){const i=this.cache,r=e.length,s=yg(t,r);Pn(i,s)||(n.uniform1iv(this.addr,s),Ln(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||U4,s[o])}function a7(n,e,t){const i=this.cache,r=e.length,s=yg(t,r);Pn(i,s)||(n.uniform1iv(this.addr,s),Ln(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||F4,s[o])}function l7(n){switch(n){case 5126:return WV;case 35664:return GV;case 35665:return jV;case 35666:return XV;case 35674:return YV;case 35675:return qV;case 35676:return ZV;case 5124:case 35670:return JV;case 35667:case 35671:return KV;case 35668:case 35672:return QV;case 35669:case 35673:return $V;case 5125:return e7;case 36294:return t7;case 36295:return n7;case 36296:return i7;case 35678:case 36198:case 36298:case 36306:case 35682:return r7;case 35679:case 36299:case 36307:return s7;case 35680:case 36300:case 36308:case 36293:return o7;case 36289:case 36303:case 36311:case 36292:return a7}}class u7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=HV(t.type)}}class c7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=l7(t.type)}}class f7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const Hv=/(\w+)(\])?(\[|\.)?/g;function fb(n,e){n.seq.push(e),n.map[e.id]=e}function d7(n,e,t){const i=n.name,r=i.length;for(Hv.lastIndex=0;;){const s=Hv.exec(i),o=Hv.lastIndex;let a=s[1];const u=s[2]==="]",f=s[3];if(u&&(a=a|0),f===void 0||f==="["&&o+2===r){fb(t,f===void 0?new u7(a,n,e):new c7(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new f7(a),fb(t,h)),t=h}}}class $p{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);d7(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],u=i[a.id];u.needsUpdate!==!1&&a.setValue(e,u.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function db(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let h7=0;function p7(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function m7(n){switch(n){case Ro:return["Linear","( value )"];case Ht:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function hb(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+p7(n.getShaderSource(e),o)}else return r}function g7(n,e){const t=m7(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function v7(n,e){let t;switch(e){case i4:t="Linear";break;case r4:t="Reinhard";break;case s4:t="OptimizedCineon";break;case Y_:t="ACESFilmic";break;case o4:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function y7(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Oc).join(`
`)}function x7(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function _7(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Oc(n){return n!==""}function pb(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function mb(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const w7=/^[ \t]*#include +<([\w\d./]+)>/gm;function ax(n){return n.replace(w7,S7)}function S7(n,e){const t=pt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return ax(t)}const M7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function gb(n){return n.replace(M7,b7)}function b7(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function vb(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function T7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===hg?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Kc?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Sa&&(e="SHADOWMAP_TYPE_VSM"),e}function E7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Co:case Po:e="ENVMAP_TYPE_CUBE";break;case ku:e="ENVMAP_TYPE_CUBE_UV";break}return e}function A7(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Po:e="ENVMAP_MODE_REFRACTION";break}return e}function C7(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case ad:e="ENVMAP_BLENDING_MULTIPLY";break;case t4:e="ENVMAP_BLENDING_MIX";break;case n4:e="ENVMAP_BLENDING_ADD";break}return e}function P7(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function L7(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const u=T7(t),f=E7(t),d=A7(t),h=C7(t),p=P7(t),g=t.isWebGL2?"":y7(t),v=x7(s),y=r.createProgram();let x,_,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[v].filter(Oc).join(`
`),x.length>0&&(x+=`
`),_=[g,v].filter(Oc).join(`
`),_.length>0&&(_+=`
`)):(x=[vb(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Oc).join(`
`),_=[g,vb(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Lr?"#define TONE_MAPPING":"",t.toneMapping!==Lr?pt.tonemapping_pars_fragment:"",t.toneMapping!==Lr?v7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",pt.encodings_pars_fragment,g7("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Oc).join(`
`)),o=ax(o),o=pb(o,t),o=mb(o,t),a=ax(a),a=pb(a,t),a=mb(a,t),o=gb(o),a=gb(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,_=["#define varying in",t.glslVersion===rx?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===rx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const M=S+x+o,b=S+_+a,A=db(r,35633,M),P=db(r,35632,b);if(r.attachShader(y,A),r.attachShader(y,P),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),n.debug.checkShaderErrors){const R=r.getProgramInfoLog(y).trim(),I=r.getShaderInfoLog(A).trim(),F=r.getShaderInfoLog(P).trim();let j=!0,Y=!0;if(r.getProgramParameter(y,35714)===!1){j=!1;const W=hb(r,A,"vertex"),$=hb(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,35715)+`

Program Info Log: `+R+`
`+W+`
`+$)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(I===""||F==="")&&(Y=!1);Y&&(this.diagnostics={runnable:j,programLog:R,vertexShader:{log:I,prefix:x},fragmentShader:{log:F,prefix:_}})}r.deleteShader(A),r.deleteShader(P);let D;this.getUniforms=function(){return D===void 0&&(D=new $p(r,y)),D};let E;return this.getAttributes=function(){return E===void 0&&(E=_7(r,y)),E},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=h7++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=A,this.fragmentShader=P,this}let R7=0;class D7{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new k7(e),t.set(e,i)),i}}class k7{constructor(e){this.id=R7++,this.code=e,this.usedTimes=0}}function I7(n,e,t,i,r,s,o){const a=new Ia,u=new D7,f=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let g=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(E,R,I,F,j){const Y=F.fog,W=j.geometry,$=E.isMeshStandardMaterial?F.environment:null,se=(E.isMeshStandardMaterial?t:e).get(E.envMap||$),ae=se&&se.mapping===ku?se.image.height:null,k=v[E.type];E.precision!==null&&(g=r.getMaxPrecision(E.precision),g!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",g,"instead."));const H=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,V=H!==void 0?H.length:0;let te=0;W.morphAttributes.position!==void 0&&(te=1),W.morphAttributes.normal!==void 0&&(te=2),W.morphAttributes.color!==void 0&&(te=3);let G,fe,ue,xe;if(k){const Ge=Ar[k];G=Ge.vertexShader,fe=Ge.fragmentShader}else G=E.vertexShader,fe=E.fragmentShader,u.update(E),ue=u.getVertexShaderID(E),xe=u.getFragmentShaderID(E);const K=n.getRenderTarget(),be=E.alphaTest>0,Pe=E.clearcoat>0,ke=E.iridescence>0;return{isWebGL2:d,shaderID:k,shaderName:E.type,vertexShader:G,fragmentShader:fe,defines:E.defines,customVertexShaderID:ue,customFragmentShaderID:xe,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:g,instancing:j.isInstancedMesh===!0,instancingColor:j.isInstancedMesh===!0&&j.instanceColor!==null,supportsVertexTextures:p,outputEncoding:K===null?n.outputEncoding:K.isXRRenderTarget===!0?K.texture.encoding:Ro,map:!!E.map,matcap:!!E.matcap,envMap:!!se,envMapMode:se&&se.mapping,envMapCubeUVHeight:ae,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===A4,tangentSpaceNormalMap:E.normalMapType===Fo,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===Ht,clearcoat:Pe,clearcoatMap:Pe&&!!E.clearcoatMap,clearcoatRoughnessMap:Pe&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:Pe&&!!E.clearcoatNormalMap,iridescence:ke,iridescenceMap:ke&&!!E.iridescenceMap,iridescenceThicknessMap:ke&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===La,alphaMap:!!E.alphaMap,alphaTest:be,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!W.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!Y,useFog:E.fog===!0,fogExp2:Y&&Y.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:h,skinning:j.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:V,morphTextureStride:te,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:E.toneMapped?n.toneMapping:Lr,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Es,flipSided:E.side===Li,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function x(E){const R=[];if(E.shaderID?R.push(E.shaderID):(R.push(E.customVertexShaderID),R.push(E.customFragmentShaderID)),E.defines!==void 0)for(const I in E.defines)R.push(I),R.push(E.defines[I]);return E.isRawShaderMaterial===!1&&(_(R,E),S(R,E),R.push(n.outputEncoding)),R.push(E.customProgramCacheKey),R.join()}function _(E,R){E.push(R.precision),E.push(R.outputEncoding),E.push(R.envMapMode),E.push(R.envMapCubeUVHeight),E.push(R.combine),E.push(R.vertexUvs),E.push(R.fogExp2),E.push(R.sizeAttenuation),E.push(R.morphTargetsCount),E.push(R.morphAttributeCount),E.push(R.numDirLights),E.push(R.numPointLights),E.push(R.numSpotLights),E.push(R.numSpotLightMaps),E.push(R.numHemiLights),E.push(R.numRectAreaLights),E.push(R.numDirLightShadows),E.push(R.numPointLightShadows),E.push(R.numSpotLightShadows),E.push(R.numSpotLightShadowsWithMaps),E.push(R.shadowMapType),E.push(R.toneMapping),E.push(R.numClippingPlanes),E.push(R.numClipIntersection),E.push(R.depthPacking)}function S(E,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),E.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.physicallyCorrectLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),E.push(a.mask)}function M(E){const R=v[E.type];let I;if(R){const F=Ar[R];I=k4.clone(F.uniforms)}else I=E.uniforms;return I}function b(E,R){let I;for(let F=0,j=f.length;F<j;F++){const Y=f[F];if(Y.cacheKey===R){I=Y,++I.usedTimes;break}}return I===void 0&&(I=new L7(n,R,E,s),f.push(I)),I}function A(E){if(--E.usedTimes===0){const R=f.indexOf(E);f[R]=f[f.length-1],f.pop(),E.destroy()}}function P(E){u.remove(E)}function D(){u.dispose()}return{getParameters:y,getProgramCacheKey:x,getUniforms:M,acquireProgram:b,releaseProgram:A,releaseShaderCache:P,programs:f,dispose:D}}function N7(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function z7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function yb(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function xb(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,g,v,y,x){let _=n[e];return _===void 0?(_={id:h.id,object:h,geometry:p,material:g,groupOrder:v,renderOrder:h.renderOrder,z:y,group:x},n[e]=_):(_.id=h.id,_.object=h,_.geometry=p,_.material=g,_.groupOrder=v,_.renderOrder=h.renderOrder,_.z=y,_.group=x),e++,_}function a(h,p,g,v,y,x){const _=o(h,p,g,v,y,x);g.transmission>0?i.push(_):g.transparent===!0?r.push(_):t.push(_)}function u(h,p,g,v,y,x){const _=o(h,p,g,v,y,x);g.transmission>0?i.unshift(_):g.transparent===!0?r.unshift(_):t.unshift(_)}function f(h,p){t.length>1&&t.sort(h||z7),i.length>1&&i.sort(p||yb),r.length>1&&r.sort(p||yb)}function d(){for(let h=e,p=n.length;h<p;h++){const g=n[h];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:u,finish:d,sort:f}}function O7(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new xb,n.set(i,[o])):r>=s.length?(o=new xb,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function F7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new z,color:new Be};break;case"SpotLight":t={position:new z,direction:new z,color:new Be,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new z,color:new Be,distance:0,decay:0};break;case"HemisphereLight":t={direction:new z,skyColor:new Be,groundColor:new Be};break;case"RectAreaLight":t={color:new Be,position:new z,halfWidth:new z,halfHeight:new z};break}return n[e.id]=t,t}}}function B7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let U7=0;function V7(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function H7(n,e){const t=new F7,i=B7(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new z);const s=new z,o=new ut,a=new ut;function u(d,h){let p=0,g=0,v=0;for(let F=0;F<9;F++)r.probe[F].set(0,0,0);let y=0,x=0,_=0,S=0,M=0,b=0,A=0,P=0,D=0,E=0;d.sort(V7);const R=h!==!0?Math.PI:1;for(let F=0,j=d.length;F<j;F++){const Y=d[F],W=Y.color,$=Y.intensity,se=Y.distance,ae=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)p+=W.r*$*R,g+=W.g*$*R,v+=W.b*$*R;else if(Y.isLightProbe)for(let k=0;k<9;k++)r.probe[k].addScaledVector(Y.sh.coefficients[k],$);else if(Y.isDirectionalLight){const k=t.get(Y);if(k.color.copy(Y.color).multiplyScalar(Y.intensity*R),Y.castShadow){const H=Y.shadow,V=i.get(Y);V.shadowBias=H.bias,V.shadowNormalBias=H.normalBias,V.shadowRadius=H.radius,V.shadowMapSize=H.mapSize,r.directionalShadow[y]=V,r.directionalShadowMap[y]=ae,r.directionalShadowMatrix[y]=Y.shadow.matrix,b++}r.directional[y]=k,y++}else if(Y.isSpotLight){const k=t.get(Y);k.position.setFromMatrixPosition(Y.matrixWorld),k.color.copy(W).multiplyScalar($*R),k.distance=se,k.coneCos=Math.cos(Y.angle),k.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),k.decay=Y.decay,r.spot[_]=k;const H=Y.shadow;if(Y.map&&(r.spotLightMap[D]=Y.map,D++,H.updateMatrices(Y),Y.castShadow&&E++),r.spotLightMatrix[_]=H.matrix,Y.castShadow){const V=i.get(Y);V.shadowBias=H.bias,V.shadowNormalBias=H.normalBias,V.shadowRadius=H.radius,V.shadowMapSize=H.mapSize,r.spotShadow[_]=V,r.spotShadowMap[_]=ae,P++}_++}else if(Y.isRectAreaLight){const k=t.get(Y);k.color.copy(W).multiplyScalar($),k.halfWidth.set(Y.width*.5,0,0),k.halfHeight.set(0,Y.height*.5,0),r.rectArea[S]=k,S++}else if(Y.isPointLight){const k=t.get(Y);if(k.color.copy(Y.color).multiplyScalar(Y.intensity*R),k.distance=Y.distance,k.decay=Y.decay,Y.castShadow){const H=Y.shadow,V=i.get(Y);V.shadowBias=H.bias,V.shadowNormalBias=H.normalBias,V.shadowRadius=H.radius,V.shadowMapSize=H.mapSize,V.shadowCameraNear=H.camera.near,V.shadowCameraFar=H.camera.far,r.pointShadow[x]=V,r.pointShadowMap[x]=ae,r.pointShadowMatrix[x]=Y.shadow.matrix,A++}r.point[x]=k,x++}else if(Y.isHemisphereLight){const k=t.get(Y);k.skyColor.copy(Y.color).multiplyScalar($*R),k.groundColor.copy(Y.groundColor).multiplyScalar($*R),r.hemi[M]=k,M++}}S>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Le.LTC_FLOAT_1,r.rectAreaLTC2=Le.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Le.LTC_HALF_1,r.rectAreaLTC2=Le.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=g,r.ambient[2]=v;const I=r.hash;(I.directionalLength!==y||I.pointLength!==x||I.spotLength!==_||I.rectAreaLength!==S||I.hemiLength!==M||I.numDirectionalShadows!==b||I.numPointShadows!==A||I.numSpotShadows!==P||I.numSpotMaps!==D)&&(r.directional.length=y,r.spot.length=_,r.rectArea.length=S,r.point.length=x,r.hemi.length=M,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=A,r.pointShadowMap.length=A,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=A,r.spotLightMatrix.length=P+D-E,r.spotLightMap.length=D,r.numSpotLightShadowsWithMaps=E,I.directionalLength=y,I.pointLength=x,I.spotLength=_,I.rectAreaLength=S,I.hemiLength=M,I.numDirectionalShadows=b,I.numPointShadows=A,I.numSpotShadows=P,I.numSpotMaps=D,r.version=U7++)}function f(d,h){let p=0,g=0,v=0,y=0,x=0;const _=h.matrixWorldInverse;for(let S=0,M=d.length;S<M;S++){const b=d[S];if(b.isDirectionalLight){const A=r.directional[p];A.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(_),p++}else if(b.isSpotLight){const A=r.spot[v];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(_),A.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),A.direction.sub(s),A.direction.transformDirection(_),v++}else if(b.isRectAreaLight){const A=r.rectArea[y];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(_),a.identity(),o.copy(b.matrixWorld),o.premultiply(_),a.extractRotation(o),A.halfWidth.set(b.width*.5,0,0),A.halfHeight.set(0,b.height*.5,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),y++}else if(b.isPointLight){const A=r.point[g];A.position.setFromMatrixPosition(b.matrixWorld),A.position.applyMatrix4(_),g++}else if(b.isHemisphereLight){const A=r.hemi[x];A.direction.setFromMatrixPosition(b.matrixWorld),A.direction.transformDirection(_),x++}}}return{setup:u,setupView:f,state:r}}function _b(n,e){const t=new H7(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function u(h){t.setup(i,h)}function f(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:u,setupLightsView:f,pushLight:o,pushShadow:a}}function W7(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let u;return a===void 0?(u=new _b(n,e),t.set(s,[u])):o>=a.length?(u=new _b(n,e),a.push(u)):u=a[o],u}function r(){t=new WeakMap}return{get:i,dispose:r}}class iw extends jn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=T4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class rw extends jn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new z,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const G7=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,j7=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function X7(n,e,t){let i=new vg;const r=new ve,s=new ve,o=new Nt,a=new iw({depthPacking:E4}),u=new rw,f={},d=t.maxTextureSize,h={[zs]:Li,[Li]:zs,[Es]:Es},p=new $r({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ve},radius:{value:4}},vertexShader:G7,fragmentShader:j7}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const v=new mt;v.setAttribute("position",new Vt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Hn(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=hg,this.render=function(b,A,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||b.length===0)return;const D=n.getRenderTarget(),E=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),I=n.state;I.setBlending(Ls),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let F=0,j=b.length;F<j;F++){const Y=b[F],W=Y.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;r.copy(W.mapSize);const $=W.getFrameExtents();if(r.multiply($),s.copy(W.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/$.x),r.x=s.x*$.x,W.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/$.y),r.y=s.y*$.y,W.mapSize.y=s.y)),W.map===null){const ae=this.type!==Sa?{minFilter:mn,magFilter:mn}:{};W.map=new Dr(r.x,r.y,ae),W.map.texture.name=Y.name+".shadowMap",W.camera.updateProjectionMatrix()}n.setRenderTarget(W.map),n.clear();const se=W.getViewportCount();for(let ae=0;ae<se;ae++){const k=W.getViewport(ae);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),I.viewport(o),W.updateMatrices(Y,ae),i=W.getFrustum(),M(A,P,W.camera,Y,this.type)}W.isPointLightShadow!==!0&&this.type===Sa&&_(W,P),W.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(D,E,R)};function _(b,A){const P=e.update(y);p.defines.VSM_SAMPLES!==b.blurSamples&&(p.defines.VSM_SAMPLES=b.blurSamples,g.defines.VSM_SAMPLES=b.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Dr(r.x,r.y)),p.uniforms.shadow_pass.value=b.map.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(A,null,P,p,y,null),g.uniforms.shadow_pass.value=b.mapPass.texture,g.uniforms.resolution.value=b.mapSize,g.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(A,null,P,g,y,null)}function S(b,A,P,D,E,R){let I=null;const F=P.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(F!==void 0)I=F;else if(I=P.isPointLight===!0?u:a,n.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const j=I.uuid,Y=A.uuid;let W=f[j];W===void 0&&(W={},f[j]=W);let $=W[Y];$===void 0&&($=I.clone(),W[Y]=$),I=$}return I.visible=A.visible,I.wireframe=A.wireframe,R===Sa?I.side=A.shadowSide!==null?A.shadowSide:A.side:I.side=A.shadowSide!==null?A.shadowSide:h[A.side],I.alphaMap=A.alphaMap,I.alphaTest=A.alphaTest,I.map=A.map,I.clipShadows=A.clipShadows,I.clippingPlanes=A.clippingPlanes,I.clipIntersection=A.clipIntersection,I.displacementMap=A.displacementMap,I.displacementScale=A.displacementScale,I.displacementBias=A.displacementBias,I.wireframeLinewidth=A.wireframeLinewidth,I.linewidth=A.linewidth,P.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(P.matrixWorld),I.nearDistance=D,I.farDistance=E),I}function M(b,A,P,D,E){if(b.visible===!1)return;if(b.layers.test(A.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&E===Sa)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,b.matrixWorld);const F=e.update(b),j=b.material;if(Array.isArray(j)){const Y=F.groups;for(let W=0,$=Y.length;W<$;W++){const se=Y[W],ae=j[se.materialIndex];if(ae&&ae.visible){const k=S(b,ae,D,P.near,P.far,E);n.renderBufferDirect(P,null,F,k,b,se)}}}else if(j.visible){const Y=S(b,j,D,P.near,P.far,E);n.renderBufferDirect(P,null,F,Y,b,null)}}const I=b.children;for(let F=0,j=I.length;F<j;F++)M(I[F],A,P,D,E)}}function Y7(n,e,t){const i=t.isWebGL2;function r(){let q=!1;const oe=new Nt;let we=null;const Re=new Nt(0,0,0,0);return{setMask:function(Xe){we!==Xe&&!q&&(n.colorMask(Xe,Xe,Xe,Xe),we=Xe)},setLocked:function(Xe){q=Xe},setClear:function(Xe,xt,kt,Ot,Xn){Xn===!0&&(Xe*=Ot,xt*=Ot,kt*=Ot),oe.set(Xe,xt,kt,Ot),Re.equals(oe)===!1&&(n.clearColor(Xe,xt,kt,Ot),Re.copy(oe))},reset:function(){q=!1,we=null,Re.set(-1,0,0,0)}}}function s(){let q=!1,oe=null,we=null,Re=null;return{setTest:function(Xe){Xe?be(2929):Pe(2929)},setMask:function(Xe){oe!==Xe&&!q&&(n.depthMask(Xe),oe=Xe)},setFunc:function(Xe){if(we!==Xe){switch(Xe){case qP:n.depthFunc(512);break;case ZP:n.depthFunc(519);break;case JP:n.depthFunc(513);break;case Im:n.depthFunc(515);break;case KP:n.depthFunc(514);break;case QP:n.depthFunc(518);break;case $P:n.depthFunc(516);break;case e4:n.depthFunc(517);break;default:n.depthFunc(515)}we=Xe}},setLocked:function(Xe){q=Xe},setClear:function(Xe){Re!==Xe&&(n.clearDepth(Xe),Re=Xe)},reset:function(){q=!1,oe=null,we=null,Re=null}}}function o(){let q=!1,oe=null,we=null,Re=null,Xe=null,xt=null,kt=null,Ot=null,Xn=null;return{setTest:function(Et){q||(Et?be(2960):Pe(2960))},setMask:function(Et){oe!==Et&&!q&&(n.stencilMask(Et),oe=Et)},setFunc:function(Et,Rn,bn){(we!==Et||Re!==Rn||Xe!==bn)&&(n.stencilFunc(Et,Rn,bn),we=Et,Re=Rn,Xe=bn)},setOp:function(Et,Rn,bn){(xt!==Et||kt!==Rn||Ot!==bn)&&(n.stencilOp(Et,Rn,bn),xt=Et,kt=Rn,Ot=bn)},setLocked:function(Et){q=Et},setClear:function(Et){Xn!==Et&&(n.clearStencil(Et),Xn=Et)},reset:function(){q=!1,oe=null,we=null,Re=null,Xe=null,xt=null,kt=null,Ot=null,Xn=null}}}const a=new r,u=new s,f=new o,d=new WeakMap,h=new WeakMap;let p={},g={},v=new WeakMap,y=[],x=null,_=!1,S=null,M=null,b=null,A=null,P=null,D=null,E=null,R=!1,I=null,F=null,j=null,Y=null,W=null;const $=n.getParameter(35661);let se=!1,ae=0;const k=n.getParameter(7938);k.indexOf("WebGL")!==-1?(ae=parseFloat(/^WebGL (\d)/.exec(k)[1]),se=ae>=1):k.indexOf("OpenGL ES")!==-1&&(ae=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),se=ae>=2);let H=null,V={};const te=n.getParameter(3088),G=n.getParameter(2978),fe=new Nt().fromArray(te),ue=new Nt().fromArray(G);function xe(q,oe,we){const Re=new Uint8Array(4),Xe=n.createTexture();n.bindTexture(q,Xe),n.texParameteri(q,10241,9728),n.texParameteri(q,10240,9728);for(let xt=0;xt<we;xt++)n.texImage2D(oe+xt,0,6408,1,1,0,6408,5121,Re);return Xe}const K={};K[3553]=xe(3553,3553,1),K[34067]=xe(34067,34069,6),a.setClear(0,0,0,1),u.setClear(1),f.setClear(0),be(2929),u.setFunc(Im),Ae(!1),nt(P1),be(2884),ye(Ls);function be(q){p[q]!==!0&&(n.enable(q),p[q]=!0)}function Pe(q){p[q]!==!1&&(n.disable(q),p[q]=!1)}function ke(q,oe){return g[q]!==oe?(n.bindFramebuffer(q,oe),g[q]=oe,i&&(q===36009&&(g[36160]=oe),q===36160&&(g[36009]=oe)),!0):!1}function Te(q,oe){let we=y,Re=!1;if(q)if(we=v.get(oe),we===void 0&&(we=[],v.set(oe,we)),q.isWebGLMultipleRenderTargets){const Xe=q.texture;if(we.length!==Xe.length||we[0]!==36064){for(let xt=0,kt=Xe.length;xt<kt;xt++)we[xt]=36064+xt;we.length=Xe.length,Re=!0}}else we[0]!==36064&&(we[0]=36064,Re=!0);else we[0]!==1029&&(we[0]=1029,Re=!0);Re&&(t.isWebGL2?n.drawBuffers(we):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(we))}function Ge(q){return x!==q?(n.useProgram(q),x=q,!0):!1}const he={[ma]:32774,[OP]:32778,[FP]:32779};if(i)he[k1]=32775,he[I1]=32776;else{const q=e.get("EXT_blend_minmax");q!==null&&(he[k1]=q.MIN_EXT,he[I1]=q.MAX_EXT)}const ie={[BP]:0,[UP]:1,[VP]:768,[j_]:770,[YP]:776,[jP]:774,[WP]:772,[HP]:769,[X_]:771,[XP]:775,[GP]:773};function ye(q,oe,we,Re,Xe,xt,kt,Ot){if(q===Ls){_===!0&&(Pe(3042),_=!1);return}if(_===!1&&(be(3042),_=!0),q!==zP){if(q!==S||Ot!==R){if((M!==ma||P!==ma)&&(n.blendEquation(32774),M=ma,P=ma),Ot)switch(q){case La:n.blendFuncSeparate(1,771,1,771);break;case L1:n.blendFunc(1,1);break;case R1:n.blendFuncSeparate(0,769,0,1);break;case D1:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}else switch(q){case La:n.blendFuncSeparate(770,771,1,771);break;case L1:n.blendFunc(770,1);break;case R1:n.blendFuncSeparate(0,769,0,1);break;case D1:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",q);break}b=null,A=null,D=null,E=null,S=q,R=Ot}return}Xe=Xe||oe,xt=xt||we,kt=kt||Re,(oe!==M||Xe!==P)&&(n.blendEquationSeparate(he[oe],he[Xe]),M=oe,P=Xe),(we!==b||Re!==A||xt!==D||kt!==E)&&(n.blendFuncSeparate(ie[we],ie[Re],ie[xt],ie[kt]),b=we,A=Re,D=xt,E=kt),S=q,R=!1}function De(q,oe){q.side===Es?Pe(2884):be(2884);let we=q.side===Li;oe&&(we=!we),Ae(we),q.blending===La&&q.transparent===!1?ye(Ls):ye(q.blending,q.blendEquation,q.blendSrc,q.blendDst,q.blendEquationAlpha,q.blendSrcAlpha,q.blendDstAlpha,q.premultipliedAlpha),u.setFunc(q.depthFunc),u.setTest(q.depthTest),u.setMask(q.depthWrite),a.setMask(q.colorWrite);const Re=q.stencilWrite;f.setTest(Re),Re&&(f.setMask(q.stencilWriteMask),f.setFunc(q.stencilFunc,q.stencilRef,q.stencilFuncMask),f.setOp(q.stencilFail,q.stencilZFail,q.stencilZPass)),qe(q.polygonOffset,q.polygonOffsetFactor,q.polygonOffsetUnits),q.alphaToCoverage===!0?be(32926):Pe(32926)}function Ae(q){I!==q&&(q?n.frontFace(2304):n.frontFace(2305),I=q)}function nt(q){q!==kP?(be(2884),q!==F&&(q===P1?n.cullFace(1029):q===IP?n.cullFace(1028):n.cullFace(1032))):Pe(2884),F=q}function Ke(q){q!==j&&(se&&n.lineWidth(q),j=q)}function qe(q,oe,we){q?(be(32823),(Y!==oe||W!==we)&&(n.polygonOffset(oe,we),Y=oe,W=we)):Pe(32823)}function bt(q){q?be(3089):Pe(3089)}function Tt(q){q===void 0&&(q=33984+$-1),H!==q&&(n.activeTexture(q),H=q)}function U(q,oe,we){we===void 0&&(H===null?we=33984+$-1:we=H);let Re=V[we];Re===void 0&&(Re={type:void 0,texture:void 0},V[we]=Re),(Re.type!==q||Re.texture!==oe)&&(H!==we&&(n.activeTexture(we),H=we),n.bindTexture(q,oe||K[q]),Re.type=q,Re.texture=oe)}function N(){const q=V[H];q!==void 0&&q.type!==void 0&&(n.bindTexture(q.type,null),q.type=void 0,q.texture=void 0)}function le(){try{n.compressedTexImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Se(){try{n.compressedTexImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ie(){try{n.texSubImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function it(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function ze(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function ge(){try{n.texStorage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Ze(){try{n.texStorage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function rt(){try{n.texImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function He(){try{n.texImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}}function Qe(q){fe.equals(q)===!1&&(n.scissor(q.x,q.y,q.z,q.w),fe.copy(q))}function je(q){ue.equals(q)===!1&&(n.viewport(q.x,q.y,q.z,q.w),ue.copy(q))}function Z(q,oe){let we=h.get(oe);we===void 0&&(we=new WeakMap,h.set(oe,we));let Re=we.get(q);Re===void 0&&(Re=n.getUniformBlockIndex(oe,q.name),we.set(q,Re))}function _e(q,oe){const Re=h.get(oe).get(q);d.get(oe)!==Re&&(n.uniformBlockBinding(oe,Re,q.__bindingPointIndex),d.set(oe,Re))}function Fe(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},H=null,V={},g={},v=new WeakMap,y=[],x=null,_=!1,S=null,M=null,b=null,A=null,P=null,D=null,E=null,R=!1,I=null,F=null,j=null,Y=null,W=null,fe.set(0,0,n.canvas.width,n.canvas.height),ue.set(0,0,n.canvas.width,n.canvas.height),a.reset(),u.reset(),f.reset()}return{buffers:{color:a,depth:u,stencil:f},enable:be,disable:Pe,bindFramebuffer:ke,drawBuffers:Te,useProgram:Ge,setBlending:ye,setMaterial:De,setFlipSided:Ae,setCullFace:nt,setLineWidth:Ke,setPolygonOffset:qe,setScissorTest:bt,activeTexture:Tt,bindTexture:U,unbindTexture:N,compressedTexImage2D:le,compressedTexImage3D:Se,texImage2D:rt,texImage3D:He,updateUBOMapping:Z,uniformBlockBinding:_e,texStorage2D:ge,texStorage3D:Ze,texSubImage2D:Ce,texSubImage3D:Ie,compressedTexSubImage2D:it,compressedTexSubImage3D:ze,scissor:Qe,viewport:je,reset:Fe}}function q7(n,e,t,i,r,s,o){const a=r.isWebGL2,u=r.maxTextures,f=r.maxCubemapSize,d=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const x=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(U,N){return _?new OffscreenCanvas(U,N):Uf("canvas")}function M(U,N,le,Se){let Ce=1;if((U.width>Se||U.height>Se)&&(Ce=Se/Math.max(U.width,U.height)),Ce<1||N===!0)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap){const Ie=N?Om:Math.floor,it=Ie(Ce*U.width),ze=Ie(Ce*U.height);y===void 0&&(y=S(it,ze));const ge=le?S(it,ze):y;return ge.width=it,ge.height=ze,ge.getContext("2d").drawImage(U,0,0,it,ze),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+it+"x"+ze+")."),ge}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function b(U){return sx(U.width)&&sx(U.height)}function A(U){return a?!1:U.wrapS!==ii||U.wrapT!==ii||U.minFilter!==mn&&U.minFilter!==vn}function P(U,N){return U.generateMipmaps&&N&&U.minFilter!==mn&&U.minFilter!==vn}function D(U){n.generateMipmap(U)}function E(U,N,le,Se,Ce=!1){if(a===!1)return N;if(U!==null){if(n[U]!==void 0)return n[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let Ie=N;return N===6403&&(le===5126&&(Ie=33326),le===5131&&(Ie=33325),le===5121&&(Ie=33321)),N===33319&&(le===5126&&(Ie=33328),le===5131&&(Ie=33327),le===5121&&(Ie=33323)),N===6408&&(le===5126&&(Ie=34836),le===5131&&(Ie=34842),le===5121&&(Ie=Se===Ht&&Ce===!1?35907:32856),le===32819&&(Ie=32854),le===32820&&(Ie=32855)),(Ie===33325||Ie===33326||Ie===33327||Ie===33328||Ie===34842||Ie===34836)&&e.get("EXT_color_buffer_float"),Ie}function R(U,N,le){return P(U,le)===!0||U.isFramebufferTexture&&U.minFilter!==mn&&U.minFilter!==vn?Math.log2(Math.max(N.width,N.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?N.mipmaps.length:1}function I(U){return U===mn||U===Nm||U===Qc?9728:9729}function F(U){const N=U.target;N.removeEventListener("dispose",F),Y(N),N.isVideoTexture&&v.delete(N)}function j(U){const N=U.target;N.removeEventListener("dispose",j),$(N)}function Y(U){const N=i.get(U);if(N.__webglInit===void 0)return;const le=U.source,Se=x.get(le);if(Se){const Ce=Se[N.__cacheKey];Ce.usedTimes--,Ce.usedTimes===0&&W(U),Object.keys(Se).length===0&&x.delete(le)}i.remove(U)}function W(U){const N=i.get(U);n.deleteTexture(N.__webglTexture);const le=U.source,Se=x.get(le);delete Se[N.__cacheKey],o.memory.textures--}function $(U){const N=U.texture,le=i.get(U),Se=i.get(N);if(Se.__webglTexture!==void 0&&(n.deleteTexture(Se.__webglTexture),o.memory.textures--),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++)n.deleteFramebuffer(le.__webglFramebuffer[Ce]),le.__webglDepthbuffer&&n.deleteRenderbuffer(le.__webglDepthbuffer[Ce]);else{if(n.deleteFramebuffer(le.__webglFramebuffer),le.__webglDepthbuffer&&n.deleteRenderbuffer(le.__webglDepthbuffer),le.__webglMultisampledFramebuffer&&n.deleteFramebuffer(le.__webglMultisampledFramebuffer),le.__webglColorRenderbuffer)for(let Ce=0;Ce<le.__webglColorRenderbuffer.length;Ce++)le.__webglColorRenderbuffer[Ce]&&n.deleteRenderbuffer(le.__webglColorRenderbuffer[Ce]);le.__webglDepthRenderbuffer&&n.deleteRenderbuffer(le.__webglDepthRenderbuffer)}if(U.isWebGLMultipleRenderTargets)for(let Ce=0,Ie=N.length;Ce<Ie;Ce++){const it=i.get(N[Ce]);it.__webglTexture&&(n.deleteTexture(it.__webglTexture),o.memory.textures--),i.remove(N[Ce])}i.remove(N),i.remove(U)}let se=0;function ae(){se=0}function k(){const U=se;return U>=u&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+u),se+=1,U}function H(U){const N=[];return N.push(U.wrapS),N.push(U.wrapT),N.push(U.wrapR||0),N.push(U.magFilter),N.push(U.minFilter),N.push(U.anisotropy),N.push(U.internalFormat),N.push(U.format),N.push(U.type),N.push(U.generateMipmaps),N.push(U.premultiplyAlpha),N.push(U.flipY),N.push(U.unpackAlignment),N.push(U.encoding),N.join()}function V(U,N){const le=i.get(U);if(U.isVideoTexture&&bt(U),U.isRenderTargetTexture===!1&&U.version>0&&le.__version!==U.version){const Se=U.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Pe(le,U,N);return}}t.bindTexture(3553,le.__webglTexture,33984+N)}function te(U,N){const le=i.get(U);if(U.version>0&&le.__version!==U.version){Pe(le,U,N);return}t.bindTexture(35866,le.__webglTexture,33984+N)}function G(U,N){const le=i.get(U);if(U.version>0&&le.__version!==U.version){Pe(le,U,N);return}t.bindTexture(32879,le.__webglTexture,33984+N)}function fe(U,N){const le=i.get(U);if(U.version>0&&le.__version!==U.version){ke(le,U,N);return}t.bindTexture(34067,le.__webglTexture,33984+N)}const ue={[kf]:10497,[ii]:33071,[If]:33648},xe={[mn]:9728,[Nm]:9984,[Qc]:9986,[vn]:9729,[q_]:9985,[Lo]:9987};function K(U,N,le){if(le?(n.texParameteri(U,10242,ue[N.wrapS]),n.texParameteri(U,10243,ue[N.wrapT]),(U===32879||U===35866)&&n.texParameteri(U,32882,ue[N.wrapR]),n.texParameteri(U,10240,xe[N.magFilter]),n.texParameteri(U,10241,xe[N.minFilter])):(n.texParameteri(U,10242,33071),n.texParameteri(U,10243,33071),(U===32879||U===35866)&&n.texParameteri(U,32882,33071),(N.wrapS!==ii||N.wrapT!==ii)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(U,10240,I(N.magFilter)),n.texParameteri(U,10241,I(N.minFilter)),N.minFilter!==mn&&N.minFilter!==vn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Se=e.get("EXT_texture_filter_anisotropic");if(N.magFilter===mn||N.minFilter!==Qc&&N.minFilter!==Lo||N.type===As&&e.has("OES_texture_float_linear")===!1||a===!1&&N.type===Su&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||i.get(N).__currentAnisotropy)&&(n.texParameterf(U,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,r.getMaxAnisotropy())),i.get(N).__currentAnisotropy=N.anisotropy)}}function be(U,N){let le=!1;U.__webglInit===void 0&&(U.__webglInit=!0,N.addEventListener("dispose",F));const Se=N.source;let Ce=x.get(Se);Ce===void 0&&(Ce={},x.set(Se,Ce));const Ie=H(N);if(Ie!==U.__cacheKey){Ce[Ie]===void 0&&(Ce[Ie]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,le=!0),Ce[Ie].usedTimes++;const it=Ce[U.__cacheKey];it!==void 0&&(Ce[U.__cacheKey].usedTimes--,it.usedTimes===0&&W(N)),U.__cacheKey=Ie,U.__webglTexture=Ce[Ie].texture}return le}function Pe(U,N,le){let Se=3553;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(Se=35866),N.isData3DTexture&&(Se=32879);const Ce=be(U,N),Ie=N.source;t.bindTexture(Se,U.__webglTexture,33984+le);const it=i.get(Ie);if(Ie.version!==it.__version||Ce===!0){t.activeTexture(33984+le),n.pixelStorei(37440,N.flipY),n.pixelStorei(37441,N.premultiplyAlpha),n.pixelStorei(3317,N.unpackAlignment),n.pixelStorei(37443,0);const ze=A(N)&&b(N.image)===!1;let ge=M(N.image,ze,!1,d);ge=Tt(N,ge);const Ze=b(ge)||a,rt=s.convert(N.format,N.encoding);let He=s.convert(N.type),Qe=E(N.internalFormat,rt,He,N.encoding,N.isVideoTexture);K(Se,N,Ze);let je;const Z=N.mipmaps,_e=a&&N.isVideoTexture!==!0,Fe=it.__version===void 0||Ce===!0,q=R(N,ge,Ze);if(N.isDepthTexture)Qe=6402,a?N.type===As?Qe=36012:N.type===fo?Qe=33190:N.type===Ra?Qe=35056:Qe=33189:N.type===As&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===So&&Qe===6402&&N.type!==Z_&&N.type!==fo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=fo,He=s.convert(N.type)),N.format===Va&&Qe===6402&&(Qe=34041,N.type!==Ra&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=Ra,He=s.convert(N.type))),Fe&&(_e?t.texStorage2D(3553,1,Qe,ge.width,ge.height):t.texImage2D(3553,0,Qe,ge.width,ge.height,0,rt,He,null));else if(N.isDataTexture)if(Z.length>0&&Ze){_e&&Fe&&t.texStorage2D(3553,q,Qe,Z[0].width,Z[0].height);for(let oe=0,we=Z.length;oe<we;oe++)je=Z[oe],_e?t.texSubImage2D(3553,oe,0,0,je.width,je.height,rt,He,je.data):t.texImage2D(3553,oe,Qe,je.width,je.height,0,rt,He,je.data);N.generateMipmaps=!1}else _e?(Fe&&t.texStorage2D(3553,q,Qe,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,ge.width,ge.height,rt,He,ge.data)):t.texImage2D(3553,0,Qe,ge.width,ge.height,0,rt,He,ge.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){_e&&Fe&&t.texStorage3D(35866,q,Qe,Z[0].width,Z[0].height,ge.depth);for(let oe=0,we=Z.length;oe<we;oe++)je=Z[oe],N.format!==Ti?rt!==null?_e?t.compressedTexSubImage3D(35866,oe,0,0,0,je.width,je.height,ge.depth,rt,je.data,0,0):t.compressedTexImage3D(35866,oe,Qe,je.width,je.height,ge.depth,0,je.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_e?t.texSubImage3D(35866,oe,0,0,0,je.width,je.height,ge.depth,rt,He,je.data):t.texImage3D(35866,oe,Qe,je.width,je.height,ge.depth,0,rt,He,je.data)}else{_e&&Fe&&t.texStorage2D(3553,q,Qe,Z[0].width,Z[0].height);for(let oe=0,we=Z.length;oe<we;oe++)je=Z[oe],N.format!==Ti?rt!==null?_e?t.compressedTexSubImage2D(3553,oe,0,0,je.width,je.height,rt,je.data):t.compressedTexImage2D(3553,oe,Qe,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_e?t.texSubImage2D(3553,oe,0,0,je.width,je.height,rt,He,je.data):t.texImage2D(3553,oe,Qe,je.width,je.height,0,rt,He,je.data)}else if(N.isDataArrayTexture)_e?(Fe&&t.texStorage3D(35866,q,Qe,ge.width,ge.height,ge.depth),t.texSubImage3D(35866,0,0,0,0,ge.width,ge.height,ge.depth,rt,He,ge.data)):t.texImage3D(35866,0,Qe,ge.width,ge.height,ge.depth,0,rt,He,ge.data);else if(N.isData3DTexture)_e?(Fe&&t.texStorage3D(32879,q,Qe,ge.width,ge.height,ge.depth),t.texSubImage3D(32879,0,0,0,0,ge.width,ge.height,ge.depth,rt,He,ge.data)):t.texImage3D(32879,0,Qe,ge.width,ge.height,ge.depth,0,rt,He,ge.data);else if(N.isFramebufferTexture){if(Fe)if(_e)t.texStorage2D(3553,q,Qe,ge.width,ge.height);else{let oe=ge.width,we=ge.height;for(let Re=0;Re<q;Re++)t.texImage2D(3553,Re,Qe,oe,we,0,rt,He,null),oe>>=1,we>>=1}}else if(Z.length>0&&Ze){_e&&Fe&&t.texStorage2D(3553,q,Qe,Z[0].width,Z[0].height);for(let oe=0,we=Z.length;oe<we;oe++)je=Z[oe],_e?t.texSubImage2D(3553,oe,0,0,rt,He,je):t.texImage2D(3553,oe,Qe,rt,He,je);N.generateMipmaps=!1}else _e?(Fe&&t.texStorage2D(3553,q,Qe,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,rt,He,ge)):t.texImage2D(3553,0,Qe,rt,He,ge);P(N,Ze)&&D(Se),it.__version=Ie.version,N.onUpdate&&N.onUpdate(N)}U.__version=N.version}function ke(U,N,le){if(N.image.length!==6)return;const Se=be(U,N),Ce=N.source;t.bindTexture(34067,U.__webglTexture,33984+le);const Ie=i.get(Ce);if(Ce.version!==Ie.__version||Se===!0){t.activeTexture(33984+le),n.pixelStorei(37440,N.flipY),n.pixelStorei(37441,N.premultiplyAlpha),n.pixelStorei(3317,N.unpackAlignment),n.pixelStorei(37443,0);const it=N.isCompressedTexture||N.image[0].isCompressedTexture,ze=N.image[0]&&N.image[0].isDataTexture,ge=[];for(let oe=0;oe<6;oe++)!it&&!ze?ge[oe]=M(N.image[oe],!1,!0,f):ge[oe]=ze?N.image[oe].image:N.image[oe],ge[oe]=Tt(N,ge[oe]);const Ze=ge[0],rt=b(Ze)||a,He=s.convert(N.format,N.encoding),Qe=s.convert(N.type),je=E(N.internalFormat,He,Qe,N.encoding),Z=a&&N.isVideoTexture!==!0,_e=Ie.__version===void 0||Se===!0;let Fe=R(N,Ze,rt);K(34067,N,rt);let q;if(it){Z&&_e&&t.texStorage2D(34067,Fe,je,Ze.width,Ze.height);for(let oe=0;oe<6;oe++){q=ge[oe].mipmaps;for(let we=0;we<q.length;we++){const Re=q[we];N.format!==Ti?He!==null?Z?t.compressedTexSubImage2D(34069+oe,we,0,0,Re.width,Re.height,He,Re.data):t.compressedTexImage2D(34069+oe,we,je,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Z?t.texSubImage2D(34069+oe,we,0,0,Re.width,Re.height,He,Qe,Re.data):t.texImage2D(34069+oe,we,je,Re.width,Re.height,0,He,Qe,Re.data)}}}else{q=N.mipmaps,Z&&_e&&(q.length>0&&Fe++,t.texStorage2D(34067,Fe,je,ge[0].width,ge[0].height));for(let oe=0;oe<6;oe++)if(ze){Z?t.texSubImage2D(34069+oe,0,0,0,ge[oe].width,ge[oe].height,He,Qe,ge[oe].data):t.texImage2D(34069+oe,0,je,ge[oe].width,ge[oe].height,0,He,Qe,ge[oe].data);for(let we=0;we<q.length;we++){const Xe=q[we].image[oe].image;Z?t.texSubImage2D(34069+oe,we+1,0,0,Xe.width,Xe.height,He,Qe,Xe.data):t.texImage2D(34069+oe,we+1,je,Xe.width,Xe.height,0,He,Qe,Xe.data)}}else{Z?t.texSubImage2D(34069+oe,0,0,0,He,Qe,ge[oe]):t.texImage2D(34069+oe,0,je,He,Qe,ge[oe]);for(let we=0;we<q.length;we++){const Re=q[we];Z?t.texSubImage2D(34069+oe,we+1,0,0,He,Qe,Re.image[oe]):t.texImage2D(34069+oe,we+1,je,He,Qe,Re.image[oe])}}}P(N,rt)&&D(34067),Ie.__version=Ce.version,N.onUpdate&&N.onUpdate(N)}U.__version=N.version}function Te(U,N,le,Se,Ce){const Ie=s.convert(le.format,le.encoding),it=s.convert(le.type),ze=E(le.internalFormat,Ie,it,le.encoding);i.get(N).__hasExternalTextures||(Ce===32879||Ce===35866?t.texImage3D(Ce,0,ze,N.width,N.height,N.depth,0,Ie,it,null):t.texImage2D(Ce,0,ze,N.width,N.height,0,Ie,it,null)),t.bindFramebuffer(36160,U),qe(N)?p.framebufferTexture2DMultisampleEXT(36160,Se,Ce,i.get(le).__webglTexture,0,Ke(N)):(Ce===3553||Ce>=34069&&Ce<=34074)&&n.framebufferTexture2D(36160,Se,Ce,i.get(le).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ge(U,N,le){if(n.bindRenderbuffer(36161,U),N.depthBuffer&&!N.stencilBuffer){let Se=33189;if(le||qe(N)){const Ce=N.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===As?Se=36012:Ce.type===fo&&(Se=33190));const Ie=Ke(N);qe(N)?p.renderbufferStorageMultisampleEXT(36161,Ie,Se,N.width,N.height):n.renderbufferStorageMultisample(36161,Ie,Se,N.width,N.height)}else n.renderbufferStorage(36161,Se,N.width,N.height);n.framebufferRenderbuffer(36160,36096,36161,U)}else if(N.depthBuffer&&N.stencilBuffer){const Se=Ke(N);le&&qe(N)===!1?n.renderbufferStorageMultisample(36161,Se,35056,N.width,N.height):qe(N)?p.renderbufferStorageMultisampleEXT(36161,Se,35056,N.width,N.height):n.renderbufferStorage(36161,34041,N.width,N.height),n.framebufferRenderbuffer(36160,33306,36161,U)}else{const Se=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Ce=0;Ce<Se.length;Ce++){const Ie=Se[Ce],it=s.convert(Ie.format,Ie.encoding),ze=s.convert(Ie.type),ge=E(Ie.internalFormat,it,ze,Ie.encoding),Ze=Ke(N);le&&qe(N)===!1?n.renderbufferStorageMultisample(36161,Ze,ge,N.width,N.height):qe(N)?p.renderbufferStorageMultisampleEXT(36161,Ze,ge,N.width,N.height):n.renderbufferStorage(36161,ge,N.width,N.height)}}n.bindRenderbuffer(36161,null)}function he(U,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,U),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),V(N.depthTexture,0);const Se=i.get(N.depthTexture).__webglTexture,Ce=Ke(N);if(N.depthTexture.format===So)qe(N)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Se,0,Ce):n.framebufferTexture2D(36160,36096,3553,Se,0);else if(N.depthTexture.format===Va)qe(N)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Se,0,Ce):n.framebufferTexture2D(36160,33306,3553,Se,0);else throw new Error("Unknown depthTexture format")}function ie(U){const N=i.get(U),le=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture&&!N.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");he(N.__webglFramebuffer,U)}else if(le){N.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)t.bindFramebuffer(36160,N.__webglFramebuffer[Se]),N.__webglDepthbuffer[Se]=n.createRenderbuffer(),Ge(N.__webglDepthbuffer[Se],U,!1)}else t.bindFramebuffer(36160,N.__webglFramebuffer),N.__webglDepthbuffer=n.createRenderbuffer(),Ge(N.__webglDepthbuffer,U,!1);t.bindFramebuffer(36160,null)}function ye(U,N,le){const Se=i.get(U);N!==void 0&&Te(Se.__webglFramebuffer,U,U.texture,36064,3553),le!==void 0&&ie(U)}function De(U){const N=U.texture,le=i.get(U),Se=i.get(N);U.addEventListener("dispose",j),U.isWebGLMultipleRenderTargets!==!0&&(Se.__webglTexture===void 0&&(Se.__webglTexture=n.createTexture()),Se.__version=N.version,o.memory.textures++);const Ce=U.isWebGLCubeRenderTarget===!0,Ie=U.isWebGLMultipleRenderTargets===!0,it=b(U)||a;if(Ce){le.__webglFramebuffer=[];for(let ze=0;ze<6;ze++)le.__webglFramebuffer[ze]=n.createFramebuffer()}else{if(le.__webglFramebuffer=n.createFramebuffer(),Ie)if(r.drawBuffers){const ze=U.texture;for(let ge=0,Ze=ze.length;ge<Ze;ge++){const rt=i.get(ze[ge]);rt.__webglTexture===void 0&&(rt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&U.samples>0&&qe(U)===!1){const ze=Ie?N:[N];le.__webglMultisampledFramebuffer=n.createFramebuffer(),le.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,le.__webglMultisampledFramebuffer);for(let ge=0;ge<ze.length;ge++){const Ze=ze[ge];le.__webglColorRenderbuffer[ge]=n.createRenderbuffer(),n.bindRenderbuffer(36161,le.__webglColorRenderbuffer[ge]);const rt=s.convert(Ze.format,Ze.encoding),He=s.convert(Ze.type),Qe=E(Ze.internalFormat,rt,He,Ze.encoding,U.isXRRenderTarget===!0),je=Ke(U);n.renderbufferStorageMultisample(36161,je,Qe,U.width,U.height),n.framebufferRenderbuffer(36160,36064+ge,36161,le.__webglColorRenderbuffer[ge])}n.bindRenderbuffer(36161,null),U.depthBuffer&&(le.__webglDepthRenderbuffer=n.createRenderbuffer(),Ge(le.__webglDepthRenderbuffer,U,!0)),t.bindFramebuffer(36160,null)}}if(Ce){t.bindTexture(34067,Se.__webglTexture),K(34067,N,it);for(let ze=0;ze<6;ze++)Te(le.__webglFramebuffer[ze],U,N,36064,34069+ze);P(N,it)&&D(34067),t.unbindTexture()}else if(Ie){const ze=U.texture;for(let ge=0,Ze=ze.length;ge<Ze;ge++){const rt=ze[ge],He=i.get(rt);t.bindTexture(3553,He.__webglTexture),K(3553,rt,it),Te(le.__webglFramebuffer,U,rt,36064+ge,3553),P(rt,it)&&D(3553)}t.unbindTexture()}else{let ze=3553;(U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(a?ze=U.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ze,Se.__webglTexture),K(ze,N,it),Te(le.__webglFramebuffer,U,N,36064,ze),P(N,it)&&D(ze),t.unbindTexture()}U.depthBuffer&&ie(U)}function Ae(U){const N=b(U)||a,le=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let Se=0,Ce=le.length;Se<Ce;Se++){const Ie=le[Se];if(P(Ie,N)){const it=U.isWebGLCubeRenderTarget?34067:3553,ze=i.get(Ie).__webglTexture;t.bindTexture(it,ze),D(it),t.unbindTexture()}}}function nt(U){if(a&&U.samples>0&&qe(U)===!1){const N=U.isWebGLMultipleRenderTargets?U.texture:[U.texture],le=U.width,Se=U.height;let Ce=16384;const Ie=[],it=U.stencilBuffer?33306:36096,ze=i.get(U),ge=U.isWebGLMultipleRenderTargets===!0;if(ge)for(let Ze=0;Ze<N.length;Ze++)t.bindFramebuffer(36160,ze.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ze,36161,null),t.bindFramebuffer(36160,ze.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ze,3553,null,0);t.bindFramebuffer(36008,ze.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ze.__webglFramebuffer);for(let Ze=0;Ze<N.length;Ze++){Ie.push(36064+Ze),U.depthBuffer&&Ie.push(it);const rt=ze.__ignoreDepthValues!==void 0?ze.__ignoreDepthValues:!1;if(rt===!1&&(U.depthBuffer&&(Ce|=256),U.stencilBuffer&&(Ce|=1024)),ge&&n.framebufferRenderbuffer(36008,36064,36161,ze.__webglColorRenderbuffer[Ze]),rt===!0&&(n.invalidateFramebuffer(36008,[it]),n.invalidateFramebuffer(36009,[it])),ge){const He=i.get(N[Ze]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,He,0)}n.blitFramebuffer(0,0,le,Se,0,0,le,Se,Ce,9728),g&&n.invalidateFramebuffer(36008,Ie)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ge)for(let Ze=0;Ze<N.length;Ze++){t.bindFramebuffer(36160,ze.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ze,36161,ze.__webglColorRenderbuffer[Ze]);const rt=i.get(N[Ze]).__webglTexture;t.bindFramebuffer(36160,ze.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ze,3553,rt,0)}t.bindFramebuffer(36009,ze.__webglMultisampledFramebuffer)}}function Ke(U){return Math.min(h,U.samples)}function qe(U){const N=i.get(U);return a&&U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function bt(U){const N=o.render.frame;v.get(U)!==N&&(v.set(U,N),U.update())}function Tt(U,N){const le=U.encoding,Se=U.format,Ce=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||U.format===zm||le!==Ro&&(le===Ht?a===!1?e.has("EXT_sRGB")===!0&&Se===Ti?(U.format=zm,U.minFilter=vn,U.generateMipmaps=!1):N=Q_.sRGBToLinear(N):(Se!==Ti||Ce!==Os)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",le)),N}this.allocateTextureUnit=k,this.resetTextureUnits=ae,this.setTexture2D=V,this.setTexture2DArray=te,this.setTexture3D=G,this.setTextureCube=fe,this.rebindTextures=ye,this.setupRenderTarget=De,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=nt,this.setupDepthRenderbuffer=ie,this.setupFrameBufferTexture=Te,this.useMultisampledRTT=qe}function V4(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===Os)return 5121;if(s===c4)return 32819;if(s===f4)return 32820;if(s===a4)return 5120;if(s===l4)return 5122;if(s===Z_)return 5123;if(s===u4)return 5124;if(s===fo)return 5125;if(s===As)return 5126;if(s===Su)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===d4)return 6406;if(s===Ti)return 6408;if(s===h4)return 6409;if(s===p4)return 6410;if(s===So)return 6402;if(s===Va)return 34041;if(s===zm)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===m4)return 6403;if(s===g4)return 36244;if(s===v4)return 33319;if(s===y4)return 33320;if(s===x4)return 36249;if(s===jp||s===Xp||s===Yp||s===qp)if(o===Ht)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===jp)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Xp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Yp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===qp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===jp)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Xp)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Yp)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===qp)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===N1||s===z1||s===O1||s===F1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===N1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===z1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===O1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===F1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===_4)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===B1||s===U1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===B1)return o===Ht?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===U1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===V1||s===H1||s===W1||s===G1||s===j1||s===X1||s===Y1||s===q1||s===Z1||s===J1||s===K1||s===Q1||s===$1||s===ex)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===V1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===H1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===W1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===G1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===j1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===X1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Y1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===q1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Z1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===J1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===K1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Q1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===$1)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===ex)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Zp)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Zp)return o===Ht?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===w4||s===tx||s===nx||s===ix)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Zp)return a.COMPRESSED_RED_RGTC1_EXT;if(s===tx)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===nx)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===ix)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Ra?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class H4 extends xn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class nu extends Dt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Z7={type:"move"};class Wv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new nu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new nu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new nu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,u=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){o=!0;for(const y of e.hand.values()){const x=t.getJointPose(y,i),_=this._getHandJoint(f,y);x!==null&&(_.matrix.fromArray(x.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=x.radius),_.visible=x!==null}const d=f.joints["index-finger-tip"],h=f.joints["thumb-tip"],p=d.position.distanceTo(h.position),g=.02,v=.005;f.inputState.pinching&&p>g+v?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&p<=g-v&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Z7)))}return a!==null&&(a.visible=r!==null),u!==null&&(u.visible=s!==null),f!==null&&(f.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new nu;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class W4 extends fn{constructor(e,t,i,r,s,o,a,u,f,d){if(d=d!==void 0?d:So,d!==So&&d!==Va)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===So&&(i=fo),i===void 0&&d===Va&&(i=Ra),super(null,r,s,o,a,u,d,i,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:mn,this.minFilter=u!==void 0?u:mn,this.flipY=!1,this.generateMipmaps=!1}}class J7 extends Us{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",u=1,f=null,d=null,h=null,p=null,g=null,v=null;const y=t.getContextAttributes();let x=null,_=null;const S=[],M=[],b=new Set,A=new Map,P=new xn;P.layers.enable(1),P.viewport=new Nt;const D=new xn;D.layers.enable(2),D.viewport=new Nt;const E=[P,D],R=new H4;R.layers.enable(1),R.layers.enable(2);let I=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let fe=S[G];return fe===void 0&&(fe=new Wv,S[G]=fe),fe.getTargetRaySpace()},this.getControllerGrip=function(G){let fe=S[G];return fe===void 0&&(fe=new Wv,S[G]=fe),fe.getGripSpace()},this.getHand=function(G){let fe=S[G];return fe===void 0&&(fe=new Wv,S[G]=fe),fe.getHandSpace()};function j(G){const fe=M.indexOf(G.inputSource);if(fe===-1)return;const ue=S[fe];ue!==void 0&&ue.dispatchEvent({type:G.type,data:G.inputSource})}function Y(){r.removeEventListener("select",j),r.removeEventListener("selectstart",j),r.removeEventListener("selectend",j),r.removeEventListener("squeeze",j),r.removeEventListener("squeezestart",j),r.removeEventListener("squeezeend",j),r.removeEventListener("end",Y),r.removeEventListener("inputsourceschange",W);for(let G=0;G<S.length;G++){const fe=M[G];fe!==null&&(M[G]=null,S[G].disconnect(fe))}I=null,F=null,e.setRenderTarget(x),g=null,p=null,h=null,r=null,_=null,te.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){a=G,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||o},this.setReferenceSpace=function(G){f=G},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return h},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(G){if(r=G,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",j),r.addEventListener("selectstart",j),r.addEventListener("selectend",j),r.addEventListener("squeeze",j),r.addEventListener("squeezestart",j),r.addEventListener("squeezeend",j),r.addEventListener("end",Y),r.addEventListener("inputsourceschange",W),y.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const fe={antialias:r.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(r,t,fe),r.updateRenderState({baseLayer:g}),_=new Dr(g.framebufferWidth,g.framebufferHeight,{format:Ti,type:Os,encoding:e.outputEncoding,stencilBuffer:y.stencil})}else{let fe=null,ue=null,xe=null;y.depth&&(xe=y.stencil?35056:33190,fe=y.stencil?Va:So,ue=y.stencil?Ra:fo);const K={colorFormat:32856,depthFormat:xe,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer(K),r.updateRenderState({layers:[p]}),_=new Dr(p.textureWidth,p.textureHeight,{format:Ti,type:Os,depthTexture:new W4(p.textureWidth,p.textureHeight,ue,void 0,void 0,void 0,void 0,void 0,void 0,fe),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const be=e.properties.get(_);be.__ignoreDepthValues=p.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(u),f=null,o=await r.requestReferenceSpace(a),te.setContext(r),te.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function W(G){for(let fe=0;fe<G.removed.length;fe++){const ue=G.removed[fe],xe=M.indexOf(ue);xe>=0&&(M[xe]=null,S[xe].disconnect(ue))}for(let fe=0;fe<G.added.length;fe++){const ue=G.added[fe];let xe=M.indexOf(ue);if(xe===-1){for(let be=0;be<S.length;be++)if(be>=M.length){M.push(ue),xe=be;break}else if(M[be]===null){M[be]=ue,xe=be;break}if(xe===-1)break}const K=S[xe];K&&K.connect(ue)}}const $=new z,se=new z;function ae(G,fe,ue){$.setFromMatrixPosition(fe.matrixWorld),se.setFromMatrixPosition(ue.matrixWorld);const xe=$.distanceTo(se),K=fe.projectionMatrix.elements,be=ue.projectionMatrix.elements,Pe=K[14]/(K[10]-1),ke=K[14]/(K[10]+1),Te=(K[9]+1)/K[5],Ge=(K[9]-1)/K[5],he=(K[8]-1)/K[0],ie=(be[8]+1)/be[0],ye=Pe*he,De=Pe*ie,Ae=xe/(-he+ie),nt=Ae*-he;fe.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(nt),G.translateZ(Ae),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const Ke=Pe+Ae,qe=ke+Ae,bt=ye-nt,Tt=De+(xe-nt),U=Te*ke/qe*Ke,N=Ge*ke/qe*Ke;G.projectionMatrix.makePerspective(bt,Tt,U,N,Ke,qe)}function k(G,fe){fe===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(fe.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(r===null)return;R.near=D.near=P.near=G.near,R.far=D.far=P.far=G.far,(I!==R.near||F!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),I=R.near,F=R.far);const fe=G.parent,ue=R.cameras;k(R,fe);for(let K=0;K<ue.length;K++)k(ue[K],fe);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),G.matrix.copy(R.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale);const xe=G.children;for(let K=0,be=xe.length;K<be;K++)xe[K].updateMatrixWorld(!0);ue.length===2?ae(R,P,D):R.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&g===null))return u},this.setFoveation=function(G){u=G,p!==null&&(p.fixedFoveation=G),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=G)},this.getPlanes=function(){return b};let H=null;function V(G,fe){if(d=fe.getViewerPose(f||o),v=fe,d!==null){const ue=d.views;g!==null&&(e.setRenderTargetFramebuffer(_,g.framebuffer),e.setRenderTarget(_));let xe=!1;ue.length!==R.cameras.length&&(R.cameras.length=0,xe=!0);for(let K=0;K<ue.length;K++){const be=ue[K];let Pe=null;if(g!==null)Pe=g.getViewport(be);else{const Te=h.getViewSubImage(p,be);Pe=Te.viewport,K===0&&(e.setRenderTargetTextures(_,Te.colorTexture,p.ignoreDepthValues?void 0:Te.depthStencilTexture),e.setRenderTarget(_))}let ke=E[K];ke===void 0&&(ke=new xn,ke.layers.enable(K),ke.viewport=new Nt,E[K]=ke),ke.matrix.fromArray(be.transform.matrix),ke.projectionMatrix.fromArray(be.projectionMatrix),ke.viewport.set(Pe.x,Pe.y,Pe.width,Pe.height),K===0&&R.matrix.copy(ke.matrix),xe===!0&&R.cameras.push(ke)}}for(let ue=0;ue<S.length;ue++){const xe=M[ue],K=S[ue];xe!==null&&K!==void 0&&K.update(xe,fe,f||o)}if(H&&H(G,fe),fe.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:fe.detectedPlanes});let ue=null;for(const xe of b)fe.detectedPlanes.has(xe)||(ue===null&&(ue=[]),ue.push(xe));if(ue!==null)for(const xe of ue)b.delete(xe),A.delete(xe),i.dispatchEvent({type:"planeremoved",data:xe});for(const xe of fe.detectedPlanes)if(!b.has(xe))b.add(xe),A.set(xe,fe.lastChangedTime),i.dispatchEvent({type:"planeadded",data:xe});else{const K=A.get(xe);xe.lastChangedTime>K&&(A.set(xe,xe.lastChangedTime),i.dispatchEvent({type:"planechanged",data:xe}))}}v=null}const te=new z4;te.setAnimationLoop(V),this.setAnimationLoop=function(G){H=G},this.dispose=function(){}}}function K7(n,e){function t(y,x){x.color.getRGB(y.fogColor.value,D4(n)),x.isFog?(y.fogNear.value=x.near,y.fogFar.value=x.far):x.isFogExp2&&(y.fogDensity.value=x.density)}function i(y,x,_,S,M){x.isMeshBasicMaterial||x.isMeshLambertMaterial?r(y,x):x.isMeshToonMaterial?(r(y,x),d(y,x)):x.isMeshPhongMaterial?(r(y,x),f(y,x)):x.isMeshStandardMaterial?(r(y,x),h(y,x),x.isMeshPhysicalMaterial&&p(y,x,M)):x.isMeshMatcapMaterial?(r(y,x),g(y,x)):x.isMeshDepthMaterial?r(y,x):x.isMeshDistanceMaterial?(r(y,x),v(y,x)):x.isMeshNormalMaterial?r(y,x):x.isLineBasicMaterial?(s(y,x),x.isLineDashedMaterial&&o(y,x)):x.isPointsMaterial?a(y,x,_,S):x.isSpriteMaterial?u(y,x):x.isShadowMaterial?(y.color.value.copy(x.color),y.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function r(y,x){y.opacity.value=x.opacity,x.color&&y.diffuse.value.copy(x.color),x.emissive&&y.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.bumpMap&&(y.bumpMap.value=x.bumpMap,y.bumpScale.value=x.bumpScale,x.side===Li&&(y.bumpScale.value*=-1)),x.displacementMap&&(y.displacementMap.value=x.displacementMap,y.displacementScale.value=x.displacementScale,y.displacementBias.value=x.displacementBias),x.emissiveMap&&(y.emissiveMap.value=x.emissiveMap),x.normalMap&&(y.normalMap.value=x.normalMap,y.normalScale.value.copy(x.normalScale),x.side===Li&&y.normalScale.value.negate()),x.specularMap&&(y.specularMap.value=x.specularMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);const _=e.get(x).envMap;if(_&&(y.envMap.value=_,y.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=x.reflectivity,y.ior.value=x.ior,y.refractionRatio.value=x.refractionRatio),x.lightMap){y.lightMap.value=x.lightMap;const b=n.physicallyCorrectLights!==!0?Math.PI:1;y.lightMapIntensity.value=x.lightMapIntensity*b}x.aoMap&&(y.aoMap.value=x.aoMap,y.aoMapIntensity.value=x.aoMapIntensity);let S;x.map?S=x.map:x.specularMap?S=x.specularMap:x.displacementMap?S=x.displacementMap:x.normalMap?S=x.normalMap:x.bumpMap?S=x.bumpMap:x.roughnessMap?S=x.roughnessMap:x.metalnessMap?S=x.metalnessMap:x.alphaMap?S=x.alphaMap:x.emissiveMap?S=x.emissiveMap:x.clearcoatMap?S=x.clearcoatMap:x.clearcoatNormalMap?S=x.clearcoatNormalMap:x.clearcoatRoughnessMap?S=x.clearcoatRoughnessMap:x.iridescenceMap?S=x.iridescenceMap:x.iridescenceThicknessMap?S=x.iridescenceThicknessMap:x.specularIntensityMap?S=x.specularIntensityMap:x.specularColorMap?S=x.specularColorMap:x.transmissionMap?S=x.transmissionMap:x.thicknessMap?S=x.thicknessMap:x.sheenColorMap?S=x.sheenColorMap:x.sheenRoughnessMap&&(S=x.sheenRoughnessMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),y.uvTransform.value.copy(S.matrix));let M;x.aoMap?M=x.aoMap:x.lightMap&&(M=x.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),y.uv2Transform.value.copy(M.matrix))}function s(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity}function o(y,x){y.dashSize.value=x.dashSize,y.totalSize.value=x.dashSize+x.gapSize,y.scale.value=x.scale}function a(y,x,_,S){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.size.value=x.size*_,y.scale.value=S*.5,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let M;x.map?M=x.map:x.alphaMap&&(M=x.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),y.uvTransform.value.copy(M.matrix))}function u(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.rotation.value=x.rotation,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let _;x.map?_=x.map:x.alphaMap&&(_=x.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),y.uvTransform.value.copy(_.matrix))}function f(y,x){y.specular.value.copy(x.specular),y.shininess.value=Math.max(x.shininess,1e-4)}function d(y,x){x.gradientMap&&(y.gradientMap.value=x.gradientMap)}function h(y,x){y.roughness.value=x.roughness,y.metalness.value=x.metalness,x.roughnessMap&&(y.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(y.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(y.envMapIntensity.value=x.envMapIntensity)}function p(y,x,_){y.ior.value=x.ior,x.sheen>0&&(y.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),y.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(y.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(y.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(y.clearcoat.value=x.clearcoat,y.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(y.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),y.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Li&&y.clearcoatNormalScale.value.negate())),x.iridescence>0&&(y.iridescence.value=x.iridescence,y.iridescenceIOR.value=x.iridescenceIOR,y.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(y.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(y.transmission.value=x.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),x.transmissionMap&&(y.transmissionMap.value=x.transmissionMap),y.thickness.value=x.thickness,x.thicknessMap&&(y.thicknessMap.value=x.thicknessMap),y.attenuationDistance.value=x.attenuationDistance,y.attenuationColor.value.copy(x.attenuationColor)),y.specularIntensity.value=x.specularIntensity,y.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(y.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(y.specularColorMap.value=x.specularColorMap)}function g(y,x){x.matcap&&(y.matcap.value=x.matcap)}function v(y,x){y.referencePosition.value.copy(x.referencePosition),y.nearDistance.value=x.nearDistance,y.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function Q7(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function u(S,M){const b=M.program;i.uniformBlockBinding(S,b)}function f(S,M){let b=r[S.id];b===void 0&&(v(S),b=d(S),r[S.id]=b,S.addEventListener("dispose",x));const A=M.program;i.updateUBOMapping(S,A);const P=e.render.frame;s[S.id]!==P&&(p(S),s[S.id]=P)}function d(S){const M=h();S.__bindingPointIndex=M;const b=n.createBuffer(),A=S.__size,P=S.usage;return n.bindBuffer(35345,b),n.bufferData(35345,A,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,M,b),b}function h(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const M=r[S.id],b=S.uniforms,A=S.__cache;n.bindBuffer(35345,M);for(let P=0,D=b.length;P<D;P++){const E=b[P];if(g(E,P,A)===!0){const R=E.__offset,I=Array.isArray(E.value)?E.value:[E.value];let F=0;for(let j=0;j<I.length;j++){const Y=I[j],W=y(Y);typeof Y=="number"?(E.__data[0]=Y,n.bufferSubData(35345,R+F,E.__data)):Y.isMatrix3?(E.__data[0]=Y.elements[0],E.__data[1]=Y.elements[1],E.__data[2]=Y.elements[2],E.__data[3]=Y.elements[0],E.__data[4]=Y.elements[3],E.__data[5]=Y.elements[4],E.__data[6]=Y.elements[5],E.__data[7]=Y.elements[0],E.__data[8]=Y.elements[6],E.__data[9]=Y.elements[7],E.__data[10]=Y.elements[8],E.__data[11]=Y.elements[0]):(Y.toArray(E.__data,F),F+=W.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,R,E.__data)}}n.bindBuffer(35345,null)}function g(S,M,b){const A=S.value;if(b[M]===void 0){if(typeof A=="number")b[M]=A;else{const P=Array.isArray(A)?A:[A],D=[];for(let E=0;E<P.length;E++)D.push(P[E].clone());b[M]=D}return!0}else if(typeof A=="number"){if(b[M]!==A)return b[M]=A,!0}else{const P=Array.isArray(b[M])?b[M]:[b[M]],D=Array.isArray(A)?A:[A];for(let E=0;E<P.length;E++){const R=P[E];if(R.equals(D[E])===!1)return R.copy(D[E]),!0}}return!1}function v(S){const M=S.uniforms;let b=0;const A=16;let P=0;for(let D=0,E=M.length;D<E;D++){const R=M[D],I={boundary:0,storage:0},F=Array.isArray(R.value)?R.value:[R.value];for(let j=0,Y=F.length;j<Y;j++){const W=F[j],$=y(W);I.boundary+=$.boundary,I.storage+=$.storage}if(R.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=b,D>0){P=b%A;const j=A-P;P!==0&&j-I.boundary<0&&(b+=A-P,R.__offset=b)}b+=I.storage}return P=b%A,P>0&&(b+=A-P),S.__size=b,S.__cache={},this}function y(S){const M={boundary:0,storage:0};return typeof S=="number"?(M.boundary=4,M.storage=4):S.isVector2?(M.boundary=8,M.storage=8):S.isVector3||S.isColor?(M.boundary=16,M.storage=12):S.isVector4?(M.boundary=16,M.storage=16):S.isMatrix3?(M.boundary=48,M.storage=48):S.isMatrix4?(M.boundary=64,M.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),M}function x(S){const M=S.target;M.removeEventListener("dispose",x);const b=o.indexOf(M.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(r[M.id]),delete r[M.id],delete s[M.id]}function _(){for(const S in r)n.deleteBuffer(r[S]);o=[],r={},s={}}return{bind:u,update:f,dispose:_}}function $7(){const n=Uf("canvas");return n.style.display="block",n}function sw(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:$7(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,u=n.powerPreference!==void 0?n.powerPreference:"default",f=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;t!==null?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const g=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ro,this.physicallyCorrectLights=!1,this.toneMapping=Lr,this.toneMappingExposure=1;const y=this;let x=!1,_=0,S=0,M=null,b=-1,A=null;const P=new Nt,D=new Nt;let E=null,R=e.width,I=e.height,F=1,j=null,Y=null;const W=new Nt(0,0,R,I),$=new Nt(0,0,R,I);let se=!1;const ae=new vg;let k=!1,H=!1,V=null;const te=new ut,G=new ve,fe=new z,ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return M===null?F:1}let K=t;function be(O,ne){for(let pe=0;pe<O.length;pe++){const ee=O[pe],me=e.getContext(ee,ne);if(me!==null)return me}return null}try{const O={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${dg}`),e.addEventListener("webglcontextlost",Qe,!1),e.addEventListener("webglcontextrestored",je,!1),e.addEventListener("webglcontextcreationerror",Z,!1),K===null){const ne=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&ne.shift(),K=be(ne,O),K===null)throw be(ne)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}K.getShaderPrecisionFormat===void 0&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let Pe,ke,Te,Ge,he,ie,ye,De,Ae,nt,Ke,qe,bt,Tt,U,N,le,Se,Ce,Ie,it,ze,ge,Ze;function rt(){Pe=new mV(K),ke=new uV(K,Pe,n),Pe.init(ke),ze=new V4(K,Pe,ke),Te=new Y7(K,Pe,ke),Ge=new yV,he=new N7,ie=new q7(K,Pe,Te,he,ke,ze,Ge),ye=new fV(y),De=new pV(y),Ae=new AF(K,ke),ge=new aV(K,Pe,Ae,ke),nt=new gV(K,Ae,Ge,ge),Ke=new SV(K,nt,Ae,Ge),Ce=new wV(K,ke,ie),N=new cV(he),qe=new I7(y,ye,De,Pe,ke,ge,N),bt=new K7(y,he),Tt=new O7,U=new W7(Pe,ke),Se=new oV(y,ye,De,Te,Ke,d,o),le=new X7(y,Ke,ke),Ze=new Q7(K,Ge,ke,Te),Ie=new lV(K,Pe,Ge,ke),it=new vV(K,Pe,Ge,ke),Ge.programs=qe.programs,y.capabilities=ke,y.extensions=Pe,y.properties=he,y.renderLists=Tt,y.shadowMap=le,y.state=Te,y.info=Ge}rt();const He=new J7(y,K);this.xr=He,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const O=Pe.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=Pe.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(O){O!==void 0&&(F=O,this.setSize(R,I,!1))},this.getSize=function(O){return O.set(R,I)},this.setSize=function(O,ne,pe){if(He.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=O,I=ne,e.width=Math.floor(O*F),e.height=Math.floor(ne*F),pe!==!1&&(e.style.width=O+"px",e.style.height=ne+"px"),this.setViewport(0,0,O,ne)},this.getDrawingBufferSize=function(O){return O.set(R*F,I*F).floor()},this.setDrawingBufferSize=function(O,ne,pe){R=O,I=ne,F=pe,e.width=Math.floor(O*pe),e.height=Math.floor(ne*pe),this.setViewport(0,0,O,ne)},this.getCurrentViewport=function(O){return O.copy(P)},this.getViewport=function(O){return O.copy(W)},this.setViewport=function(O,ne,pe,ee){O.isVector4?W.set(O.x,O.y,O.z,O.w):W.set(O,ne,pe,ee),Te.viewport(P.copy(W).multiplyScalar(F).floor())},this.getScissor=function(O){return O.copy($)},this.setScissor=function(O,ne,pe,ee){O.isVector4?$.set(O.x,O.y,O.z,O.w):$.set(O,ne,pe,ee),Te.scissor(D.copy($).multiplyScalar(F).floor())},this.getScissorTest=function(){return se},this.setScissorTest=function(O){Te.setScissorTest(se=O)},this.setOpaqueSort=function(O){j=O},this.setTransparentSort=function(O){Y=O},this.getClearColor=function(O){return O.copy(Se.getClearColor())},this.setClearColor=function(){Se.setClearColor.apply(Se,arguments)},this.getClearAlpha=function(){return Se.getClearAlpha()},this.setClearAlpha=function(){Se.setClearAlpha.apply(Se,arguments)},this.clear=function(O=!0,ne=!0,pe=!0){let ee=0;O&&(ee|=16384),ne&&(ee|=256),pe&&(ee|=1024),K.clear(ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Qe,!1),e.removeEventListener("webglcontextrestored",je,!1),e.removeEventListener("webglcontextcreationerror",Z,!1),Tt.dispose(),U.dispose(),he.dispose(),ye.dispose(),De.dispose(),Ke.dispose(),ge.dispose(),Ze.dispose(),qe.dispose(),He.dispose(),He.removeEventListener("sessionstart",Re),He.removeEventListener("sessionend",Xe),V&&(V.dispose(),V=null),xt.stop()};function Qe(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function je(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const O=Ge.autoReset,ne=le.enabled,pe=le.autoUpdate,ee=le.needsUpdate,me=le.type;rt(),Ge.autoReset=O,le.enabled=ne,le.autoUpdate=pe,le.needsUpdate=ee,le.type=me}function Z(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function _e(O){const ne=O.target;ne.removeEventListener("dispose",_e),Fe(ne)}function Fe(O){q(O),he.remove(O)}function q(O){const ne=he.get(O).programs;ne!==void 0&&(ne.forEach(function(pe){qe.releaseProgram(pe)}),O.isShaderMaterial&&qe.releaseShaderCache(O))}this.renderBufferDirect=function(O,ne,pe,ee,me,$e){ne===null&&(ne=ue);const ot=me.isMesh&&me.matrixWorld.determinant()<0,ft=Cg(O,ne,pe,ee,me);Te.setMaterial(ee,ot);let gt=pe.index,St=1;ee.wireframe===!0&&(gt=nt.getWireframeAttribute(pe),St=2);const _t=pe.drawRange,wt=pe.attributes.position;let rn=_t.start*St,li=(_t.start+_t.count)*St;$e!==null&&(rn=Math.max(rn,$e.start*St),li=Math.min(li,($e.start+$e.count)*St)),gt!==null?(rn=Math.max(rn,0),li=Math.min(li,gt.count)):wt!=null&&(rn=Math.max(rn,0),li=Math.min(li,wt.count));const pr=li-rn;if(pr<0||pr===1/0)return;ge.setup(me,ee,ft,pe,gt);let ts,Yt=Ie;if(gt!==null&&(ts=Ae.get(gt),Yt=it,Yt.setIndex(ts)),me.isMesh)ee.wireframe===!0?(Te.setLineWidth(ee.wireframeLinewidth*xe()),Yt.setMode(1)):Yt.setMode(4);else if(me.isLine){let dt=ee.linewidth;dt===void 0&&(dt=1),Te.setLineWidth(dt*xe()),me.isLineSegments?Yt.setMode(1):me.isLineLoop?Yt.setMode(2):Yt.setMode(3)}else me.isPoints?Yt.setMode(0):me.isSprite&&Yt.setMode(4);if(me.isInstancedMesh)Yt.renderInstances(rn,pr,me.count);else if(pe.isInstancedBufferGeometry){const dt=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,Go=Math.min(pe.instanceCount,dt);Yt.renderInstances(rn,pr,Go)}else Yt.render(rn,pr)},this.compile=function(O,ne){function pe(ee,me,$e){ee.transparent===!0&&ee.side===Es&&ee.forceSinglePass===!1?(ee.side=Li,ee.needsUpdate=!0,bn(ee,me,$e),ee.side=zs,ee.needsUpdate=!0,bn(ee,me,$e),ee.side=Es):bn(ee,me,$e)}p=U.get(O),p.init(),v.push(p),O.traverseVisible(function(ee){ee.isLight&&ee.layers.test(ne.layers)&&(p.pushLight(ee),ee.castShadow&&p.pushShadow(ee))}),p.setupLights(y.physicallyCorrectLights),O.traverse(function(ee){const me=ee.material;if(me)if(Array.isArray(me))for(let $e=0;$e<me.length;$e++){const ot=me[$e];pe(ot,O,ee)}else pe(me,O,ee)}),v.pop(),p=null};let oe=null;function we(O){oe&&oe(O)}function Re(){xt.stop()}function Xe(){xt.start()}const xt=new z4;xt.setAnimationLoop(we),typeof self<"u"&&xt.setContext(self),this.setAnimationLoop=function(O){oe=O,He.setAnimationLoop(O),O===null?xt.stop():xt.start()},He.addEventListener("sessionstart",Re),He.addEventListener("sessionend",Xe),this.render=function(O,ne){if(ne!==void 0&&ne.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),ne.parent===null&&ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),He.enabled===!0&&He.isPresenting===!0&&(He.cameraAutoUpdate===!0&&He.updateCamera(ne),ne=He.getCamera()),O.isScene===!0&&O.onBeforeRender(y,O,ne,M),p=U.get(O,v.length),p.init(),v.push(p),te.multiplyMatrices(ne.projectionMatrix,ne.matrixWorldInverse),ae.setFromProjectionMatrix(te),H=this.localClippingEnabled,k=N.init(this.clippingPlanes,H),h=Tt.get(O,g.length),h.init(),g.push(h),kt(O,ne,0,y.sortObjects),h.finish(),y.sortObjects===!0&&h.sort(j,Y),k===!0&&N.beginShadows();const pe=p.state.shadowsArray;if(le.render(pe,O,ne),k===!0&&N.endShadows(),this.info.autoReset===!0&&this.info.reset(),Se.render(h,O),p.setupLights(y.physicallyCorrectLights),ne.isArrayCamera){const ee=ne.cameras;for(let me=0,$e=ee.length;me<$e;me++){const ot=ee[me];Ot(h,O,ot,ot.viewport)}}else Ot(h,O,ne);M!==null&&(ie.updateMultisampleRenderTarget(M),ie.updateRenderTargetMipmap(M)),O.isScene===!0&&O.onAfterRender(y,O,ne),ge.resetDefaultState(),b=-1,A=null,v.pop(),v.length>0?p=v[v.length-1]:p=null,g.pop(),g.length>0?h=g[g.length-1]:h=null};function kt(O,ne,pe,ee){if(O.visible===!1)return;if(O.layers.test(ne.layers)){if(O.isGroup)pe=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(ne);else if(O.isLight)p.pushLight(O),O.castShadow&&p.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||ae.intersectsSprite(O)){ee&&fe.setFromMatrixPosition(O.matrixWorld).applyMatrix4(te);const ot=Ke.update(O),ft=O.material;ft.visible&&h.push(O,ot,ft,pe,fe.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(O.isSkinnedMesh&&O.skeleton.frame!==Ge.render.frame&&(O.skeleton.update(),O.skeleton.frame=Ge.render.frame),!O.frustumCulled||ae.intersectsObject(O))){ee&&fe.setFromMatrixPosition(O.matrixWorld).applyMatrix4(te);const ot=Ke.update(O),ft=O.material;if(Array.isArray(ft)){const gt=ot.groups;for(let St=0,_t=gt.length;St<_t;St++){const wt=gt[St],rn=ft[wt.materialIndex];rn&&rn.visible&&h.push(O,ot,rn,pe,fe.z,wt)}}else ft.visible&&h.push(O,ot,ft,pe,fe.z,null)}}const $e=O.children;for(let ot=0,ft=$e.length;ot<ft;ot++)kt($e[ot],ne,pe,ee)}function Ot(O,ne,pe,ee){const me=O.opaque,$e=O.transmissive,ot=O.transparent;p.setupLightsView(pe),k===!0&&N.setGlobalState(y.clippingPlanes,pe),$e.length>0&&Xn(me,ne,pe),ee&&Te.viewport(P.copy(ee)),me.length>0&&Et(me,ne,pe),$e.length>0&&Et($e,ne,pe),ot.length>0&&Et(ot,ne,pe),Te.buffers.depth.setTest(!0),Te.buffers.depth.setMask(!0),Te.buffers.color.setMask(!0),Te.setPolygonOffset(!1)}function Xn(O,ne,pe){const ee=ke.isWebGL2;V===null&&(V=new Dr(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")?Su:Os,minFilter:Lo,samples:ee&&s===!0?4:0})),y.getDrawingBufferSize(G),ee?V.setSize(G.x,G.y):V.setSize(Om(G.x),Om(G.y));const me=y.getRenderTarget();y.setRenderTarget(V),y.clear();const $e=y.toneMapping;y.toneMapping=Lr,Et(O,ne,pe),y.toneMapping=$e,ie.updateMultisampleRenderTarget(V),ie.updateRenderTargetMipmap(V),y.setRenderTarget(me)}function Et(O,ne,pe){const ee=ne.isScene===!0?ne.overrideMaterial:null;for(let me=0,$e=O.length;me<$e;me++){const ot=O[me],ft=ot.object,gt=ot.geometry,St=ee===null?ot.material:ee,_t=ot.group;ft.layers.test(pe.layers)&&Rn(ft,ne,pe,gt,St,_t)}}function Rn(O,ne,pe,ee,me,$e){O.onBeforeRender(y,ne,pe,ee,me,$e),O.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),me.onBeforeRender(y,ne,pe,ee,O,$e),me.transparent===!0&&me.side===Es&&me.forceSinglePass===!1?(me.side=Li,me.needsUpdate=!0,y.renderBufferDirect(pe,ne,ee,me,O,$e),me.side=zs,me.needsUpdate=!0,y.renderBufferDirect(pe,ne,ee,me,O,$e),me.side=Es):y.renderBufferDirect(pe,ne,ee,me,O,$e),O.onAfterRender(y,ne,pe,ee,me,$e)}function bn(O,ne,pe){ne.isScene!==!0&&(ne=ue);const ee=he.get(O),me=p.state.lights,$e=p.state.shadowsArray,ot=me.state.version,ft=qe.getParameters(O,me.state,$e,ne,pe),gt=qe.getProgramCacheKey(ft);let St=ee.programs;ee.environment=O.isMeshStandardMaterial?ne.environment:null,ee.fog=ne.fog,ee.envMap=(O.isMeshStandardMaterial?De:ye).get(O.envMap||ee.environment),St===void 0&&(O.addEventListener("dispose",_e),St=new Map,ee.programs=St);let _t=St.get(gt);if(_t!==void 0){if(ee.currentProgram===_t&&ee.lightsStateVersion===ot)return Td(O,ft),_t}else ft.uniforms=qe.getUniforms(O),O.onBuild(pe,ft,y),O.onBeforeCompile(ft,y),_t=qe.acquireProgram(ft,gt),St.set(gt,_t),ee.uniforms=ft.uniforms;const wt=ee.uniforms;(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(wt.clippingPlanes=N.uniform),Td(O,ft),ee.needsLights=Vu(O),ee.lightsStateVersion=ot,ee.needsLights&&(wt.ambientLightColor.value=me.state.ambient,wt.lightProbe.value=me.state.probe,wt.directionalLights.value=me.state.directional,wt.directionalLightShadows.value=me.state.directionalShadow,wt.spotLights.value=me.state.spot,wt.spotLightShadows.value=me.state.spotShadow,wt.rectAreaLights.value=me.state.rectArea,wt.ltc_1.value=me.state.rectAreaLTC1,wt.ltc_2.value=me.state.rectAreaLTC2,wt.pointLights.value=me.state.point,wt.pointLightShadows.value=me.state.pointShadow,wt.hemisphereLights.value=me.state.hemi,wt.directionalShadowMap.value=me.state.directionalShadowMap,wt.directionalShadowMatrix.value=me.state.directionalShadowMatrix,wt.spotShadowMap.value=me.state.spotShadowMap,wt.spotLightMatrix.value=me.state.spotLightMatrix,wt.spotLightMap.value=me.state.spotLightMap,wt.pointShadowMap.value=me.state.pointShadowMap,wt.pointShadowMatrix.value=me.state.pointShadowMatrix);const rn=_t.getUniforms(),li=$p.seqWithValue(rn.seq,wt);return ee.currentProgram=_t,ee.uniformsList=li,_t}function Td(O,ne){const pe=he.get(O);pe.outputEncoding=ne.outputEncoding,pe.instancing=ne.instancing,pe.skinning=ne.skinning,pe.morphTargets=ne.morphTargets,pe.morphNormals=ne.morphNormals,pe.morphColors=ne.morphColors,pe.morphTargetsCount=ne.morphTargetsCount,pe.numClippingPlanes=ne.numClippingPlanes,pe.numIntersection=ne.numClipIntersection,pe.vertexAlphas=ne.vertexAlphas,pe.vertexTangents=ne.vertexTangents,pe.toneMapping=ne.toneMapping}function Cg(O,ne,pe,ee,me){ne.isScene!==!0&&(ne=ue),ie.resetTextureUnits();const $e=ne.fog,ot=ee.isMeshStandardMaterial?ne.environment:null,ft=M===null?y.outputEncoding:M.isXRRenderTarget===!0?M.texture.encoding:Ro,gt=(ee.isMeshStandardMaterial?De:ye).get(ee.envMap||ot),St=ee.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,_t=!!ee.normalMap&&!!pe.attributes.tangent,wt=!!pe.morphAttributes.position,rn=!!pe.morphAttributes.normal,li=!!pe.morphAttributes.color,pr=ee.toneMapped?y.toneMapping:Lr,ts=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,Yt=ts!==void 0?ts.length:0,dt=he.get(ee),Go=p.state.lights;if(k===!0&&(H===!0||O!==A)){const It=O===A&&ee.id===b;N.setState(ee,O,It)}let sn=!1;ee.version===dt.__version?(dt.needsLights&&dt.lightsStateVersion!==Go.state.version||dt.outputEncoding!==ft||me.isInstancedMesh&&dt.instancing===!1||!me.isInstancedMesh&&dt.instancing===!0||me.isSkinnedMesh&&dt.skinning===!1||!me.isSkinnedMesh&&dt.skinning===!0||dt.envMap!==gt||ee.fog===!0&&dt.fog!==$e||dt.numClippingPlanes!==void 0&&(dt.numClippingPlanes!==N.numPlanes||dt.numIntersection!==N.numIntersection)||dt.vertexAlphas!==St||dt.vertexTangents!==_t||dt.morphTargets!==wt||dt.morphNormals!==rn||dt.morphColors!==li||dt.toneMapping!==pr||ke.isWebGL2===!0&&dt.morphTargetsCount!==Yt)&&(sn=!0):(sn=!0,dt.__version=ee.version);let ns=dt.currentProgram;sn===!0&&(ns=bn(ee,ne,me));let tl=!1,ji=!1,Xi=!1;const ct=ns.getUniforms(),Mt=dt.uniforms;if(Te.useProgram(ns.program)&&(tl=!0,ji=!0,Xi=!0),ee.id!==b&&(b=ee.id,ji=!0),tl||A!==O){if(ct.setValue(K,"projectionMatrix",O.projectionMatrix),ke.logarithmicDepthBuffer&&ct.setValue(K,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),A!==O&&(A=O,ji=!0,Xi=!0),ee.isShaderMaterial||ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshStandardMaterial||ee.envMap){const It=ct.map.cameraPosition;It!==void 0&&It.setValue(K,fe.setFromMatrixPosition(O.matrixWorld))}(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial)&&ct.setValue(K,"isOrthographic",O.isOrthographicCamera===!0),(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial||ee.isShadowMaterial||me.isSkinnedMesh)&&ct.setValue(K,"viewMatrix",O.matrixWorldInverse)}if(me.isSkinnedMesh){ct.setOptional(K,me,"bindMatrix"),ct.setOptional(K,me,"bindMatrixInverse");const It=me.skeleton;It&&(ke.floatVertexTextures?(It.boneTexture===null&&It.computeBoneTexture(),ct.setValue(K,"boneTexture",It.boneTexture,ie),ct.setValue(K,"boneTextureSize",It.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Yi=pe.morphAttributes;if((Yi.position!==void 0||Yi.normal!==void 0||Yi.color!==void 0&&ke.isWebGL2===!0)&&Ce.update(me,pe,ee,ns),(ji||dt.receiveShadow!==me.receiveShadow)&&(dt.receiveShadow=me.receiveShadow,ct.setValue(K,"receiveShadow",me.receiveShadow)),ee.isMeshGouraudMaterial&&ee.envMap!==null&&(Mt.envMap.value=gt,Mt.flipEnvMap.value=gt.isCubeTexture&&gt.isRenderTargetTexture===!1?-1:1),ji&&(ct.setValue(K,"toneMappingExposure",y.toneMappingExposure),dt.needsLights&&Ed(Mt,Xi),$e&&ee.fog===!0&&bt.refreshFogUniforms(Mt,$e),bt.refreshMaterialUniforms(Mt,ee,F,I,V),$p.upload(K,dt.uniformsList,Mt,ie)),ee.isShaderMaterial&&ee.uniformsNeedUpdate===!0&&($p.upload(K,dt.uniformsList,Mt,ie),ee.uniformsNeedUpdate=!1),ee.isSpriteMaterial&&ct.setValue(K,"center",me.center),ct.setValue(K,"modelViewMatrix",me.modelViewMatrix),ct.setValue(K,"normalMatrix",me.normalMatrix),ct.setValue(K,"modelMatrix",me.matrixWorld),ee.isShaderMaterial||ee.isRawShaderMaterial){const It=ee.uniformsGroups;for(let Dn=0,is=It.length;Dn<is;Dn++)if(ke.isWebGL2){const rs=It[Dn];Ze.update(rs,ns),Ze.bind(rs,ns)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ns}function Ed(O,ne){O.ambientLightColor.needsUpdate=ne,O.lightProbe.needsUpdate=ne,O.directionalLights.needsUpdate=ne,O.directionalLightShadows.needsUpdate=ne,O.pointLights.needsUpdate=ne,O.pointLightShadows.needsUpdate=ne,O.spotLights.needsUpdate=ne,O.spotLightShadows.needsUpdate=ne,O.rectAreaLights.needsUpdate=ne,O.hemisphereLights.needsUpdate=ne}function Vu(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(O,ne,pe){he.get(O.texture).__webglTexture=ne,he.get(O.depthTexture).__webglTexture=pe;const ee=he.get(O);ee.__hasExternalTextures=!0,ee.__hasExternalTextures&&(ee.__autoAllocateDepthBuffer=pe===void 0,ee.__autoAllocateDepthBuffer||Pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,ne){const pe=he.get(O);pe.__webglFramebuffer=ne,pe.__useDefaultFramebuffer=ne===void 0},this.setRenderTarget=function(O,ne=0,pe=0){M=O,_=ne,S=pe;let ee=!0,me=null,$e=!1,ot=!1;if(O){const gt=he.get(O);gt.__useDefaultFramebuffer!==void 0?(Te.bindFramebuffer(36160,null),ee=!1):gt.__webglFramebuffer===void 0?ie.setupRenderTarget(O):gt.__hasExternalTextures&&ie.rebindTextures(O,he.get(O.texture).__webglTexture,he.get(O.depthTexture).__webglTexture);const St=O.texture;(St.isData3DTexture||St.isDataArrayTexture||St.isCompressedArrayTexture)&&(ot=!0);const _t=he.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(me=_t[ne],$e=!0):ke.isWebGL2&&O.samples>0&&ie.useMultisampledRTT(O)===!1?me=he.get(O).__webglMultisampledFramebuffer:me=_t,P.copy(O.viewport),D.copy(O.scissor),E=O.scissorTest}else P.copy(W).multiplyScalar(F).floor(),D.copy($).multiplyScalar(F).floor(),E=se;if(Te.bindFramebuffer(36160,me)&&ke.drawBuffers&&ee&&Te.drawBuffers(O,me),Te.viewport(P),Te.scissor(D),Te.setScissorTest(E),$e){const gt=he.get(O.texture);K.framebufferTexture2D(36160,36064,34069+ne,gt.__webglTexture,pe)}else if(ot){const gt=he.get(O.texture),St=ne||0;K.framebufferTextureLayer(36160,36064,gt.__webglTexture,pe||0,St)}b=-1},this.readRenderTargetPixels=function(O,ne,pe,ee,me,$e,ot){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ft=he.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&ot!==void 0&&(ft=ft[ot]),ft){Te.bindFramebuffer(36160,ft);try{const gt=O.texture,St=gt.format,_t=gt.type;if(St!==Ti&&ze.convert(St)!==K.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const wt=_t===Su&&(Pe.has("EXT_color_buffer_half_float")||ke.isWebGL2&&Pe.has("EXT_color_buffer_float"));if(_t!==Os&&ze.convert(_t)!==K.getParameter(35738)&&!(_t===As&&(ke.isWebGL2||Pe.has("OES_texture_float")||Pe.has("WEBGL_color_buffer_float")))&&!wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ne>=0&&ne<=O.width-ee&&pe>=0&&pe<=O.height-me&&K.readPixels(ne,pe,ee,me,ze.convert(St),ze.convert(_t),$e)}finally{const gt=M!==null?he.get(M).__webglFramebuffer:null;Te.bindFramebuffer(36160,gt)}}},this.copyFramebufferToTexture=function(O,ne,pe=0){const ee=Math.pow(2,-pe),me=Math.floor(ne.image.width*ee),$e=Math.floor(ne.image.height*ee);ie.setTexture2D(ne,0),K.copyTexSubImage2D(3553,pe,0,0,O.x,O.y,me,$e),Te.unbindTexture()},this.copyTextureToTexture=function(O,ne,pe,ee=0){const me=ne.image.width,$e=ne.image.height,ot=ze.convert(pe.format),ft=ze.convert(pe.type);ie.setTexture2D(pe,0),K.pixelStorei(37440,pe.flipY),K.pixelStorei(37441,pe.premultiplyAlpha),K.pixelStorei(3317,pe.unpackAlignment),ne.isDataTexture?K.texSubImage2D(3553,ee,O.x,O.y,me,$e,ot,ft,ne.image.data):ne.isCompressedTexture?K.compressedTexSubImage2D(3553,ee,O.x,O.y,ne.mipmaps[0].width,ne.mipmaps[0].height,ot,ne.mipmaps[0].data):K.texSubImage2D(3553,ee,O.x,O.y,ot,ft,ne.image),ee===0&&pe.generateMipmaps&&K.generateMipmap(3553),Te.unbindTexture()},this.copyTextureToTexture3D=function(O,ne,pe,ee,me=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $e=O.max.x-O.min.x+1,ot=O.max.y-O.min.y+1,ft=O.max.z-O.min.z+1,gt=ze.convert(ee.format),St=ze.convert(ee.type);let _t;if(ee.isData3DTexture)ie.setTexture3D(ee,0),_t=32879;else if(ee.isDataArrayTexture)ie.setTexture2DArray(ee,0),_t=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}K.pixelStorei(37440,ee.flipY),K.pixelStorei(37441,ee.premultiplyAlpha),K.pixelStorei(3317,ee.unpackAlignment);const wt=K.getParameter(3314),rn=K.getParameter(32878),li=K.getParameter(3316),pr=K.getParameter(3315),ts=K.getParameter(32877),Yt=pe.isCompressedTexture?pe.mipmaps[0]:pe.image;K.pixelStorei(3314,Yt.width),K.pixelStorei(32878,Yt.height),K.pixelStorei(3316,O.min.x),K.pixelStorei(3315,O.min.y),K.pixelStorei(32877,O.min.z),pe.isDataTexture||pe.isData3DTexture?K.texSubImage3D(_t,me,ne.x,ne.y,ne.z,$e,ot,ft,gt,St,Yt.data):pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),K.compressedTexSubImage3D(_t,me,ne.x,ne.y,ne.z,$e,ot,ft,gt,Yt.data)):K.texSubImage3D(_t,me,ne.x,ne.y,ne.z,$e,ot,ft,gt,St,Yt),K.pixelStorei(3314,wt),K.pixelStorei(32878,rn),K.pixelStorei(3316,li),K.pixelStorei(3315,pr),K.pixelStorei(32877,ts),me===0&&ee.generateMipmaps&&K.generateMipmap(_t),Te.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?ie.setTextureCube(O,0):O.isData3DTexture?ie.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?ie.setTexture2DArray(O,0):ie.setTexture2D(O,0),Te.unbindTexture()},this.resetState=function(){_=0,S=0,M=null,Te.reset(),ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class G4 extends sw{}G4.prototype.isWebGL1Renderer=!0;class xg{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Be(e),this.density=t}clone(){return new xg(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class _g{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Be(e),this.near=t,this.far=i}clone(){return new _g(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}let Fm=class extends Dt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}};class wg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Ff,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ui()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ui()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ui()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const fi=new z;class Ha{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)fi.fromBufferAttribute(this,t),fi.applyMatrix4(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)fi.fromBufferAttribute(this,t),fi.applyNormalMatrix(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)fi.fromBufferAttribute(this,t),fi.transformDirection(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}setX(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Cs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Cs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Cs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Cs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array),s=Ut(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Vt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ha(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class ow extends jn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Pl;const Mc=new z,Ll=new z,Rl=new z,Dl=new ve,bc=new ve,j4=new ut,sp=new z,Tc=new z,op=new z,wb=new ve,Gv=new ve,Sb=new ve;class X4 extends Dt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Pl===void 0){Pl=new mt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new wg(t,5);Pl.setIndex([0,1,2,0,2,3]),Pl.setAttribute("position",new Ha(i,3,0,!1)),Pl.setAttribute("uv",new Ha(i,2,3,!1))}this.geometry=Pl,this.material=e!==void 0?e:new ow,this.center=new ve(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ll.setFromMatrixScale(this.matrixWorld),j4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Rl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ll.multiplyScalar(-Rl.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;ap(sp.set(-.5,-.5,0),Rl,o,Ll,r,s),ap(Tc.set(.5,-.5,0),Rl,o,Ll,r,s),ap(op.set(.5,.5,0),Rl,o,Ll,r,s),wb.set(0,0),Gv.set(1,0),Sb.set(1,1);let a=e.ray.intersectTriangle(sp,Tc,op,!1,Mc);if(a===null&&(ap(Tc.set(-.5,.5,0),Rl,o,Ll,r,s),Gv.set(0,1),a=e.ray.intersectTriangle(sp,op,Tc,!1,Mc),a===null))return;const u=e.ray.origin.distanceTo(Mc);u<e.near||u>e.far||t.push({distance:u,point:Mc.clone(),uv:lr.getUV(Mc,sp,Tc,op,wb,Gv,Sb,new ve),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ap(n,e,t,i,r,s){Dl.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(bc.x=s*Dl.x-r*Dl.y,bc.y=r*Dl.x+s*Dl.y):bc.copy(Dl),n.copy(e),n.x+=bc.x,n.y+=bc.y,n.applyMatrix4(j4)}const lp=new z,Mb=new z;class Y4 extends Dt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){lp.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(lp);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){lp.setFromMatrixPosition(e.matrixWorld),Mb.setFromMatrixPosition(this.matrixWorld);const i=lp.distanceTo(Mb)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const bb=new z,Tb=new Nt,Eb=new Nt,e9=new z,Ab=new ut;class q4 extends Hn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ut,this.bindMatrixInverse=new ut}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Nt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;Tb.fromBufferAttribute(r.attributes.skinIndex,e),Eb.fromBufferAttribute(r.attributes.skinWeight,e),bb.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Eb.getComponent(s);if(o!==0){const a=Tb.getComponent(s);Ab.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(e9.copy(bb).applyMatrix4(Ab),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class aw extends Dt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class fu extends fn{constructor(e=null,t=1,i=1,r,s,o,a,u,f=mn,d=mn,h,p){super(null,o,a,u,f,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Cb=new ut,t9=new ut;class Sg{constructor(e=[],t=[]){this.uuid=Ui(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ut)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ut;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:t9;Cb.multiplyMatrices(a,t[s]),Cb.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Sg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=P4(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new fu(t,e,e,Ti,As);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new aw),this.bones.push(o),this.boneInverses.push(new ut().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Tu extends Vt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Pb=new ut,Lb=new ut,up=[],n9=new ut,Ec=new Hn;class Z4 extends Hn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Tu(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,n9)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Ec.geometry=this.geometry,Ec.material=this.material,Ec.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,Pb),Lb.multiplyMatrices(i,Pb),Ec.matrixWorld=Lb,Ec.raycast(e,up);for(let o=0,a=up.length;o<a;o++){const u=up[o];u.instanceId=s,u.object=this,t.push(u)}up.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Tu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class xi extends jn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Be(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Rb=new z,Db=new z,kb=new ut,jv=new Iu,cp=new Ja;class Do extends Dt{constructor(e=new mt,t=new xi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)Rb.fromBufferAttribute(t,r-1),Db.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=Rb.distanceTo(Db);e.setAttribute("lineDistance",new We(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),cp.copy(i.boundingSphere),cp.applyMatrix4(r),cp.radius+=s,e.ray.intersectsSphere(cp)===!1)return;kb.copy(r).invert(),jv.copy(e.ray).applyMatrix4(kb);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,f=new z,d=new z,h=new z,p=new z,g=this.isLineSegments?2:1,v=i.index,x=i.attributes.position;if(v!==null){const _=Math.max(0,o.start),S=Math.min(v.count,o.start+o.count);for(let M=_,b=S-1;M<b;M+=g){const A=v.getX(M),P=v.getX(M+1);if(f.fromBufferAttribute(x,A),d.fromBufferAttribute(x,P),jv.distanceSqToSegment(f,d,p,h)>u)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||t.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,o.start),S=Math.min(x.count,o.start+o.count);for(let M=_,b=S-1;M<b;M+=g){if(f.fromBufferAttribute(x,M),d.fromBufferAttribute(x,M+1),jv.distanceSqToSegment(f,d,p,h)>u)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const Ib=new z,Nb=new z;class es extends Do{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)Ib.fromBufferAttribute(t,r),Nb.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Ib.distanceTo(Nb);e.setAttribute("lineDistance",new We(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class J4 extends Do{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class lw extends jn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const zb=new ut,lx=new Iu,fp=new Ja,dp=new z;class K4 extends Dt{constructor(e=new mt,t=new lw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),fp.copy(i.boundingSphere),fp.applyMatrix4(r),fp.radius+=s,e.ray.intersectsSphere(fp)===!1)return;zb.copy(r).invert(),lx.copy(e.ray).applyMatrix4(zb);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),u=a*a,f=i.index,h=i.attributes.position;if(f!==null){const p=Math.max(0,o.start),g=Math.min(f.count,o.start+o.count);for(let v=p,y=g;v<y;v++){const x=f.getX(v);dp.fromBufferAttribute(h,x),Ob(dp,x,u,r,e,t,this)}}else{const p=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let v=p,y=g;v<y;v++)dp.fromBufferAttribute(h,v),Ob(dp,v,u,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Ob(n,e,t,i,r,s,o){const a=lx.distanceSqToPoint(n);if(a<t){const u=new z;lx.closestPointToPoint(n,u),u.applyMatrix4(i);const f=r.ray.origin.distanceTo(u);if(f<r.near||f>r.far)return;s.push({distance:f,distanceToRay:Math.sqrt(a),point:u,index:e,face:null,object:o})}}class i9 extends fn{constructor(e,t,i,r,s,o,a,u,f){super(e,t,i,r,s,o,a,u,f),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:vn,this.magFilter=s!==void 0?s:vn,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class r9 extends fn{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=mn,this.minFilter=mn,this.generateMipmaps=!1,this.needsUpdate=!0}}class uw extends fn{constructor(e,t,i,r,s,o,a,u,f,d,h,p){super(null,o,a,u,f,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class s9 extends uw{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ii}}class o9 extends fn{constructor(e,t,i,r,s,o,a,u,f){super(e,t,i,r,s,o,a,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class kr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,u=s-1,f;for(;a<=u;)if(r=Math.floor(a+(u-a)/2),f=i[r]-o,f<0)a=r+1;else if(f>0)u=r-1;else{u=r;break}if(r=u,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,g=(o-d)/p;return(r+g)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),u=t||(o.isVector2?new ve:new z);return u.copy(a).sub(o).normalize(),u}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new z,r=[],s=[],o=[],a=new z,u=new ut;for(let g=0;g<=e;g++){const v=g/e;r[g]=this.getTangentAt(v,new z)}s[0]=new z,o[0]=new z;let f=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=f&&(f=d,i.set(1,0,0)),h<=f&&(f=h,i.set(0,1,0)),p<=f&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(r[g-1],r[g]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(yn(r[g-1].dot(r[g]),-1,1));s[g].applyMatrix4(u.makeRotationAxis(a,v))}o[g].crossVectors(r[g],s[g])}if(t===!0){let g=Math.acos(yn(s[0].dot(s[e]),-1,1));g/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let v=1;v<=e;v++)s[v].applyMatrix4(u.makeRotationAxis(r[v],g*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Mg extends kr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=u}getPoint(e,t){const i=t||new ve,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(a),f=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=u-this.aX,g=f-this.aY;u=p*d-g*h+this.aX,f=p*h+g*d+this.aY}return i.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Q4 extends Mg{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function cw(){let n=0,e=0,t=0,i=0;function r(s,o,a,u){n=s,e=a,t=-3*s+3*o-2*a-u,i=2*s-2*o+a+u}return{initCatmullRom:function(s,o,a,u,f){r(o,a,f*(a-s),f*(u-o))},initNonuniformCatmullRom:function(s,o,a,u,f,d,h){let p=(o-s)/f-(a-s)/(f+d)+(a-o)/d,g=(a-o)/d-(u-o)/(d+h)+(u-a)/h;p*=d,g*=d,r(o,a,p,g)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const hp=new z,Xv=new cw,Yv=new cw,qv=new cw;class $4 extends kr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new z){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),u=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:u===0&&a===s-1&&(a=s-2,u=1);let f,d;this.closed||a>0?f=r[(a-1)%s]:(hp.subVectors(r[0],r[1]).add(r[0]),f=hp);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(hp.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=hp),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(f.distanceToSquared(h),g),y=Math.pow(h.distanceToSquared(p),g),x=Math.pow(p.distanceToSquared(d),g);y<1e-4&&(y=1),v<1e-4&&(v=y),x<1e-4&&(x=y),Xv.initNonuniformCatmullRom(f.x,h.x,p.x,d.x,v,y,x),Yv.initNonuniformCatmullRom(f.y,h.y,p.y,d.y,v,y,x),qv.initNonuniformCatmullRom(f.z,h.z,p.z,d.z,v,y,x)}else this.curveType==="catmullrom"&&(Xv.initCatmullRom(f.x,h.x,p.x,d.x,this.tension),Yv.initCatmullRom(f.y,h.y,p.y,d.y,this.tension),qv.initCatmullRom(f.z,h.z,p.z,d.z,this.tension));return i.set(Xv.calc(u),Yv.calc(u),qv.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new z().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Fb(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,u=n*a;return(2*t-2*i+s+o)*u+(-3*t+3*i-2*s-o)*a+s*n+t}function a9(n,e){const t=1-n;return t*t*e}function l9(n,e){return 2*(1-n)*n*e}function u9(n,e){return n*n*e}function ef(n,e,t,i){return a9(n,e)+l9(n,t)+u9(n,i)}function c9(n,e){const t=1-n;return t*t*t*e}function f9(n,e){const t=1-n;return 3*t*t*n*e}function d9(n,e){return 3*(1-n)*n*n*e}function h9(n,e){return n*n*n*e}function tf(n,e,t,i,r){return c9(n,e)+f9(n,t)+d9(n,i)+h9(n,r)}class fw extends kr{constructor(e=new ve,t=new ve,i=new ve,r=new ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ve){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(tf(e,r.x,s.x,o.x,a.x),tf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eL extends kr{constructor(e=new z,t=new z,i=new z,r=new z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new z){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(tf(e,r.x,s.x,o.x,a.x),tf(e,r.y,s.y,o.y,a.y),tf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bg extends kr{constructor(e=new ve,t=new ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ve){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new ve;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tL extends kr{constructor(e=new z,t=new z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new z){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dw extends kr{constructor(e=new ve,t=new ve,i=new ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ve){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(ef(e,r.x,s.x,o.x),ef(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hw extends kr{constructor(e=new z,t=new z,i=new z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new z){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(ef(e,r.x,s.x,o.x),ef(e,r.y,s.y,o.y),ef(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pw extends kr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ve){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,u=r[o===0?o:o-1],f=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(Fb(a,u.x,f.x,d.x,h.x),Fb(a,u.y,f.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ve().fromArray(r))}return this}}var mw=Object.freeze({__proto__:null,ArcCurve:Q4,CatmullRomCurve3:$4,CubicBezierCurve:fw,CubicBezierCurve3:eL,EllipseCurve:Mg,LineCurve:bg,LineCurve3:tL,QuadraticBezierCurve:dw,QuadraticBezierCurve3:hw,SplineCurve:pw});class nL extends kr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new bg(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],u=a.getLength(),f=u===0?0:1-o/u;return a.getPointAt(f,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(a);for(let f=0;f<u.length;f++){const d=u[f];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new mw[r.type]().fromJSON(r))}return this}}class Vf extends nL{constructor(e){super(),this.type="Path",this.currentPoint=new ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new bg(this.currentPoint.clone(),new ve(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new dw(this.currentPoint.clone(),new ve(e,t),new ve(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new fw(this.currentPoint.clone(),new ve(e,t),new ve(i,r),new ve(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new pw(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+a,t+u,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,u){const f=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+f,t+d,i,r,s,o,a,u),this}absellipse(e,t,i,r,s,o,a,u){const f=new Mg(e,t,i,r,s,o,a,u);if(this.curves.length>0){const h=f.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(f);const d=f.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ou extends mt{constructor(e=[new ve(0,-.5),new ve(.5,0),new ve(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=yn(r,0,Math.PI*2);const s=[],o=[],a=[],u=[],f=[],d=1/t,h=new z,p=new ve,g=new z,v=new z,y=new z;let x=0,_=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:x=e[S+1].x-e[S].x,_=e[S+1].y-e[S].y,g.x=_*1,g.y=-x,g.z=_*0,y.copy(g),g.normalize(),u.push(g.x,g.y,g.z);break;case e.length-1:u.push(y.x,y.y,y.z);break;default:x=e[S+1].x-e[S].x,_=e[S+1].y-e[S].y,g.x=_*1,g.y=-x,g.z=_*0,v.copy(g),g.x+=y.x,g.y+=y.y,g.z+=y.z,g.normalize(),u.push(g.x,g.y,g.z),y.copy(v)}for(let S=0;S<=t;S++){const M=i+S*d*r,b=Math.sin(M),A=Math.cos(M);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*b,h.y=e[P].y,h.z=e[P].x*A,o.push(h.x,h.y,h.z),p.x=S/t,p.y=P/(e.length-1),a.push(p.x,p.y);const D=u[3*P+0]*b,E=u[3*P+1],R=u[3*P+0]*A;f.push(D,E,R)}}for(let S=0;S<t;S++)for(let M=0;M<e.length-1;M++){const b=M+S*e.length,A=b,P=b+e.length,D=b+e.length+1,E=b+1;s.push(A,P,E),s.push(D,E,P)}this.setIndex(s),this.setAttribute("position",new We(o,3)),this.setAttribute("uv",new We(a,2)),this.setAttribute("normal",new We(f,3))}static fromJSON(e){return new Ou(e.points,e.segments,e.phiStart,e.phiLength)}}class fd extends Ou{constructor(e=1,t=1,i=4,r=8){const s=new Vf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new fd(e.radius,e.length,e.capSegments,e.radialSegments)}}class dd extends mt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],u=[],f=new z,d=new ve;o.push(0,0,0),a.push(0,0,1),u.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const g=i+h/t*r;f.x=e*Math.cos(g),f.y=e*Math.sin(g),o.push(f.x,f.y,f.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,u.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new We(o,3)),this.setAttribute("normal",new We(a,3)),this.setAttribute("uv",new We(u,2))}static fromJSON(e){return new dd(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ka extends mt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:u};const f=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],g=[];let v=0;const y=[],x=i/2;let _=0;S(),o===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(d),this.setAttribute("position",new We(h,3)),this.setAttribute("normal",new We(p,3)),this.setAttribute("uv",new We(g,2));function S(){const b=new z,A=new z;let P=0;const D=(t-e)/i;for(let E=0;E<=s;E++){const R=[],I=E/s,F=I*(t-e)+e;for(let j=0;j<=r;j++){const Y=j/r,W=Y*u+a,$=Math.sin(W),se=Math.cos(W);A.x=F*$,A.y=-I*i+x,A.z=F*se,h.push(A.x,A.y,A.z),b.set($,D,se).normalize(),p.push(b.x,b.y,b.z),g.push(Y,1-I),R.push(v++)}y.push(R)}for(let E=0;E<r;E++)for(let R=0;R<s;R++){const I=y[R][E],F=y[R+1][E],j=y[R+1][E+1],Y=y[R][E+1];d.push(I,F,Y),d.push(F,j,Y),P+=6}f.addGroup(_,P,0),_+=P}function M(b){const A=v,P=new ve,D=new z;let E=0;const R=b===!0?e:t,I=b===!0?1:-1;for(let j=1;j<=r;j++)h.push(0,x*I,0),p.push(0,I,0),g.push(.5,.5),v++;const F=v;for(let j=0;j<=r;j++){const W=j/r*u+a,$=Math.cos(W),se=Math.sin(W);D.x=R*se,D.y=x*I,D.z=R*$,h.push(D.x,D.y,D.z),p.push(0,I,0),P.x=$*.5+.5,P.y=se*.5*I+.5,g.push(P.x,P.y),v++}for(let j=0;j<r;j++){const Y=A+j,W=F+j;b===!0?d.push(W,W+1,Y):d.push(W+1,W,Y),E+=3}f.addGroup(_,E,b===!0?1:2),_+=E}}static fromJSON(e){return new Ka(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hd extends Ka{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new hd(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vs extends mt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),f(i),d(),this.setAttribute("position",new We(s,3)),this.setAttribute("normal",new We(s.slice(),3)),this.setAttribute("uv",new We(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const M=new z,b=new z,A=new z;for(let P=0;P<t.length;P+=3)g(t[P+0],M),g(t[P+1],b),g(t[P+2],A),u(M,b,A,S)}function u(S,M,b,A){const P=A+1,D=[];for(let E=0;E<=P;E++){D[E]=[];const R=S.clone().lerp(b,E/P),I=M.clone().lerp(b,E/P),F=P-E;for(let j=0;j<=F;j++)j===0&&E===P?D[E][j]=R:D[E][j]=R.clone().lerp(I,j/F)}for(let E=0;E<P;E++)for(let R=0;R<2*(P-E)-1;R++){const I=Math.floor(R/2);R%2===0?(p(D[E][I+1]),p(D[E+1][I]),p(D[E][I])):(p(D[E][I+1]),p(D[E+1][I+1]),p(D[E+1][I]))}}function f(S){const M=new z;for(let b=0;b<s.length;b+=3)M.x=s[b+0],M.y=s[b+1],M.z=s[b+2],M.normalize().multiplyScalar(S),s[b+0]=M.x,s[b+1]=M.y,s[b+2]=M.z}function d(){const S=new z;for(let M=0;M<s.length;M+=3){S.x=s[M+0],S.y=s[M+1],S.z=s[M+2];const b=x(S)/2/Math.PI+.5,A=_(S)/Math.PI+.5;o.push(b,1-A)}v(),h()}function h(){for(let S=0;S<o.length;S+=6){const M=o[S+0],b=o[S+2],A=o[S+4],P=Math.max(M,b,A),D=Math.min(M,b,A);P>.9&&D<.1&&(M<.2&&(o[S+0]+=1),b<.2&&(o[S+2]+=1),A<.2&&(o[S+4]+=1))}}function p(S){s.push(S.x,S.y,S.z)}function g(S,M){const b=S*3;M.x=e[b+0],M.y=e[b+1],M.z=e[b+2]}function v(){const S=new z,M=new z,b=new z,A=new z,P=new ve,D=new ve,E=new ve;for(let R=0,I=0;R<s.length;R+=9,I+=6){S.set(s[R+0],s[R+1],s[R+2]),M.set(s[R+3],s[R+4],s[R+5]),b.set(s[R+6],s[R+7],s[R+8]),P.set(o[I+0],o[I+1]),D.set(o[I+2],o[I+3]),E.set(o[I+4],o[I+5]),A.copy(S).add(M).add(b).divideScalar(3);const F=x(A);y(P,I+0,S,F),y(D,I+2,M,F),y(E,I+4,b,F)}}function y(S,M,b,A){A<0&&S.x===1&&(o[M]=S.x-1),b.x===0&&b.z===0&&(o[M]=A/2/Math.PI+.5)}function x(S){return Math.atan2(S.z,-S.x)}function _(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}static fromJSON(e){return new Vs(e.vertices,e.indices,e.radius,e.details)}}class pd extends Vs{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pd(e.radius,e.detail)}}const pp=new z,mp=new z,Zv=new z,gp=new lr;class iL extends mt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Da*t),o=e.getIndex(),a=e.getAttribute("position"),u=o?o.count:a.count,f=[0,0,0],d=["a","b","c"],h=new Array(3),p={},g=[];for(let v=0;v<u;v+=3){o?(f[0]=o.getX(v),f[1]=o.getX(v+1),f[2]=o.getX(v+2)):(f[0]=v,f[1]=v+1,f[2]=v+2);const{a:y,b:x,c:_}=gp;if(y.fromBufferAttribute(a,f[0]),x.fromBufferAttribute(a,f[1]),_.fromBufferAttribute(a,f[2]),gp.getNormal(Zv),h[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let S=0;S<3;S++){const M=(S+1)%3,b=h[S],A=h[M],P=gp[d[S]],D=gp[d[M]],E=`${b}_${A}`,R=`${A}_${b}`;R in p&&p[R]?(Zv.dot(p[R].normal)<=s&&(g.push(P.x,P.y,P.z),g.push(D.x,D.y,D.z)),p[R]=null):E in p||(p[E]={index0:f[S],index1:f[M],normal:Zv.clone()})}}for(const v in p)if(p[v]){const{index0:y,index1:x}=p[v];pp.fromBufferAttribute(a,y),mp.fromBufferAttribute(a,x),g.push(pp.x,pp.y,pp.z),g.push(mp.x,mp.y,mp.z)}this.setAttribute("position",new We(g,3))}}}class Na extends Vf{constructor(e){super(e),this.uuid=Ui(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Vf().fromJSON(r))}return this}}const p9={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=rL(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,u,f,d,h,p,g;if(i&&(s=x9(n,e,s,t)),n.length>80*t){a=f=n[0],u=d=n[1];for(let v=t;v<r;v+=t)h=n[v],p=n[v+1],h<a&&(a=h),p<u&&(u=p),h>f&&(f=h),p>d&&(d=p);g=Math.max(f-a,d-u),g=g!==0?32767/g:0}return Hf(s,o,t,a,u,g,0),o}};function rL(n,e,t,i,r){let s,o;if(r===L9(n,e,t,i)>0)for(s=e;s<t;s+=i)o=Bb(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=Bb(s,n[s],n[s+1],o);return o&&Tg(o,o.next)&&(Gf(o),o=o.next),o}function Wa(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Tg(t,t.next)||en(t.prev,t,t.next)===0)){if(Gf(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Hf(n,e,t,i,r,s,o){if(!n)return;!o&&s&&b9(n,i,r,s);let a=n,u,f;for(;n.prev!==n.next;){if(u=n.prev,f=n.next,s?g9(n,i,r,s):m9(n)){e.push(u.i/t|0),e.push(n.i/t|0),e.push(f.i/t|0),Gf(n),n=f.next,a=f.next;continue}if(n=f,n===a){o?o===1?(n=v9(Wa(n),e,t),Hf(n,e,t,i,r,s,2)):o===2&&y9(n,e,t,i,r,s):Hf(Wa(n),e,t,i,r,s,1);break}}}function m9(n){const e=n.prev,t=n,i=n.next;if(en(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,u=t.y,f=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<u?a<f?a:f:u<f?u:f,p=r>s?r>o?r:o:s>o?s:o,g=a>u?a>f?a:f:u>f?u:f;let v=i.next;for(;v!==e;){if(v.x>=d&&v.x<=p&&v.y>=h&&v.y<=g&&iu(r,a,s,u,o,f,v.x,v.y)&&en(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function g9(n,e,t,i){const r=n.prev,s=n,o=n.next;if(en(r,s,o)>=0)return!1;const a=r.x,u=s.x,f=o.x,d=r.y,h=s.y,p=o.y,g=a<u?a<f?a:f:u<f?u:f,v=d<h?d<p?d:p:h<p?h:p,y=a>u?a>f?a:f:u>f?u:f,x=d>h?d>p?d:p:h>p?h:p,_=ux(g,v,e,t,i),S=ux(y,x,e,t,i);let M=n.prevZ,b=n.nextZ;for(;M&&M.z>=_&&b&&b.z<=S;){if(M.x>=g&&M.x<=y&&M.y>=v&&M.y<=x&&M!==r&&M!==o&&iu(a,d,u,h,f,p,M.x,M.y)&&en(M.prev,M,M.next)>=0||(M=M.prevZ,b.x>=g&&b.x<=y&&b.y>=v&&b.y<=x&&b!==r&&b!==o&&iu(a,d,u,h,f,p,b.x,b.y)&&en(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;M&&M.z>=_;){if(M.x>=g&&M.x<=y&&M.y>=v&&M.y<=x&&M!==r&&M!==o&&iu(a,d,u,h,f,p,M.x,M.y)&&en(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;b&&b.z<=S;){if(b.x>=g&&b.x<=y&&b.y>=v&&b.y<=x&&b!==r&&b!==o&&iu(a,d,u,h,f,p,b.x,b.y)&&en(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function v9(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Tg(r,s)&&sL(r,i,i.next,s)&&Wf(r,s)&&Wf(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Gf(i),Gf(i.next),i=n=s),i=i.next}while(i!==n);return Wa(i)}function y9(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&A9(o,a)){let u=oL(o,a);o=Wa(o,o.next),u=Wa(u,u.next),Hf(o,e,t,i,r,s,0),Hf(u,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function x9(n,e,t,i){const r=[];let s,o,a,u,f;for(s=0,o=e.length;s<o;s++)a=e[s]*i,u=s<o-1?e[s+1]*i:n.length,f=rL(n,a,u,i,!1),f===f.next&&(f.steiner=!0),r.push(E9(f));for(r.sort(_9),s=0;s<r.length;s++)t=w9(r[s],t);return t}function _9(n,e){return n.x-e.x}function w9(n,e){const t=S9(n,e);if(!t)return e;const i=oL(t,n);return Wa(i,i.next),Wa(t,t.next)}function S9(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,u=r.x,f=r.y;let d=1/0,h;t=r;do s>=t.x&&t.x>=u&&s!==t.x&&iu(o<f?s:i,o,u,f,o<f?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Wf(t,n)&&(h<d||h===d&&(t.x>r.x||t.x===r.x&&M9(r,t)))&&(r=t,d=h)),t=t.next;while(t!==a);return r}function M9(n,e){return en(n.prev,n,e.prev)<0&&en(e.next,n,n.next)<0}function b9(n,e,t,i){let r=n;do r.z===0&&(r.z=ux(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,T9(r)}function T9(n){let e,t,i,r,s,o,a,u,f=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<f&&(a++,i=i.nextZ,!!i);e++);for(u=f;a>0||u>0&&i;)a!==0&&(u===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,u--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,f*=2}while(o>1);return n}function ux(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function E9(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function iu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function A9(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!C9(n,e)&&(Wf(n,e)&&Wf(e,n)&&P9(n,e)&&(en(n.prev,n,e.prev)||en(n,e.prev,e))||Tg(n,e)&&en(n.prev,n,n.next)>0&&en(e.prev,e,e.next)>0)}function en(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Tg(n,e){return n.x===e.x&&n.y===e.y}function sL(n,e,t,i){const r=yp(en(n,e,t)),s=yp(en(n,e,i)),o=yp(en(t,i,n)),a=yp(en(t,i,e));return!!(r!==s&&o!==a||r===0&&vp(n,t,e)||s===0&&vp(n,i,e)||o===0&&vp(t,n,i)||a===0&&vp(t,e,i))}function vp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function yp(n){return n>0?1:n<0?-1:0}function C9(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&sL(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Wf(n,e){return en(n.prev,n,n.next)<0?en(n,e,n.next)>=0&&en(n,n.prev,e)>=0:en(n,e,n.prev)<0||en(n,n.next,e)<0}function P9(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function oL(n,e){const t=new cx(n.i,n.x,n.y),i=new cx(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function Bb(n,e,t,i){const r=new cx(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Gf(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function cx(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L9(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class Qr{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Qr.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];Ub(e),Vb(i,e);let o=e.length;t.forEach(Ub);for(let u=0;u<t.length;u++)r.push(o),o+=t[u].length,Vb(i,t[u]);const a=p9.triangulate(i,r);for(let u=0;u<a.length;u+=3)s.push(a.slice(u,u+3));return s}}function Ub(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Vb(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class md extends mt{constructor(e=new Na([new ve(.5,.5),new ve(-.5,.5),new ve(-.5,-.5),new ve(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,u=e.length;a<u;a++){const f=e[a];o(f)}this.setAttribute("position",new We(r,3)),this.setAttribute("uv",new We(s,2)),this.computeVertexNormals();function o(a){const u=[],f=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:g-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:R9;let M,b=!1,A,P,D,E;_&&(M=_.getSpacedPoints(d),b=!0,p=!1,A=_.computeFrenetFrames(d,!1),P=new z,D=new z,E=new z),p||(x=0,g=0,v=0,y=0);const R=a.extractPoints(f);let I=R.shape;const F=R.holes;if(!Qr.isClockWise(I)){I=I.reverse();for(let he=0,ie=F.length;he<ie;he++){const ye=F[he];Qr.isClockWise(ye)&&(F[he]=ye.reverse())}}const Y=Qr.triangulateShape(I,F),W=I;for(let he=0,ie=F.length;he<ie;he++){const ye=F[he];I=I.concat(ye)}function $(he,ie,ye){return ie||console.error("THREE.ExtrudeGeometry: vec does not exist"),ie.clone().multiplyScalar(ye).add(he)}const se=I.length,ae=Y.length;function k(he,ie,ye){let De,Ae,nt;const Ke=he.x-ie.x,qe=he.y-ie.y,bt=ye.x-he.x,Tt=ye.y-he.y,U=Ke*Ke+qe*qe,N=Ke*Tt-qe*bt;if(Math.abs(N)>Number.EPSILON){const le=Math.sqrt(U),Se=Math.sqrt(bt*bt+Tt*Tt),Ce=ie.x-qe/le,Ie=ie.y+Ke/le,it=ye.x-Tt/Se,ze=ye.y+bt/Se,ge=((it-Ce)*Tt-(ze-Ie)*bt)/(Ke*Tt-qe*bt);De=Ce+Ke*ge-he.x,Ae=Ie+qe*ge-he.y;const Ze=De*De+Ae*Ae;if(Ze<=2)return new ve(De,Ae);nt=Math.sqrt(Ze/2)}else{let le=!1;Ke>Number.EPSILON?bt>Number.EPSILON&&(le=!0):Ke<-Number.EPSILON?bt<-Number.EPSILON&&(le=!0):Math.sign(qe)===Math.sign(Tt)&&(le=!0),le?(De=-qe,Ae=Ke,nt=Math.sqrt(U)):(De=Ke,Ae=qe,nt=Math.sqrt(U/2))}return new ve(De/nt,Ae/nt)}const H=[];for(let he=0,ie=W.length,ye=ie-1,De=he+1;he<ie;he++,ye++,De++)ye===ie&&(ye=0),De===ie&&(De=0),H[he]=k(W[he],W[ye],W[De]);const V=[];let te,G=H.concat();for(let he=0,ie=F.length;he<ie;he++){const ye=F[he];te=[];for(let De=0,Ae=ye.length,nt=Ae-1,Ke=De+1;De<Ae;De++,nt++,Ke++)nt===Ae&&(nt=0),Ke===Ae&&(Ke=0),te[De]=k(ye[De],ye[nt],ye[Ke]);V.push(te),G=G.concat(te)}for(let he=0;he<x;he++){const ie=he/x,ye=g*Math.cos(ie*Math.PI/2),De=v*Math.sin(ie*Math.PI/2)+y;for(let Ae=0,nt=W.length;Ae<nt;Ae++){const Ke=$(W[Ae],H[Ae],De);be(Ke.x,Ke.y,-ye)}for(let Ae=0,nt=F.length;Ae<nt;Ae++){const Ke=F[Ae];te=V[Ae];for(let qe=0,bt=Ke.length;qe<bt;qe++){const Tt=$(Ke[qe],te[qe],De);be(Tt.x,Tt.y,-ye)}}}const fe=v+y;for(let he=0;he<se;he++){const ie=p?$(I[he],G[he],fe):I[he];b?(D.copy(A.normals[0]).multiplyScalar(ie.x),P.copy(A.binormals[0]).multiplyScalar(ie.y),E.copy(M[0]).add(D).add(P),be(E.x,E.y,E.z)):be(ie.x,ie.y,0)}for(let he=1;he<=d;he++)for(let ie=0;ie<se;ie++){const ye=p?$(I[ie],G[ie],fe):I[ie];b?(D.copy(A.normals[he]).multiplyScalar(ye.x),P.copy(A.binormals[he]).multiplyScalar(ye.y),E.copy(M[he]).add(D).add(P),be(E.x,E.y,E.z)):be(ye.x,ye.y,h/d*he)}for(let he=x-1;he>=0;he--){const ie=he/x,ye=g*Math.cos(ie*Math.PI/2),De=v*Math.sin(ie*Math.PI/2)+y;for(let Ae=0,nt=W.length;Ae<nt;Ae++){const Ke=$(W[Ae],H[Ae],De);be(Ke.x,Ke.y,h+ye)}for(let Ae=0,nt=F.length;Ae<nt;Ae++){const Ke=F[Ae];te=V[Ae];for(let qe=0,bt=Ke.length;qe<bt;qe++){const Tt=$(Ke[qe],te[qe],De);b?be(Tt.x,Tt.y+M[d-1].y,M[d-1].x+ye):be(Tt.x,Tt.y,h+ye)}}}ue(),xe();function ue(){const he=r.length/3;if(p){let ie=0,ye=se*ie;for(let De=0;De<ae;De++){const Ae=Y[De];Pe(Ae[2]+ye,Ae[1]+ye,Ae[0]+ye)}ie=d+x*2,ye=se*ie;for(let De=0;De<ae;De++){const Ae=Y[De];Pe(Ae[0]+ye,Ae[1]+ye,Ae[2]+ye)}}else{for(let ie=0;ie<ae;ie++){const ye=Y[ie];Pe(ye[2],ye[1],ye[0])}for(let ie=0;ie<ae;ie++){const ye=Y[ie];Pe(ye[0]+se*d,ye[1]+se*d,ye[2]+se*d)}}i.addGroup(he,r.length/3-he,0)}function xe(){const he=r.length/3;let ie=0;K(W,ie),ie+=W.length;for(let ye=0,De=F.length;ye<De;ye++){const Ae=F[ye];K(Ae,ie),ie+=Ae.length}i.addGroup(he,r.length/3-he,1)}function K(he,ie){let ye=he.length;for(;--ye>=0;){const De=ye;let Ae=ye-1;Ae<0&&(Ae=he.length-1);for(let nt=0,Ke=d+x*2;nt<Ke;nt++){const qe=se*nt,bt=se*(nt+1),Tt=ie+De+qe,U=ie+Ae+qe,N=ie+Ae+bt,le=ie+De+bt;ke(Tt,U,N,le)}}}function be(he,ie,ye){u.push(he),u.push(ie),u.push(ye)}function Pe(he,ie,ye){Te(he),Te(ie),Te(ye);const De=r.length/3,Ae=S.generateTopUV(i,r,De-3,De-2,De-1);Ge(Ae[0]),Ge(Ae[1]),Ge(Ae[2])}function ke(he,ie,ye,De){Te(he),Te(ie),Te(De),Te(ie),Te(ye),Te(De);const Ae=r.length/3,nt=S.generateSideWallUV(i,r,Ae-6,Ae-3,Ae-2,Ae-1);Ge(nt[0]),Ge(nt[1]),Ge(nt[3]),Ge(nt[1]),Ge(nt[2]),Ge(nt[3])}function Te(he){r.push(u[he*3+0]),r.push(u[he*3+1]),r.push(u[he*3+2])}function Ge(he){s.push(he.x),s.push(he.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return D9(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new mw[r.type]().fromJSON(r)),new md(i,e.options)}}const R9={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],u=e[i*3+1],f=e[r*3],d=e[r*3+1];return[new ve(s,o),new ve(a,u),new ve(f,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],u=e[t*3+2],f=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],g=e[r*3+1],v=e[r*3+2],y=e[s*3],x=e[s*3+1],_=e[s*3+2];return Math.abs(a-d)<Math.abs(o-f)?[new ve(o,1-u),new ve(f,1-h),new ve(p,1-v),new ve(y,1-_)]:[new ve(a,1-u),new ve(d,1-h),new ve(g,1-v),new ve(x,1-_)]}};function D9(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class gd extends Vs{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gd(e.radius,e.detail)}}class Fu extends Vs{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Fu(e.radius,e.detail)}}class vd extends mt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],u=[],f=[],d=[];let h=e;const p=(t-e)/r,g=new z,v=new ve;for(let y=0;y<=r;y++){for(let x=0;x<=i;x++){const _=s+x/i*o;g.x=h*Math.cos(_),g.y=h*Math.sin(_),u.push(g.x,g.y,g.z),f.push(0,0,1),v.x=(g.x/t+1)/2,v.y=(g.y/t+1)/2,d.push(v.x,v.y)}h+=p}for(let y=0;y<r;y++){const x=y*(i+1);for(let _=0;_<i;_++){const S=_+x,M=S,b=S+i+1,A=S+i+2,P=S+1;a.push(M,b,P),a.push(b,A,P)}}this.setIndex(a),this.setAttribute("position",new We(u,3)),this.setAttribute("normal",new We(f,3)),this.setAttribute("uv",new We(d,2))}static fromJSON(e){return new vd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class yd extends mt{constructor(e=new Na([new ve(0,.5),new ve(-.5,-.5),new ve(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,u=0;if(Array.isArray(e)===!1)f(e);else for(let d=0;d<e.length;d++)f(e[d]),this.addGroup(a,u,d),a+=u,u=0;this.setIndex(i),this.setAttribute("position",new We(r,3)),this.setAttribute("normal",new We(s,3)),this.setAttribute("uv",new We(o,2));function f(d){const h=r.length/3,p=d.extractPoints(t);let g=p.shape;const v=p.holes;Qr.isClockWise(g)===!1&&(g=g.reverse());for(let x=0,_=v.length;x<_;x++){const S=v[x];Qr.isClockWise(S)===!0&&(v[x]=S.reverse())}const y=Qr.triangulateShape(g,v);for(let x=0,_=v.length;x<_;x++){const S=v[x];g=g.concat(S)}for(let x=0,_=g.length;x<_;x++){const S=g[x];r.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let x=0,_=y.length;x<_;x++){const S=y[x],M=S[0]+h,b=S[1]+h,A=S[2]+h;i.push(M,b,A),u+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return k9(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new yd(i,e.curveSegments)}}function k9(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Bu extends mt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const u=Math.min(o+a,Math.PI);let f=0;const d=[],h=new z,p=new z,g=[],v=[],y=[],x=[];for(let _=0;_<=i;_++){const S=[],M=_/i;let b=0;_==0&&o==0?b=.5/t:_==i&&u==Math.PI&&(b=-.5/t);for(let A=0;A<=t;A++){const P=A/t;h.x=-e*Math.cos(r+P*s)*Math.sin(o+M*a),h.y=e*Math.cos(o+M*a),h.z=e*Math.sin(r+P*s)*Math.sin(o+M*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),y.push(p.x,p.y,p.z),x.push(P+b,1-M),S.push(f++)}d.push(S)}for(let _=0;_<i;_++)for(let S=0;S<t;S++){const M=d[_][S+1],b=d[_][S],A=d[_+1][S],P=d[_+1][S+1];(_!==0||o>0)&&g.push(M,b,P),(_!==i-1||u<Math.PI)&&g.push(b,A,P)}this.setIndex(g),this.setAttribute("position",new We(v,3)),this.setAttribute("normal",new We(y,3)),this.setAttribute("uv",new We(x,2))}static fromJSON(e){return new Bu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class xd extends Vs{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xd(e.radius,e.detail)}}class _d extends mt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],u=[],f=[],d=new z,h=new z,p=new z;for(let g=0;g<=i;g++)for(let v=0;v<=r;v++){const y=v/r*s,x=g/i*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(y),h.y=(e+t*Math.cos(x))*Math.sin(y),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),d.x=e*Math.cos(y),d.y=e*Math.sin(y),p.subVectors(h,d).normalize(),u.push(p.x,p.y,p.z),f.push(v/r),f.push(g/i)}for(let g=1;g<=i;g++)for(let v=1;v<=r;v++){const y=(r+1)*g+v-1,x=(r+1)*(g-1)+v-1,_=(r+1)*(g-1)+v,S=(r+1)*g+v;o.push(y,x,S),o.push(x,_,S)}this.setIndex(o),this.setAttribute("position",new We(a,3)),this.setAttribute("normal",new We(u,3)),this.setAttribute("uv",new We(f,2))}static fromJSON(e){return new _d(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class wd extends mt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],u=[],f=[],d=[],h=new z,p=new z,g=new z,v=new z,y=new z,x=new z,_=new z;for(let M=0;M<=i;++M){const b=M/i*s*Math.PI*2;S(b,s,o,e,g),S(b+.01,s,o,e,v),x.subVectors(v,g),_.addVectors(v,g),y.crossVectors(x,_),_.crossVectors(y,x),y.normalize(),_.normalize();for(let A=0;A<=r;++A){const P=A/r*Math.PI*2,D=-t*Math.cos(P),E=t*Math.sin(P);h.x=g.x+(D*_.x+E*y.x),h.y=g.y+(D*_.y+E*y.y),h.z=g.z+(D*_.z+E*y.z),u.push(h.x,h.y,h.z),p.subVectors(h,g).normalize(),f.push(p.x,p.y,p.z),d.push(M/i),d.push(A/r)}}for(let M=1;M<=i;M++)for(let b=1;b<=r;b++){const A=(r+1)*(M-1)+(b-1),P=(r+1)*M+(b-1),D=(r+1)*M+b,E=(r+1)*(M-1)+b;a.push(A,P,E),a.push(P,D,E)}this.setIndex(a),this.setAttribute("position",new We(u,3)),this.setAttribute("normal",new We(f,3)),this.setAttribute("uv",new We(d,2));function S(M,b,A,P,D){const E=Math.cos(M),R=Math.sin(M),I=A/b*M,F=Math.cos(I);D.x=P*(2+F)*.5*E,D.y=P*(2+F)*R*.5,D.z=P*Math.sin(I)*.5}}static fromJSON(e){return new wd(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Sd extends mt{constructor(e=new hw(new z(-1,-1,0),new z(-1,1,0),new z(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new z,u=new z,f=new ve;let d=new z;const h=[],p=[],g=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new We(h,3)),this.setAttribute("normal",new We(p,3)),this.setAttribute("uv",new We(g,2));function y(){for(let M=0;M<t;M++)x(M);x(s===!1?t:0),S(),_()}function x(M){d=e.getPointAt(M/t,d);const b=o.normals[M],A=o.binormals[M];for(let P=0;P<=r;P++){const D=P/r*Math.PI*2,E=Math.sin(D),R=-Math.cos(D);u.x=R*b.x+E*A.x,u.y=R*b.y+E*A.y,u.z=R*b.z+E*A.z,u.normalize(),p.push(u.x,u.y,u.z),a.x=d.x+i*u.x,a.y=d.y+i*u.y,a.z=d.z+i*u.z,h.push(a.x,a.y,a.z)}}function _(){for(let M=1;M<=t;M++)for(let b=1;b<=r;b++){const A=(r+1)*(M-1)+(b-1),P=(r+1)*M+(b-1),D=(r+1)*M+b,E=(r+1)*(M-1)+b;v.push(A,P,E),v.push(P,D,E)}}function S(){for(let M=0;M<=t;M++)for(let b=0;b<=r;b++)f.x=M/t,f.y=b/r,g.push(f.x,f.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Sd(new mw[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class aL extends mt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new z,s=new z;if(e.index!==null){const o=e.attributes.position,a=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:a.count,materialIndex:0}]);for(let f=0,d=u.length;f<d;++f){const h=u[f],p=h.start,g=h.count;for(let v=p,y=p+g;v<y;v+=3)for(let x=0;x<3;x++){const _=a.getX(v+x),S=a.getX(v+(x+1)%3);r.fromBufferAttribute(o,_),s.fromBufferAttribute(o,S),Hb(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,u=o.count/3;a<u;a++)for(let f=0;f<3;f++){const d=3*a+f,h=3*a+(f+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),Hb(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new We(t,3))}}}function Hb(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var Wb=Object.freeze({__proto__:null,BoxGeometry:Uo,CapsuleGeometry:fd,CircleGeometry:dd,ConeGeometry:hd,CylinderGeometry:Ka,DodecahedronGeometry:pd,EdgesGeometry:iL,ExtrudeGeometry:md,IcosahedronGeometry:gd,LatheGeometry:Ou,OctahedronGeometry:Fu,PlaneGeometry:Nu,PolyhedronGeometry:Vs,RingGeometry:vd,ShapeGeometry:yd,SphereGeometry:Bu,TetrahedronGeometry:xd,TorusGeometry:_d,TorusKnotGeometry:wd,TubeGeometry:Sd,WireframeGeometry:aL});class lL extends jn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Be(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class uL extends $r{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class gw extends jn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fo,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cL extends gw{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return yn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Be(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class fL extends jn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Be(16777215),this.specular=new Be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fo,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ad,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dL extends jn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Be(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fo,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class hL extends jn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fo,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class pL extends jn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fo,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ad,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mL extends jn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Be(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fo,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gL extends xi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function sr(n,e,t){return vw(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Ea(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function vw(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function vL(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function fx(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let u=0;u!==e;++u)r[o++]=n[a+u]}return r}function yw(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function I9(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let u=0;u<s.tracks.length;++u){const f=s.tracks[u],d=f.getValueSize(),h=[],p=[];for(let g=0;g<f.times.length;++g){const v=f.times[g]*r;if(!(v<t||v>=i)){h.push(f.times[g]);for(let y=0;y<d;++y)p.push(f.values[g*d+y])}}h.length!==0&&(f.times=Ea(h,f.times.constructor),f.values=Ea(p,f.values.constructor),o.push(f))}s.tracks=o;let a=1/0;for(let u=0;u<s.tracks.length;++u)a>s.tracks[u].times[0]&&(a=s.tracks[u].times[0]);for(let u=0;u<s.tracks.length;++u)s.tracks[u].shift(-1*a);return s.resetDuration(),s}function N9(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],u=a.ValueTypeName;if(u==="bool"||u==="string")continue;const f=n.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===u});if(f===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const g=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const _=d,S=h-d;y=sr(a.values,_,S)}else if(s>=a.times[v]){const _=v*h+d,S=_+h-d;y=sr(a.values,_,S)}else{const _=a.createInterpolant(),S=d,M=h-d;_.evaluate(s),y=sr(_.resultBuffer,S,M)}u==="quaternion"&&new si().fromArray(y).normalize().conjugate().toArray(y);const x=f.times.length;for(let _=0;_<x;++_){const S=_*g+p;if(u==="quaternion")si.multiplyQuaternionsFlat(f.values,S,y,0,f.values,S);else{const M=g-p*2;for(let b=0;b<M;++b)f.values[S+b]-=y[b]}}}return n.blendMode=J_,n}var z9=Object.freeze({__proto__:null,arraySlice:sr,convertArray:Ea,flattenJSON:yw,getKeyframeOrder:vL,isTypedArray:vw,makeClipAdditive:N9,sortedArray:fx,subclip:I9});class Md{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let u=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class yL extends Md{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ma,endingEnd:Ma}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],u=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case ba:s=e,a=2*t-i;break;case Of:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(u===void 0)switch(this.getSettings_().endingEnd){case ba:o=e,u=2*i-t;break;case Of:o=1,u=i+r[1]-r[0];break;default:o=e-1,u=t}const f=(i-t)*.5,d=this.valueSize;this._weightPrev=f/(t-a),this._weightNext=f/(u-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,f=u-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,g=this._weightNext,v=(i-t)/(r-t),y=v*v,x=y*v,_=-p*x+2*p*y-p*v,S=(1+p)*x+(-1.5-2*p)*y+(-.5+p)*v+1,M=(-1-g)*x+(1.5+g)*y+.5*v,b=g*x-g*y;for(let A=0;A!==a;++A)s[A]=_*o[d+A]+S*o[f+A]+M*o[u+A]+b*o[h+A];return s}}class xw extends Md{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,f=u-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[f+p]*h+o[u+p]*d;return s}}class xL extends Md{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ir{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ea(t,this.TimeBufferType),this.values=Ea(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ea(e.times,Array),values:Ea(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new xL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new xw(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new yL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Nf:t=this.InterpolantFactoryMethodDiscrete;break;case zf:t=this.InterpolantFactoryMethodLinear;break;case Jp:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Nf;case this.InterpolantFactoryMethodLinear:return zf;case this.InterpolantFactoryMethodSmooth:return Jp}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=sr(i,s,o),this.values=sr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const u=i[a];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,o),e=!1;break}o=u}if(r!==void 0&&vw(r))for(let a=0,u=r.length;a!==u;++a){const f=r[a];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,f),e=!1;break}}return e}optimize(){const e=sr(this.times),t=sr(this.values),i=this.getValueSize(),r=this.getInterpolation()===Jp,s=e.length-1;let o=1;for(let a=1;a<s;++a){let u=!1;const f=e[a],d=e[a+1];if(f!==d&&(a!==1||f!==e[0]))if(r)u=!0;else{const h=a*i,p=h-i,g=h+i;for(let v=0;v!==i;++v){const y=t[h+v];if(y!==t[p+v]||y!==t[g+v]){u=!0;break}}}if(u){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let g=0;g!==i;++g)t[p+g]=t[h+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,u=o*i,f=0;f!==i;++f)t[u+f]=t[a+f];++o}return o!==e.length?(this.times=sr(e,0,o),this.values=sr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=sr(this.times,0),t=sr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ir.prototype.TimeBufferType=Float32Array;Ir.prototype.ValueBufferType=Float32Array;Ir.prototype.DefaultInterpolation=zf;class Qa extends Ir{}Qa.prototype.ValueTypeName="bool";Qa.prototype.ValueBufferType=Array;Qa.prototype.DefaultInterpolation=Nf;Qa.prototype.InterpolantFactoryMethodLinear=void 0;Qa.prototype.InterpolantFactoryMethodSmooth=void 0;class _w extends Ir{}_w.prototype.ValueTypeName="color";class jf extends Ir{}jf.prototype.ValueTypeName="number";class _L extends Md{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=(i-t)/(r-t);let f=e*a;for(let d=f+a;f!==d;f+=4)si.slerpFlat(s,0,o,f-a,o,f,u);return s}}class Uu extends Ir{InterpolantFactoryMethodLinear(e){return new _L(this.times,this.values,this.getValueSize(),e)}}Uu.prototype.ValueTypeName="quaternion";Uu.prototype.DefaultInterpolation=zf;Uu.prototype.InterpolantFactoryMethodSmooth=void 0;class $a extends Ir{}$a.prototype.ValueTypeName="string";$a.prototype.ValueBufferType=Array;$a.prototype.DefaultInterpolation=Nf;$a.prototype.InterpolantFactoryMethodLinear=void 0;$a.prototype.InterpolantFactoryMethodSmooth=void 0;class Xf extends Ir{}Xf.prototype.ValueTypeName="vector";class Yf{constructor(e,t=-1,i,r=mg){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ui(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(F9(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Ir.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let u=[],f=[];u.push((a+s-1)%s,a,(a+1)%s),f.push(0,1,0);const d=vL(u);u=fx(u,1,d),f=fx(f,1,d),!r&&u[0]===0&&(u.push(s),f.push(f[0])),o.push(new jf(".morphTargetInfluences["+t[a].name+"]",u,f).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,u=e.length;a<u;a++){const f=e[a],d=f.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(f)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,g,v,y){if(g.length!==0){const x=[],_=[];yw(g,x,_,v),x.length!==0&&y.push(new h(p,x,_))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let u=e.length||-1;const f=e.hierarchy||[];for(let h=0;h<f.length;h++){const p=f[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let y=0;y<p[v].morphTargets.length;y++)g[p[v].morphTargets[y]]=-1;for(const y in g){const x=[],_=[];for(let S=0;S!==p[v].morphTargets.length;++S){const M=p[v];x.push(M.time),_.push(M.morphTarget===y?1:0)}r.push(new jf(".morphTargetInfluence["+y+"]",x,_))}u=g.length*o}else{const g=".bones["+t[h].name+"]";i(Xf,g+".position",p,"pos",r),i(Uu,g+".quaternion",p,"rot",r),i(Xf,g+".scale",p,"scl",r)}}return r.length===0?null:new this(s,u,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function O9(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jf;case"vector":case"vector2":case"vector3":case"vector4":return Xf;case"color":return _w;case"quaternion":return Uu;case"bool":case"boolean":return Qa;case"string":return $a}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function F9(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=O9(n.type);if(n.times===void 0){const t=[],i=[];yw(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ga={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class ww{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,u;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return u?u(d):d},this.setURLModifier=function(d){return u=d,this},this.addHandler=function(d,h){return f.push(d,h),this},this.removeHandler=function(d){const h=f.indexOf(d);return h!==-1&&f.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=f.length;h<p;h+=2){const g=f[h],v=f[h+1];if(g.global&&(g.lastIndex=0),g.test(d))return v}return null}}}const wL=new ww;class Gi{constructor(e){this.manager=e!==void 0?e:wL,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const gs={};class B9 extends Error{constructor(e,t){super(e),this.response=t}}class Fs extends Gi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ga.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(gs[e]!==void 0){gs[e].push({onLoad:t,onProgress:i,onError:r});return}gs[e]=[],gs[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,u=this.responseType;fetch(o).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const d=gs[e],h=f.body.getReader(),p=f.headers.get("Content-Length")||f.headers.get("X-File-Size"),g=p?parseInt(p):0,v=g!==0;let y=0;const x=new ReadableStream({start(_){S();function S(){h.read().then(({done:M,value:b})=>{if(M)_.close();else{y+=b.byteLength;const A=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:g});for(let P=0,D=d.length;P<D;P++){const E=d[P];E.onProgress&&E.onProgress(A)}_.enqueue(b),S()}})}}});return new Response(x)}else throw new B9(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(u){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return f.json();default:if(a===void 0)return f.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,g=new TextDecoder(p);return f.arrayBuffer().then(v=>g.decode(v))}}}).then(f=>{Ga.add(e,f);const d=gs[e];delete gs[e];for(let h=0,p=d.length;h<p;h++){const g=d[h];g.onLoad&&g.onLoad(f)}}).catch(f=>{const d=gs[e];if(d===void 0)throw this.manager.itemError(e),f;delete gs[e];for(let h=0,p=d.length;h<p;h++){const g=d[h];g.onError&&g.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class U9 extends Gi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Fs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Yf.parse(e[i]);t.push(r)}return t}}class V9 extends Gi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new uw,u=new Fs(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(s.withCredentials);let f=0;function d(h){u.load(e[h],function(p){const g=s.parse(p,!0);o[h]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},f+=1,f===6&&(g.mipmapCount===1&&(a.minFilter=vn),a.image=o,a.format=g.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else u.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let v=0;v<g;v++){o[v]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+y]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=vn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class qf extends Gi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ga.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Uf("img");function u(){d(),Ga.add(e,this),t&&t(this),s.manager.itemEnd(e)}function f(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",u,!1),a.removeEventListener("error",f,!1)}return a.addEventListener("load",u,!1),a.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class H9 extends Gi{constructor(e){super(e)}load(e,t,i,r){const s=new cd,o=new qf(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function u(f){o.load(e[f],function(d){s.images[f]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let f=0;f<e.length;++f)u(f);return s}}class W9 extends Gi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new fu,a=new Fs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(u){const f=s.parse(u);f&&(f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:ii,o.wrapT=f.wrapT!==void 0?f.wrapT:ii,o.magFilter=f.magFilter!==void 0?f.magFilter:vn,o.minFilter=f.minFilter!==void 0?f.minFilter:vn,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.encoding!==void 0&&(o.encoding=f.encoding),f.flipY!==void 0&&(o.flipY=f.flipY),f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=Lo),f.mipmapCount===1&&(o.minFilter=vn),f.generateMipmaps!==void 0&&(o.generateMipmaps=f.generateMipmaps),o.needsUpdate=!0,t&&t(o,f))},i,r),o}}class G9 extends Gi{constructor(e){super(e)}load(e,t,i,r){const s=new fn,o=new qf(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Vo extends Dt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Be(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class SL extends Vo{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Dt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Be(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Jv=new ut,Gb=new z,jb=new z;class Sw{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ve(512,512),this.map=null,this.mapPass=null,this.matrix=new ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new vg,this._frameExtents=new ve(1,1),this._viewportCount=1,this._viewports=[new Nt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;Gb.setFromMatrixPosition(e.matrixWorld),t.position.copy(Gb),jb.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(jb),t.updateMatrixWorld(),Jv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Jv),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Jv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class j9 extends Sw{constructor(){super(new xn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Bf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class ML extends Vo{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Dt.DEFAULT_UP),this.updateMatrix(),this.target=new Dt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new j9}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Xb=new ut,Ac=new z,Kv=new z;class X9 extends Sw{constructor(){super(new xn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ve(4,2),this._viewportCount=6,this._viewports=[new Nt(2,1,1,1),new Nt(0,1,1,1),new Nt(3,1,1,1),new Nt(1,1,1,1),new Nt(3,0,1,1),new Nt(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Ac.setFromMatrixPosition(e.matrixWorld),i.position.copy(Ac),Kv.copy(i.position),Kv.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Kv),i.updateMatrixWorld(),r.makeTranslation(-Ac.x,-Ac.y,-Ac.z),Xb.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Xb)}}class bL extends Vo{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new X9}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Y9 extends Sw{constructor(){super(new Mo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class TL extends Vo{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Dt.DEFAULT_UP),this.updateMatrix(),this.target=new Dt,this.shadow=new Y9}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class EL extends Vo{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class AL extends Vo{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class CL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class Eg extends Vo{constructor(e=new CL,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Ag extends Gi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Fs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Ag.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Be().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Be().setHex(o.value);break;case"v2":r.uniforms[s].value=new ve().fromArray(o.value);break;case"v3":r.uniforms[s].value=new z().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Nt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new mi().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ut().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ve().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:lL,SpriteMaterial:ow,RawShaderMaterial:uL,ShaderMaterial:$r,PointsMaterial:lw,MeshPhysicalMaterial:cL,MeshStandardMaterial:gw,MeshPhongMaterial:fL,MeshToonMaterial:dL,MeshNormalMaterial:hL,MeshLambertMaterial:pL,MeshDepthMaterial:iw,MeshDistanceMaterial:rw,MeshBasicMaterial:Bo,MeshMatcapMaterial:mL,LineDashedMaterial:gL,LineBasicMaterial:xi,Material:jn};return new t[e]}}class dx{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class PL extends mt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class LL extends Gi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Fs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(g,v){if(t[v]!==void 0)return t[v];const x=g.interleavedBuffers[v],_=s(g,x.buffer),S=eu(x.type,_),M=new wg(S,x.stride);return M.uuid=x.uuid,t[v]=M,M}function s(g,v){if(i[v]!==void 0)return i[v];const x=g.arrayBuffers[v],_=new Uint32Array(x).buffer;return i[v]=_,_}const o=e.isInstancedBufferGeometry?new PL:new mt,a=e.data.index;if(a!==void 0){const g=eu(a.type,a.array);o.setIndex(new Vt(g,1))}const u=e.data.attributes;for(const g in u){const v=u[g];let y;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);y=new Ha(x,v.itemSize,v.offset,v.normalized)}else{const x=eu(v.type,v.array),_=v.isInstancedBufferAttribute?Tu:Vt;y=new _(x,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),o.setAttribute(g,y)}const f=e.data.morphAttributes;if(f)for(const g in f){const v=f[g],y=[];for(let x=0,_=v.length;x<_;x++){const S=v[x];let M;if(S.isInterleavedBufferAttribute){const b=r(e.data,S.data);M=new Ha(b,S.itemSize,S.offset,S.normalized)}else{const b=eu(S.type,S.array);M=new Vt(b,S.itemSize,S.normalized)}S.name!==void 0&&(M.name=S.name),y.push(M)}o.morphAttributes[g]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let g=0,v=h.length;g!==v;++g){const y=h[g];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const g=new z;p.center!==void 0&&g.fromArray(p.center),o.boundingSphere=new Ja(g,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class q9 extends Gi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?dx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Fs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){let f=null;try{f=JSON.parse(u)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=f.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?dx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Fs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),u=a.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(f)}),a=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,s,u,a,i),d=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,r,a,o,t),f=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,f),u}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Na().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Sg().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new LL;for(let s=0,o=e.length;s<o;s++){let a;const u=e[s];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(u);break;default:u.type in Wb?a=Wb[u.type].fromJSON(u,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}a.uuid=u.uuid,u.name!==void 0&&(a.name=u.name),a.isBufferGeometry===!0&&u.userData!==void 0&&(a.userData=u.userData),i[u.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Ag;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const u=e[o];i[u.uuid]===void 0&&(i[u.uuid]=s.parse(u)),r[u.uuid]=i[u.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Yf.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(u){return i.manager.itemStart(u),s.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function a(u){if(typeof u=="string"){const f=u,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return o(d)}else return u.data?{data:eu(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new ww(t);s=new qf(u),s.setCrossOrigin(this.crossOrigin);for(let f=0,d=e.length;f<d;f++){const h=e[f],p=h.url;if(Array.isArray(p)){const g=[];for(let v=0,y=p.length;v<y;v++){const x=p[v],_=a(x);_!==null&&(_ instanceof HTMLImageElement?g.push(_):g.push(new fu(_.data,_.width,_.height)))}r[h.uuid]=new Ta(g)}else{const g=a(h.url);r[h.uuid]=new Ta(g)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(u)}else return o.data?{data:eu(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new qf(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const u=e[o],f=u.url;if(Array.isArray(f)){const d=[];for(let h=0,p=f.length;h<p;h++){const g=f[h],v=await s(g);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new fu(v.data,v.width,v.height)))}i[u.uuid]=new Ta(d)}else{const d=await s(u.url);i[u.uuid]=new Ta(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const u=t[a.image],f=u.data;let d;Array.isArray(f)?(d=new cd,f.length===6&&(d.needsUpdate=!0)):(f&&f.data?d=new fu:d=new fn,f&&(d.needsUpdate=!0)),d.source=u,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,Z9)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],Yb),d.wrapT=i(a.wrap[1],Yb)),a.format!==void 0&&(d.format=a.format),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,qb)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,qb)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function u(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let v=0,y=p.length;v<y;v++){const x=p[v];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),g.push(i[x])}return g}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function f(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new Fm,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Be(e.background):o.background=f(e.background)),e.environment!==void 0&&(o.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new _g(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new xg(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new xn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Mo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new EL(e.color,e.intensity);break;case"DirectionalLight":o=new TL(e.color,e.intensity);break;case"PointLight":o=new bL(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new AL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new ML(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new SL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Eg().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=u(e.material),o=new q4(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=u(e.material),o=new Hn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=u(e.material);const p=e.count,g=e.instanceMatrix,v=e.instanceColor;o=new Z4(d,h,p),o.instanceMatrix=new Tu(new Float32Array(g.array),16),v!==void 0&&(o.instanceColor=new Tu(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new Y4;break;case"Line":o=new Do(a(e.geometry),u(e.material));break;case"LineLoop":o=new J4(a(e.geometry),u(e.material));break;case"LineSegments":o=new es(a(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new K4(a(e.geometry),u(e.material));break;case"Sprite":o=new X4(u(e.material));break;case"Group":o=new nu;break;case"Bone":o=new aw;break;default:o=new Dt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)o.add(this.parseObject(p[g],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const v=p[g];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const v=p[g],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const Z9={UVMapping:pg,CubeReflectionMapping:Co,CubeRefractionMapping:Po,EquirectangularReflectionMapping:Rf,EquirectangularRefractionMapping:Df,CubeUVReflectionMapping:ku},Yb={RepeatWrapping:kf,ClampToEdgeWrapping:ii,MirroredRepeatWrapping:If},qb={NearestFilter:mn,NearestMipmapNearestFilter:Nm,NearestMipmapLinearFilter:Qc,LinearFilter:vn,LinearMipmapNearestFilter:q_,LinearMipmapLinearFilter:Lo};class J9 extends Gi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ga.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){Ga.add(e,u),t&&t(u),s.manager.itemEnd(e)}).catch(function(u){r&&r(u),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let xp;class Mw{static getContext(){return xp===void 0&&(xp=new(window.AudioContext||window.webkitAudioContext)),xp}static setContext(e){xp=e}}class K9 extends Gi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Fs(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const u=a.slice(0);Mw.getContext().decodeAudioData(u,function(d){t(d)})}catch(u){r?r(u):console.error(u),s.manager.itemError(e)}},i,r)}}class Q9 extends Eg{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Be().set(e),s=new Be().set(t),o=new z(r.r,r.g,r.b),a=new z(s.r,s.g,s.b),u=Math.sqrt(Math.PI),f=u*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(u),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(f)}}class $9 extends Eg{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Be().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const Zb=new ut,Jb=new ut,ra=new ut;class eH{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ra.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Da*t.fov*.5)/t.zoom;let a,u;Jb.elements[12]=-r,Zb.elements[12]=r,a=-o*t.aspect+s,u=o*t.aspect+s,ra.elements[0]=2*t.near/(u-a),ra.elements[8]=(u+a)/(u-a),this.cameraL.projectionMatrix.copy(ra),a=-o*t.aspect-s,u=o*t.aspect-s,ra.elements[0]=2*t.near/(u-a),ra.elements[8]=(u+a)/(u-a),this.cameraR.projectionMatrix.copy(ra)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Jb),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Zb)}}class bw{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Kb(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Kb();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Kb(){return(typeof performance>"u"?Date:performance).now()}const sa=new z,Qb=new si,tH=new z,oa=new z;class nH extends Dt{constructor(){super(),this.type="AudioListener",this.context=Mw.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new bw}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(sa,Qb,tH),oa.set(0,0,-1).applyQuaternion(Qb),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(sa.x,r),t.positionY.linearRampToValueAtTime(sa.y,r),t.positionZ.linearRampToValueAtTime(sa.z,r),t.forwardX.linearRampToValueAtTime(oa.x,r),t.forwardY.linearRampToValueAtTime(oa.y,r),t.forwardZ.linearRampToValueAtTime(oa.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(sa.x,sa.y,sa.z),t.setOrientation(oa.x,oa.y,oa.z,i.x,i.y,i.z)}}class RL extends Dt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const aa=new z,$b=new si,iH=new z,la=new z;class rH extends RL{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(aa,$b,iH),la.set(0,0,1).applyQuaternion($b);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(aa.x,i),t.positionY.linearRampToValueAtTime(aa.y,i),t.positionZ.linearRampToValueAtTime(aa.z,i),t.orientationX.linearRampToValueAtTime(la.x,i),t.orientationY.linearRampToValueAtTime(la.y,i),t.orientationZ.linearRampToValueAtTime(la.z,i)}else t.setPosition(aa.x,aa.y,aa.z),t.setOrientation(la.x,la.y,la.z)}}class sH{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class DL{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const u=t*this._origIndex;this._mixBufferRegion(i,r,u,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let u=t,f=t+t;u!==f;++u)if(i[u]!==i[u+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){si.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;si.multiplyQuaternionsFlat(e,o,e,t,e,i),si.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const u=t+a;e[u]=e[u]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const Tw="\\[\\]\\.:\\/",oH=new RegExp("["+Tw+"]","g"),Ew="[^"+Tw+"]",aH="[^"+Tw.replace("\\.","")+"]",lH=/((?:WC+[\/:])*)/.source.replace("WC",Ew),uH=/(WCOD+)?/.source.replace("WCOD",aH),cH=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Ew),fH=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Ew),dH=new RegExp("^"+lH+uH+cH+fH+"$"),hH=["material","materials","bones","map"];class pH{constructor(e,t,i){const r=i||At.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class At{constructor(e,t,i){this.path=t,this.parsedPath=i||At.parseTrackName(t),this.node=At.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new At.Composite(e,t,i):new At(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(oH,"")}static parseTrackName(e){const t=dH.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);hH.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const u=i(a.children);if(u)return u}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=At.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===f){f=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const o=e[r];if(o===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}At.Composite=pH;At.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};At.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};At.prototype.GetterByBindingType=[At.prototype._getValue_direct,At.prototype._getValue_array,At.prototype._getValue_arrayElement,At.prototype._getValue_toArray];At.prototype.SetterByBindingTypeAndVersioning=[[At.prototype._setValue_direct,At.prototype._setValue_direct_setNeedsUpdate,At.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[At.prototype._setValue_array,At.prototype._setValue_array_setNeedsUpdate,At.prototype._setValue_array_setMatrixWorldNeedsUpdate],[At.prototype._setValue_arrayElement,At.prototype._setValue_arrayElement_setNeedsUpdate,At.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[At.prototype._setValue_fromArray,At.prototype._setValue_fromArray_setNeedsUpdate,At.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class mH{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ui(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,u=e.length,f=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],g=p.uuid;let v=t[g];if(v===void 0){v=u++,t[g]=v,e.push(p);for(let y=0,x=o;y!==x;++y)s[y].push(new At(p,i[y],r[y]))}else if(v<f){a=e[v];const y=--f,x=e[y];t[x.uuid]=v,e[v]=x,t[g]=y,e[y]=p;for(let _=0,S=o;_!==S;++_){const M=s[_],b=M[y];let A=M[v];M[v]=b,A===void 0&&(A=new At(p,i[_],r[_])),M[y]=A}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const u=arguments[o],f=u.uuid,d=t[f];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[f]=h,e[h]=u;for(let g=0,v=r;g!==v;++g){const y=i[g],x=y[h],_=y[d];y[d]=x,y[h]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,u=arguments.length;a!==u;++a){const f=arguments[a],d=f.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,g=e[p],v=--o,y=e[v];t[g.uuid]=h,e[h]=g,t[y.uuid]=p,e[p]=y,e.pop();for(let x=0,_=r;x!==_;++x){const S=i[x],M=S[p],b=S[v];S[h]=M,S[p]=b,S.pop()}}else{const p=--o,g=e[p];p>0&&(t[g.uuid]=h),e[h]=g,e.pop();for(let v=0,y=r;v!==y;++v){const x=i[v];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,u=this._objects,f=u.length,d=this.nCachedObjects_,h=new Array(f);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,g=u.length;p!==g;++p){const v=u[p];h[p]=new At(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,u=o[a],f=e[a];t[f]=i,o[i]=u,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class gH{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),u={endingStart:Ma,endingEnd:Ma};for(let f=0;f!==o;++f){const d=s[f].createInterpolant(null);a[f]=d,d.settings=u}this._interpolantSettings=u,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=M4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const u=a.parameterPositions,f=a.sampleValues;return u[0]=s,u[1]=s+i,f[0]=e/o,f[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const u=(e-s)*i;u<0||i===0?t=0:(this._startTime=null,t=i*u)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const u=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case J_:for(let d=0,h=u.length;d!==h;++d)u[d].evaluate(o),f[d].accumulateAdditive(a);break;case mg:default:for(let d=0,h=u.length;d!==h;++d)u[d].evaluate(o),f[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===b4;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===S4){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const u=this.repetitions-s;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const f=e<0;this._setEndings(f,!f,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=ba,r.endingEnd=ba):(e?r.endingStart=this.zeroSlopeAtStart?ba:Ma:r.endingStart=Of,t?r.endingEnd=this.zeroSlopeAtEnd?ba:Ma:r.endingEnd=Of)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,u=o.sampleValues;return a[0]=s,u[0]=t,a[1]=s+e,u[1]=i,this}}const vH=new Float32Array(1);class yH extends Us{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,u=i.uuid,f=this._bindingsByRootAndName;let d=f[u];d===void 0&&(d={},f[u]=d);for(let h=0;h!==s;++h){const p=r[h],g=p.name;let v=d[g];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,u,g));continue}const y=t&&t._propertyBindings[h].binding.parsedPath;v=new DL(At.create(i,g,y),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,u,g),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],u=a.knownActions,f=u[u.length-1],d=e._byClipCacheIndex;f._byClipCacheIndex=d,u[d]=f,u.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],u.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],u=t[t.length-1],f=e._cacheIndex;u._cacheIndex=f,t[f]=u,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new xw(new Float32Array(2),new Float32Array(2),1,vH),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Yf.findByName(r,e):e;const a=o!==null?o.uuid:e,u=this._actionsByClip[a];let f=null;if(i===void 0&&(o!==null?i=o.blendMode:i=mg),u!==void 0){const h=u.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;f=u.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const d=new gH(this,o,t,i);return this._bindAction(d,f),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Yf.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,s,o);const a=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)a[f].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,u=o.length;a!==u;++a){const f=o[a];this._deactivateAction(f);const d=f._cacheIndex,h=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,u=a[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Aw{constructor(e){this.value=e}clone(){return new Aw(this.value.clone===void 0?this.value:this.value.clone())}}let xH=0;class _H extends Us{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:xH++}),this.name="",this.usage=Ff,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class wH extends wg{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class SH{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class kL{constructor(e,t,i=0,r=1/0){this.ray=new Iu(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Ia,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return hx(e,this,i,t),i.sort(eT),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)hx(e[r],this,i,t);return i.sort(eT),i}}function eT(n,e){return n.distance-e.distance}function hx(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)hx(r[s],e,t,!0)}}class px{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(yn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class MH{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const tT=new ve;class bH{constructor(e=new ve(1/0,1/0),t=new ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=tT.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return tT.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const nT=new z,_p=new z;class TH{constructor(e=new z,t=new z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){nT.subVectors(e,this.start),_p.subVectors(this.end,this.start);const i=_p.dot(_p);let s=_p.dot(nT)/i;return t&&(s=yn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const iT=new z;class EH extends Dt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new mt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,u=32;o<u;o++,a++){const f=o/u*Math.PI*2,d=a/u*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new We(r,3));const s=new xi({fog:!1,toneMapped:!1});this.cone=new es(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),iT.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iT),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const no=new z,wp=new ut,Qv=new ut;class AH extends es{constructor(e){const t=IL(e),i=new mt,r=[],s=[],o=new Be(0,0,1),a=new Be(0,1,0);for(let f=0;f<t.length;f++){const d=t[f];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new We(r,3)),i.setAttribute("color",new We(s,3));const u=new xi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Qv.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(wp.multiplyMatrices(Qv,a.matrixWorld),no.setFromMatrixPosition(wp),r.setXYZ(o,no.x,no.y,no.z),wp.multiplyMatrices(Qv,a.parent.matrixWorld),no.setFromMatrixPosition(wp),r.setXYZ(o+1,no.x,no.y,no.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function IL(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,IL(n.children[t]));return e}class CH extends Hn{constructor(e,t,i){const r=new Bu(t,4,2),s=new Bo({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const PH=new z,rT=new Be,sT=new Be;class LH extends Dt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Fu(t);r.rotateY(Math.PI*.5),this.material=new Bo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Vt(o,3)),this.add(new Hn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");rT.copy(this.light.color),sT.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?rT:sT;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(PH.setFromMatrixPosition(this.light.matrixWorld).negate())}}class RH extends es{constructor(e=10,t=10,i=4473924,r=8947848){i=new Be(i),r=new Be(r);const s=t/2,o=e/t,a=e/2,u=[],f=[];for(let p=0,g=0,v=-a;p<=t;p++,v+=o){u.push(-a,0,v,a,0,v),u.push(v,0,-a,v,0,a);const y=p===s?i:r;y.toArray(f,g),g+=3,y.toArray(f,g),g+=3,y.toArray(f,g),g+=3,y.toArray(f,g),g+=3}const d=new mt;d.setAttribute("position",new We(u,3)),d.setAttribute("color",new We(f,3));const h=new xi({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class DH extends es{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Be(s),o=new Be(o);const a=[],u=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),g=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(g,0,v);const y=h&1?s:o;u.push(y.r,y.g,y.b),u.push(y.r,y.g,y.b)}for(let h=0;h<i;h++){const p=h&1?s:o,g=e-e/i*h;for(let v=0;v<r;v++){let y=v/r*(Math.PI*2),x=Math.sin(y)*g,_=Math.cos(y)*g;a.push(x,0,_),u.push(p.r,p.g,p.b),y=(v+1)/r*(Math.PI*2),x=Math.sin(y)*g,_=Math.cos(y)*g,a.push(x,0,_),u.push(p.r,p.g,p.b)}}const f=new mt;f.setAttribute("position",new We(a,3)),f.setAttribute("color",new We(u,3));const d=new xi({vertexColors:!0,toneMapped:!1});super(f,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const oT=new z,Sp=new z,aT=new z;class kH extends Dt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new mt;r.setAttribute("position",new We([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new xi({fog:!1,toneMapped:!1});this.lightPlane=new Do(r,s),this.add(this.lightPlane),r=new mt,r.setAttribute("position",new We([0,0,0,0,0,1],3)),this.targetLine=new Do(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),oT.setFromMatrixPosition(this.light.matrixWorld),Sp.setFromMatrixPosition(this.light.target.matrixWorld),aT.subVectors(Sp,oT),this.lightPlane.lookAt(Sp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Sp),this.targetLine.scale.z=aT.length()}}const Mp=new z,an=new ud;class IH extends es{constructor(e){const t=new mt,i=new xi({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){u(v),u(y)}function u(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new We(r,3)),t.setAttribute("color",new We(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const f=new Be(16755200),d=new Be(16711680),h=new Be(43775),p=new Be(16777215),g=new Be(3355443);this.setColors(f,d,h,p,g)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;an.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),hn("c",t,e,an,0,0,-1),hn("t",t,e,an,0,0,1),hn("n1",t,e,an,-i,-r,-1),hn("n2",t,e,an,i,-r,-1),hn("n3",t,e,an,-i,r,-1),hn("n4",t,e,an,i,r,-1),hn("f1",t,e,an,-i,-r,1),hn("f2",t,e,an,i,-r,1),hn("f3",t,e,an,-i,r,1),hn("f4",t,e,an,i,r,1),hn("u1",t,e,an,i*.7,r*1.1,-1),hn("u2",t,e,an,-i*.7,r*1.1,-1),hn("u3",t,e,an,0,r*2,-1),hn("cf1",t,e,an,-i,0,1),hn("cf2",t,e,an,i,0,1),hn("cf3",t,e,an,0,-r,1),hn("cf4",t,e,an,0,r,1),hn("cn1",t,e,an,-i,0,-1),hn("cn2",t,e,an,i,0,-1),hn("cn3",t,e,an,0,-r,-1),hn("cn4",t,e,an,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function hn(n,e,t,i,r,s,o){Mp.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const u=t.getAttribute("position");for(let f=0,d=a.length;f<d;f++)u.setXYZ(a[f],Mp.x,Mp.y,Mp.z)}}const bp=new Za;class NH extends es{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new mt;s.setIndex(new Vt(i,1)),s.setAttribute("position",new Vt(r,3)),super(s,new xi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&bp.setFromObject(this.object),bp.isEmpty())return;const t=bp.min,i=bp.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class zH extends es{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new mt;s.setIndex(new Vt(i,1)),s.setAttribute("position",new We(r,3)),super(s,new xi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class OH extends Do{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new mt;o.setAttribute("position",new We(s,3)),o.computeBoundingSphere(),super(o,new xi({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new mt;u.setAttribute("position",new We(a,3)),u.computeBoundingSphere(),this.add(new Hn(u,new Bo({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const lT=new z;let Tp,$v;class FH extends Dt{constructor(e=new z(0,0,1),t=new z(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Tp===void 0&&(Tp=new mt,Tp.setAttribute("position",new We([0,0,0,0,1,0],3)),$v=new Ka(0,.5,1,5,1),$v.translate(0,-.5,0)),this.position.copy(t),this.line=new Do(Tp,new xi({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Hn($v,new Bo({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{lT.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(lT,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class BH extends es{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new mt;r.setAttribute("position",new We(t,3)),r.setAttribute("color",new We(i,3));const s=new xi({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Be,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UH{constructor(){this.type="ShapePath",this.color=new Be,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Vf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const S=[];for(let M=0,b=_.length;M<b;M++){const A=_[M],P=new Na;P.curves=A.curves,S.push(P)}return S}function i(_,S){const M=S.length;let b=!1;for(let A=M-1,P=0;P<M;A=P++){let D=S[A],E=S[P],R=E.x-D.x,I=E.y-D.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(D=S[P],R=-R,E=S[A],I=-I),_.y<D.y||_.y>E.y)continue;if(_.y===D.y){if(_.x===D.x)return!0}else{const F=I*(_.x-D.x)-R*(_.y-D.y);if(F===0)return!0;if(F<0)continue;b=!b}}else{if(_.y!==D.y)continue;if(E.x<=_.x&&_.x<=D.x||D.x<=_.x&&_.x<=E.x)return!0}}return b}const r=Qr.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,u;const f=[];if(s.length===1)return a=s[0],u=new Na,u.curves=a.curves,f.push(u),f;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let g=[],v=0,y;p[v]=void 0,g[v]=[];for(let _=0,S=s.length;_<S;_++)a=s[_],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!d&&p[v]&&v++,p[v]={s:new Na,p:y},p[v].s.curves=a.curves,d&&v++,g[v]=[]):g[v].push({h:a,p:y[0]});if(!p[0])return t(s);if(p.length>1){let _=!1,S=0;for(let M=0,b=p.length;M<b;M++)h[M]=[];for(let M=0,b=p.length;M<b;M++){const A=g[M];for(let P=0;P<A.length;P++){const D=A[P];let E=!0;for(let R=0;R<p.length;R++)i(D.p,p[R].p)&&(M!==R&&S++,E?(E=!1,h[R].push(D)):_=!0);E&&h[M].push(D)}}S>0&&_===!1&&(g=h)}let x;for(let _=0,S=p.length;_<S;_++){u=p[_].s,f.push(u),x=g[_];for(let M=0,b=x.length;M<b;M++)u.holes.push(x[M].h)}return f}}const Ms=VH();function VH(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const f=u-127;f<-27?(i[u]=0,i[u|256]=32768,r[u]=24,r[u|256]=24):f<-14?(i[u]=1024>>-f-14,i[u|256]=1024>>-f-14|32768,r[u]=-f-1,r[u|256]=-f-1):f<=15?(i[u]=f+15<<10,i[u|256]=f+15<<10|32768,r[u]=13,r[u|256]=13):f<128?(i[u]=31744,i[u|256]=64512,r[u]=24,r[u|256]=24):(i[u]=31744,i[u|256]=64512,r[u]=13,r[u|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let u=1;u<1024;++u){let f=u<<13,d=0;for(;!(f&8388608);)f<<=1,d-=8388608;f&=-8388609,d+=947912704,s[u]=f|d}for(let u=1024;u<2048;++u)s[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(a[u]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function HH(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=yn(n,-65504,65504),Ms.floatView[0]=n;const e=Ms.uint32View[0],t=e>>23&511;return Ms.baseTable[t]+((e&8388607)>>Ms.shiftTable[t])}function WH(n){const e=n>>10;return Ms.uint32View[0]=Ms.mantissaTable[Ms.offsetTable[e]+(n&1023)]+Ms.exponentTable[e],Ms.floatView[0]}var GH=Object.freeze({__proto__:null,fromHalfFloat:WH,toHalfFloat:HH});class jH extends Uo{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class XH extends fd{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class YH extends dd{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class qH extends hd{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class ZH extends Ka{constructor(e,t,i,r,s,o,a,u){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,u)}}class JH extends pd{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class KH extends md{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class QH extends gd{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class $H extends Ou{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class eW extends Fu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class tW extends Nu{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class nW extends Vs{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class iW extends vd{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class rW extends yd{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class sW extends Bu{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class oW extends xd{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class aW extends _d{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class lW extends wd{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class uW extends Sd{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:dg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=dg);const cW=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Y_,AddEquation:ma,AddOperation:n4,AdditiveAnimationBlendMode:J_,AdditiveBlending:L1,AlphaFormat:d4,AlwaysDepth:ZP,AlwaysStencilFunc:C4,AmbientLight:EL,AmbientLightProbe:$9,AnimationClip:Yf,AnimationLoader:U9,AnimationMixer:yH,AnimationObjectGroup:mH,AnimationUtils:z9,ArcCurve:Q4,ArrayCamera:H4,ArrowHelper:FH,Audio:RL,AudioAnalyser:sH,AudioContext:Mw,AudioListener:nH,AudioLoader:K9,AxesHelper:BH,BackSide:Li,BasicDepthPacking:T4,BasicShadowMap:NP,Bone:aw,BooleanKeyframeTrack:Qa,Box2:bH,Box3:Za,Box3Helper:zH,BoxBufferGeometry:jH,BoxGeometry:Uo,BoxHelper:NH,BufferAttribute:Vt,BufferGeometry:mt,BufferGeometryLoader:LL,ByteType:a4,Cache:Ga,Camera:ud,CameraHelper:IH,CanvasTexture:o9,CapsuleBufferGeometry:XH,CapsuleGeometry:fd,CatmullRomCurve3:$4,CineonToneMapping:s4,CircleBufferGeometry:YH,CircleGeometry:dd,ClampToEdgeWrapping:ii,Clock:bw,Color:Be,ColorKeyframeTrack:_w,ColorManagement:ei,CompressedArrayTexture:s9,CompressedTexture:uw,CompressedTextureLoader:V9,ConeBufferGeometry:qH,ConeGeometry:hd,CubeCamera:I4,CubeReflectionMapping:Co,CubeRefractionMapping:Po,CubeTexture:cd,CubeTextureLoader:H9,CubeUVReflectionMapping:ku,CubicBezierCurve:fw,CubicBezierCurve3:eL,CubicInterpolant:yL,CullFaceBack:P1,CullFaceFront:IP,CullFaceFrontBack:aO,CullFaceNone:kP,Curve:kr,CurvePath:nL,CustomBlending:zP,CustomToneMapping:o4,CylinderBufferGeometry:ZH,CylinderGeometry:Ka,Cylindrical:MH,Data3DTexture:$_,DataArrayTexture:gg,DataTexture:fu,DataTextureLoader:W9,DataUtils:GH,DecrementStencilOp:_O,DecrementWrapStencilOp:SO,DefaultLoadingManager:wL,DepthFormat:So,DepthStencilFormat:Va,DepthTexture:W4,DirectionalLight:TL,DirectionalLightHelper:kH,DiscreteInterpolant:xL,DodecahedronBufferGeometry:JH,DodecahedronGeometry:pd,DoubleSide:Es,DstAlphaFactor:WP,DstColorFactor:jP,DynamicCopyUsage:OO,DynamicDrawUsage:RO,DynamicReadUsage:IO,EdgesGeometry:iL,EllipseCurve:Mg,EqualDepth:KP,EqualStencilFunc:EO,EquirectangularReflectionMapping:Rf,EquirectangularRefractionMapping:Df,Euler:ld,EventDispatcher:Us,ExtrudeBufferGeometry:KH,ExtrudeGeometry:md,FileLoader:Fs,Float16BufferAttribute:yF,Float32BufferAttribute:We,Float64BufferAttribute:xF,FloatType:As,Fog:_g,FogExp2:xg,FramebufferTexture:r9,FrontSide:zs,Frustum:vg,GLBufferAttribute:SH,GLSL1:BO,GLSL3:rx,GreaterDepth:$P,GreaterEqualDepth:QP,GreaterEqualStencilFunc:LO,GreaterStencilFunc:CO,GridHelper:RH,Group:nu,HalfFloatType:Su,HemisphereLight:SL,HemisphereLightHelper:LH,HemisphereLightProbe:Q9,IcosahedronBufferGeometry:QH,IcosahedronGeometry:gd,ImageBitmapLoader:J9,ImageLoader:qf,ImageUtils:Q_,IncrementStencilOp:xO,IncrementWrapStencilOp:wO,InstancedBufferAttribute:Tu,InstancedBufferGeometry:PL,InstancedInterleavedBuffer:wH,InstancedMesh:Z4,Int16BufferAttribute:gF,Int32BufferAttribute:vF,Int8BufferAttribute:hF,IntType:u4,InterleavedBuffer:wg,InterleavedBufferAttribute:Ha,Interpolant:Md,InterpolateDiscrete:Nf,InterpolateLinear:zf,InterpolateSmooth:Jp,InvertStencilOp:MO,KeepStencilOp:Kp,KeyframeTrack:Ir,LOD:Y4,LatheBufferGeometry:$H,LatheGeometry:Ou,Layers:Ia,LessDepth:JP,LessEqualDepth:Im,LessEqualStencilFunc:AO,LessStencilFunc:TO,Light:Vo,LightProbe:Eg,Line:Do,Line3:TH,LineBasicMaterial:xi,LineCurve:bg,LineCurve3:tL,LineDashedMaterial:gL,LineLoop:J4,LineSegments:es,LinearEncoding:Ro,LinearFilter:vn,LinearInterpolant:xw,LinearMipMapLinearFilter:dO,LinearMipMapNearestFilter:fO,LinearMipmapLinearFilter:Lo,LinearMipmapNearestFilter:q_,LinearSRGBColorSpace:Mu,LinearToneMapping:i4,Loader:Gi,LoaderUtils:dx,LoadingManager:ww,LoopOnce:S4,LoopPingPong:b4,LoopRepeat:M4,LuminanceAlphaFormat:p4,LuminanceFormat:h4,MOUSE:da,Material:jn,MaterialLoader:Ag,MathUtils:$O,Matrix3:mi,Matrix4:ut,MaxEquation:I1,Mesh:Hn,MeshBasicMaterial:Bo,MeshDepthMaterial:iw,MeshDistanceMaterial:rw,MeshLambertMaterial:pL,MeshMatcapMaterial:mL,MeshNormalMaterial:hL,MeshPhongMaterial:fL,MeshPhysicalMaterial:cL,MeshStandardMaterial:gw,MeshToonMaterial:dL,MinEquation:k1,MirroredRepeatWrapping:If,MixOperation:t4,MultiplyBlending:D1,MultiplyOperation:ad,NearestFilter:mn,NearestMipMapLinearFilter:cO,NearestMipMapNearestFilter:uO,NearestMipmapLinearFilter:Qc,NearestMipmapNearestFilter:Nm,NeverDepth:qP,NeverStencilFunc:bO,NoBlending:Ls,NoColorSpace:gO,NoToneMapping:Lr,NormalAnimationBlendMode:mg,NormalBlending:La,NotEqualDepth:e4,NotEqualStencilFunc:PO,NumberKeyframeTrack:jf,Object3D:Dt,ObjectLoader:q9,ObjectSpaceNormalMap:A4,OctahedronBufferGeometry:eW,OctahedronGeometry:Fu,OneFactor:UP,OneMinusDstAlphaFactor:GP,OneMinusDstColorFactor:XP,OneMinusSrcAlphaFactor:X_,OneMinusSrcColorFactor:HP,OrthographicCamera:Mo,PCFShadowMap:hg,PCFSoftShadowMap:Kc,PMREMGenerator:ox,Path:Vf,PerspectiveCamera:xn,Plane:ws,PlaneBufferGeometry:tW,PlaneGeometry:Nu,PlaneHelper:OH,PointLight:bL,PointLightHelper:CH,Points:K4,PointsMaterial:lw,PolarGridHelper:DH,PolyhedronBufferGeometry:nW,PolyhedronGeometry:Vs,PositionalAudio:rH,PropertyBinding:At,PropertyMixer:DL,QuadraticBezierCurve:dw,QuadraticBezierCurve3:hw,Quaternion:si,QuaternionKeyframeTrack:Uu,QuaternionLinearInterpolant:_L,RED_GREEN_RGTC2_Format:nx,RED_RGTC1_Format:w4,REVISION:dg,RGBADepthPacking:E4,RGBAFormat:Ti,RGBAIntegerFormat:x4,RGBA_ASTC_10x10_Format:Q1,RGBA_ASTC_10x5_Format:Z1,RGBA_ASTC_10x6_Format:J1,RGBA_ASTC_10x8_Format:K1,RGBA_ASTC_12x10_Format:$1,RGBA_ASTC_12x12_Format:ex,RGBA_ASTC_4x4_Format:V1,RGBA_ASTC_5x4_Format:H1,RGBA_ASTC_5x5_Format:W1,RGBA_ASTC_6x5_Format:G1,RGBA_ASTC_6x6_Format:j1,RGBA_ASTC_8x5_Format:X1,RGBA_ASTC_8x6_Format:Y1,RGBA_ASTC_8x8_Format:q1,RGBA_BPTC_Format:Zp,RGBA_ETC2_EAC_Format:U1,RGBA_PVRTC_2BPPV1_Format:F1,RGBA_PVRTC_4BPPV1_Format:O1,RGBA_S3TC_DXT1_Format:Xp,RGBA_S3TC_DXT3_Format:Yp,RGBA_S3TC_DXT5_Format:qp,RGB_ETC1_Format:_4,RGB_ETC2_Format:B1,RGB_PVRTC_2BPPV1_Format:z1,RGB_PVRTC_4BPPV1_Format:N1,RGB_S3TC_DXT1_Format:jp,RGFormat:v4,RGIntegerFormat:y4,RawShaderMaterial:uL,Ray:Iu,Raycaster:kL,RectAreaLight:AL,RedFormat:m4,RedIntegerFormat:g4,ReinhardToneMapping:r4,RepeatWrapping:kf,ReplaceStencilOp:yO,ReverseSubtractEquation:FP,RingBufferGeometry:iW,RingGeometry:vd,SIGNED_RED_GREEN_RGTC2_Format:ix,SIGNED_RED_RGTC1_Format:tx,SRGBColorSpace:Tr,Scene:Fm,ShaderChunk:pt,ShaderLib:Ar,ShaderMaterial:$r,ShadowMaterial:lL,Shape:Na,ShapeBufferGeometry:rW,ShapeGeometry:yd,ShapePath:UH,ShapeUtils:Qr,ShortType:l4,Skeleton:Sg,SkeletonHelper:AH,SkinnedMesh:q4,Source:Ta,Sphere:Ja,SphereBufferGeometry:sW,SphereGeometry:Bu,Spherical:px,SphericalHarmonics3:CL,SplineCurve:pw,SpotLight:ML,SpotLightHelper:EH,Sprite:X4,SpriteMaterial:ow,SrcAlphaFactor:j_,SrcAlphaSaturateFactor:YP,SrcColorFactor:VP,StaticCopyUsage:zO,StaticDrawUsage:Ff,StaticReadUsage:kO,StereoCamera:eH,StreamCopyUsage:FO,StreamDrawUsage:DO,StreamReadUsage:NO,StringKeyframeTrack:$a,SubtractEquation:OP,SubtractiveBlending:R1,TOUCH:ha,TangentSpaceNormalMap:Fo,TetrahedronBufferGeometry:oW,TetrahedronGeometry:xd,Texture:fn,TextureLoader:G9,TorusBufferGeometry:aW,TorusGeometry:_d,TorusKnotBufferGeometry:lW,TorusKnotGeometry:wd,Triangle:lr,TriangleFanDrawMode:mO,TriangleStripDrawMode:pO,TrianglesDrawMode:hO,TubeBufferGeometry:uW,TubeGeometry:Sd,TwoPassDoubleSide:lO,UVMapping:pg,Uint16BufferAttribute:ew,Uint32BufferAttribute:tw,Uint8BufferAttribute:pF,Uint8ClampedBufferAttribute:mF,Uniform:Aw,UniformsGroup:_H,UniformsLib:Le,UniformsUtils:k4,UnsignedByteType:Os,UnsignedInt248Type:Ra,UnsignedIntType:fo,UnsignedShort4444Type:c4,UnsignedShort5551Type:f4,UnsignedShortType:Z_,VSMShadowMap:Sa,Vector2:ve,Vector3:z,Vector4:Nt,VectorKeyframeTrack:Xf,VideoTexture:i9,WebGL1Renderer:G4,WebGL3DRenderTarget:iF,WebGLArrayRenderTarget:nF,WebGLCubeRenderTarget:N4,WebGLMultipleRenderTargets:rF,WebGLRenderTarget:Dr,WebGLRenderer:sw,WebGLUtils:V4,WireframeGeometry:aL,WrapAroundEnding:Of,ZeroCurvatureEnding:Ma,ZeroFactor:BP,ZeroSlopeEnding:ba,ZeroStencilOp:vO,_SRGBAFormat:zm,sRGBEncoding:Ht},Symbol.toStringTag,{value:"Module"}));var NL={exports:{}},el={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */el.ConcurrentRoot=1;el.ContinuousEventPriority=4;el.DefaultEventPriority=16;el.DiscreteEventPriority=1;el.IdleEventPriority=536870912;el.LegacyRoot=0;NL.exports=el;var ru=NL.exports;function fW(n){let e;const t=new Set,i=(f,d)=>{const h=typeof f=="function"?f(e):f;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(g=>g(e,p))}},r=()=>e,s=(f,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function g(){const v=d(e);if(!h(p,v)){const y=p;f(p=v,y)}}return t.add(g),()=>t.delete(g)},u={setState:i,getState:r,subscribe:(f,d,h)=>d||h?s(f,d,h):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=n(i,r,u),u}const dW=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),uT=dW?X.useEffect:X.useLayoutEffect;function hW(n){const e=typeof n=="function"?fW(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=X.useReducer(x=>x+1,0),o=e.getState(),a=X.useRef(o),u=X.useRef(i),f=X.useRef(r),d=X.useRef(!1),h=X.useRef();h.current===void 0&&(h.current=i(o));let p,g=!1;(a.current!==o||u.current!==i||f.current!==r||d.current)&&(p=i(o),g=!r(h.current,p)),uT(()=>{g&&(h.current=p),a.current=o,u.current=i,f.current=r,d.current=!1});const v=X.useRef(o);uT(()=>{const x=()=>{try{const S=e.getState(),M=u.current(S);f.current(h.current,M)||(a.current=S,h.current=M,s())}catch{d.current=!0,s()}},_=e.subscribe(x);return e.getState()!==v.current&&x(),_},[]);const y=g?p:h.current;return X.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var zL={exports:{}},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function pW(){return cT||(cT=1,function(n){function e(k,H){var V=k.length;k.push(H);e:for(;0<V;){var te=V-1>>>1,G=k[te];if(0<r(G,H))k[te]=H,k[V]=G,V=te;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var H=k[0],V=k.pop();if(V!==H){k[0]=V;e:for(var te=0,G=k.length,fe=G>>>1;te<fe;){var ue=2*(te+1)-1,xe=k[ue],K=ue+1,be=k[K];if(0>r(xe,V))K<G&&0>r(be,xe)?(k[te]=be,k[K]=V,te=K):(k[te]=xe,k[ue]=V,te=ue);else if(K<G&&0>r(be,V))k[te]=be,k[K]=V,te=K;else break e}}return H}function r(k,H){var V=k.sortIndex-H.sortIndex;return V!==0?V:k.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],f=[],d=1,h=null,p=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(k){for(var H=t(f);H!==null;){if(H.callback===null)i(f);else if(H.startTime<=k)i(f),H.sortIndex=H.expirationTime,e(u,H);else break;H=t(f)}}function b(k){if(y=!1,M(k),!v)if(t(u)!==null)v=!0,se(A);else{var H=t(f);H!==null&&ae(b,H.startTime-k)}}function A(k,H){v=!1,y&&(y=!1,_(E),E=-1),g=!0;var V=p;try{for(M(H),h=t(u);h!==null&&(!(h.expirationTime>H)||k&&!F());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var G=te(h.expirationTime<=H);H=n.unstable_now(),typeof G=="function"?h.callback=G:h===t(u)&&i(u),M(H)}else i(u);h=t(u)}if(h!==null)var fe=!0;else{var ue=t(f);ue!==null&&ae(b,ue.startTime-H),fe=!1}return fe}finally{h=null,p=V,g=!1}}var P=!1,D=null,E=-1,R=5,I=-1;function F(){return!(n.unstable_now()-I<R)}function j(){if(D!==null){var k=n.unstable_now();I=k;var H=!0;try{H=D(!0,k)}finally{H?Y():(P=!1,D=null)}}else P=!1}var Y;if(typeof S=="function")Y=function(){S(j)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=j,Y=function(){$.postMessage(null)}}else Y=function(){x(j,0)};function se(k){D=k,P||(P=!0,Y())}function ae(k,H){E=x(function(){k(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,se(A))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var V=p;p=H;try{return k()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=p;p=k;try{return H()}finally{p=V}},n.unstable_scheduleCallback=function(k,H,V){var te=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?te+V:te):V=te,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=V+G,k={id:d++,callback:H,priorityLevel:k,startTime:V,expirationTime:G,sortIndex:-1},V>te?(k.sortIndex=V,e(f,k),t(u)===null&&k===t(f)&&(y?(_(E),E=-1):y=!0,ae(b,V-te))):(k.sortIndex=G,e(u,k),v||g||(v=!0,se(A))),k},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(k){var H=p;return function(){var V=p;p=H;try{return k.apply(this,arguments)}finally{p=V}}}}(ty)),ty}var fT;function mW(){return fT||(fT=1,ey.exports=pW()),ey.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gW=function(e){var t={},i=X,r=mW(),s=Object.assign;function o(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),A=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:(l=A&&l[A]||l["@@iterator"],typeof l=="function"?l:null)}function D(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case f:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case v:return(l.displayName||"Context")+".Consumer";case g:return(l._context.displayName||"Context")+".Provider";case y:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case S:return c=l.displayName||null,c!==null?c:D(l.type)||"Memo";case M:c=l._payload,l=l._init;try{return D(l(c))}catch{}}return null}function E(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(c);case 8:return c===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function R(l){var c=l,m=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,c.flags&4098&&(m=c.return),l=c.return;while(l)}return c.tag===3?m:null}function I(l){if(R(l)!==l)throw Error(o(188))}function F(l){var c=l.alternate;if(!c){if(c=R(l),c===null)throw Error(o(188));return c!==l?null:l}for(var m=l,w=c;;){var T=m.return;if(T===null)break;var C=T.alternate;if(C===null){if(w=T.return,w!==null){m=w;continue}break}if(T.child===C.child){for(C=T.child;C;){if(C===m)return I(T),l;if(C===w)return I(T),c;C=C.sibling}throw Error(o(188))}if(m.return!==w.return)m=T,w=C;else{for(var B=!1,J=T.child;J;){if(J===m){B=!0,m=T,w=C;break}if(J===w){B=!0,w=T,m=C;break}J=J.sibling}if(!B){for(J=C.child;J;){if(J===m){B=!0,m=C,w=T;break}if(J===w){B=!0,w=C,m=T;break}J=J.sibling}if(!B)throw Error(o(189))}}if(m.alternate!==w)throw Error(o(190))}if(m.tag!==3)throw Error(o(188));return m.stateNode.current===m?l:c}function j(l){return l=F(l),l!==null?Y(l):null}function Y(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=Y(l);if(c!==null)return c;l=l.sibling}return null}function W(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var c=W(l);if(c!==null)return c}l=l.sibling}return null}var $=Array.isArray,se=e.getPublicInstance,ae=e.getRootHostContext,k=e.getChildHostContext,H=e.prepareForCommit,V=e.resetAfterCommit,te=e.createInstance,G=e.appendInitialChild,fe=e.finalizeInitialChildren,ue=e.prepareUpdate,xe=e.shouldSetTextContent,K=e.createTextInstance,be=e.scheduleTimeout,Pe=e.cancelTimeout,ke=e.noTimeout,Te=e.isPrimaryRenderer,Ge=e.supportsMutation,he=e.supportsPersistence,ie=e.supportsHydration,ye=e.getInstanceFromNode,De=e.preparePortalMount,Ae=e.getCurrentEventPriority,nt=e.detachDeletedInstance,Ke=e.supportsMicrotasks,qe=e.scheduleMicrotask,bt=e.supportsTestSelectors,Tt=e.findFiberRoot,U=e.getBoundingRect,N=e.getTextContent,le=e.isHiddenSubtree,Se=e.matchAccessibilityRole,Ce=e.setFocusIfFocusable,Ie=e.setupIntersectionObserver,it=e.appendChild,ze=e.appendChildToContainer,ge=e.commitTextUpdate,Ze=e.commitMount,rt=e.commitUpdate,He=e.insertBefore,Qe=e.insertInContainerBefore,je=e.removeChild,Z=e.removeChildFromContainer,_e=e.resetTextContent,Fe=e.hideInstance,q=e.hideTextInstance,oe=e.unhideInstance,we=e.unhideTextInstance,Re=e.clearContainer,Xe=e.cloneInstance,xt=e.createContainerChildSet,kt=e.appendChildToContainerChildSet,Ot=e.finalizeContainerChildren,Xn=e.replaceContainerChildren,Et=e.cloneHiddenInstance,Rn=e.cloneHiddenTextInstance,bn=e.canHydrateInstance,Td=e.canHydrateTextInstance,Cg=e.canHydrateSuspenseInstance,Ed=e.isSuspenseInstancePending,Vu=e.isSuspenseInstanceFallback,O=e.registerSuspenseInstanceRetry,ne=e.getNextHydratableSibling,pe=e.getFirstHydratableChild,ee=e.getFirstHydratableChildWithinContainer,me=e.getFirstHydratableChildWithinSuspenseInstance,$e=e.hydrateInstance,ot=e.hydrateTextInstance,ft=e.hydrateSuspenseInstance,gt=e.getNextHydratableInstanceAfterSuspenseInstance,St=e.commitHydratedContainer,_t=e.commitHydratedSuspenseInstance,wt=e.clearSuspenseBoundary,rn=e.clearSuspenseBoundaryFromContainer,li=e.shouldDeleteUnhydratedTailInstances,pr=e.didNotMatchHydratedContainerTextInstance,ts=e.didNotMatchHydratedTextInstance,Yt;function dt(l){if(Yt===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Yt=c&&c[1]||""}return`
`+Yt+l}var Go=!1;function sn(l,c){if(!l||Go)return"";Go=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Ee){var w=Ee}Reflect.construct(l,[],c)}else{try{c.call()}catch(Ee){w=Ee}l.call(c.prototype)}else{try{throw Error()}catch(Ee){w=Ee}l()}}catch(Ee){if(Ee&&w&&typeof Ee.stack=="string"){for(var T=Ee.stack.split(`
`),C=w.stack.split(`
`),B=T.length-1,J=C.length-1;1<=B&&0<=J&&T[B]!==C[J];)J--;for(;1<=B&&0<=J;B--,J--)if(T[B]!==C[J]){if(B!==1||J!==1)do if(B--,J--,0>J||T[B]!==C[J]){var de=`
`+T[B].replace(" at new "," at ");return l.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",l.displayName)),de}while(1<=B&&0<=J);break}}}finally{Go=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?dt(l):""}var ns=Object.prototype.hasOwnProperty,tl=[],ji=-1;function Xi(l){return{current:l}}function ct(l){0>ji||(l.current=tl[ji],tl[ji]=null,ji--)}function Mt(l,c){ji++,tl[ji]=l.current,l.current=c}var Yi={},It=Xi(Yi),Dn=Xi(!1),is=Yi;function rs(l,c){var m=l.type.contextTypes;if(!m)return Yi;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===c)return w.__reactInternalMemoizedMaskedChildContext;var T={},C;for(C in m)T[C]=c[C];return w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=T),T}function _i(l){return l=l.childContextTypes,l!=null}function Ad(){ct(Dn),ct(It)}function Rw(l,c,m){if(It.current!==Yi)throw Error(o(168));Mt(It,c),Mt(Dn,m)}function Dw(l,c,m){var w=l.stateNode;if(c=c.childContextTypes,typeof w.getChildContext!="function")return m;w=w.getChildContext();for(var T in w)if(!(T in c))throw Error(o(108,E(l)||"Unknown",T));return s({},m,w)}function Cd(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Yi,is=It.current,Mt(It,l),Mt(Dn,Dn.current),!0}function kw(l,c,m){var w=l.stateNode;if(!w)throw Error(o(169));m?(l=Dw(l,c,is),w.__reactInternalMemoizedMergedChildContext=l,ct(Dn),ct(It),Mt(It,l)):ct(Dn),Mt(Dn,m)}var mr=Math.clz32?Math.clz32:dR,cR=Math.log,fR=Math.LN2;function dR(l){return l>>>=0,l===0?32:31-(cR(l)/fR|0)|0}var Pd=64,Ld=4194304;function Hu(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Rd(l,c){var m=l.pendingLanes;if(m===0)return 0;var w=0,T=l.suspendedLanes,C=l.pingedLanes,B=m&268435455;if(B!==0){var J=B&~T;J!==0?w=Hu(J):(C&=B,C!==0&&(w=Hu(C)))}else B=m&~T,B!==0?w=Hu(B):C!==0&&(w=Hu(C));if(w===0)return 0;if(c!==0&&c!==w&&!(c&T)&&(T=w&-w,C=c&-c,T>=C||T===16&&(C&4194240)!==0))return c;if(w&4&&(w|=m&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=w;0<c;)m=31-mr(c),T=1<<m,w|=l[m],c&=~T;return w}function hR(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pR(l,c){for(var m=l.suspendedLanes,w=l.pingedLanes,T=l.expirationTimes,C=l.pendingLanes;0<C;){var B=31-mr(C),J=1<<B,de=T[B];de===-1?(!(J&m)||J&w)&&(T[B]=hR(J,c)):de<=c&&(l.expiredLanes|=J),C&=~J}}function Pg(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Lg(l){for(var c=[],m=0;31>m;m++)c.push(l);return c}function Wu(l,c,m){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-mr(c),l[c]=m}function mR(l,c){var m=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var w=l.eventTimes;for(l=l.expirationTimes;0<m;){var T=31-mr(m),C=1<<T;c[T]=0,w[T]=-1,l[T]=-1,m&=~C}}function Rg(l,c){var m=l.entangledLanes|=c;for(l=l.entanglements;m;){var w=31-mr(m),T=1<<w;T&c|l[w]&c&&(l[w]|=c),m&=~T}}var Pt=0;function Iw(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var Dg=r.unstable_scheduleCallback,Nw=r.unstable_cancelCallback,gR=r.unstable_shouldYield,vR=r.unstable_requestPaint,kn=r.unstable_now,kg=r.unstable_ImmediatePriority,yR=r.unstable_UserBlockingPriority,Ig=r.unstable_NormalPriority,xR=r.unstable_IdlePriority,Dd=null,Nr=null;function _R(l){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Dd,l,void 0,(l.current.flags&128)===128)}catch{}}function wR(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var zr=typeof Object.is=="function"?Object.is:wR,ss=null,kd=!1,Ng=!1;function zw(l){ss===null?ss=[l]:ss.push(l)}function SR(l){kd=!0,zw(l)}function Or(){if(!Ng&&ss!==null){Ng=!0;var l=0,c=Pt;try{var m=ss;for(Pt=1;l<m.length;l++){var w=m[l];do w=w(!0);while(w!==null)}ss=null,kd=!1}catch(T){throw ss!==null&&(ss=ss.slice(l+1)),Dg(kg,Or),T}finally{Pt=c,Ng=!1}}return null}var MR=a.ReactCurrentBatchConfig;function Id(l,c){if(zr(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var m=Object.keys(l),w=Object.keys(c);if(m.length!==w.length)return!1;for(w=0;w<m.length;w++){var T=m[w];if(!ns.call(c,T)||!zr(l[T],c[T]))return!1}return!0}function bR(l){switch(l.tag){case 5:return dt(l.type);case 16:return dt("Lazy");case 13:return dt("Suspense");case 19:return dt("SuspenseList");case 0:case 2:case 15:return l=sn(l.type,!1),l;case 11:return l=sn(l.type.render,!1),l;case 1:return l=sn(l.type,!0),l;default:return""}}function gr(l,c){if(l&&l.defaultProps){c=s({},c),l=l.defaultProps;for(var m in l)c[m]===void 0&&(c[m]=l[m]);return c}return c}var Nd=Xi(null),zd=null,nl=null,zg=null;function Og(){zg=nl=zd=null}function Ow(l,c,m){Te?(Mt(Nd,c._currentValue),c._currentValue=m):(Mt(Nd,c._currentValue2),c._currentValue2=m)}function Fg(l){var c=Nd.current;ct(Nd),Te?l._currentValue=c:l._currentValue2=c}function Bg(l,c,m){for(;l!==null;){var w=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,w!==null&&(w.childLanes|=c)):w!==null&&(w.childLanes&c)!==c&&(w.childLanes|=c),l===m)break;l=l.return}}function il(l,c){zd=l,zg=nl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&c&&(ki=!0),l.firstContext=null)}function qi(l){var c=Te?l._currentValue:l._currentValue2;if(zg!==l)if(l={context:l,memoizedValue:c,next:null},nl===null){if(zd===null)throw Error(o(308));nl=l,zd.dependencies={lanes:0,firstContext:l}}else nl=nl.next=l;return c}var Fr=null,Ws=!1;function Ug(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fw(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function os(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function Gs(l,c){var m=l.updateQueue;m!==null&&(m=m.shared,_n!==null&&l.mode&1&&!(vt&2)?(l=m.interleaved,l===null?(c.next=c,Fr===null?Fr=[m]:Fr.push(m)):(c.next=l.next,l.next=c),m.interleaved=c):(l=m.pending,l===null?c.next=c:(c.next=l.next,l.next=c),m.pending=c))}function Od(l,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var w=c.lanes;w&=l.pendingLanes,m|=w,c.lanes=m,Rg(l,m)}}function Bw(l,c){var m=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,m===w)){var T=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var B={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};C===null?T=C=B:C=C.next=B,m=m.next}while(m!==null);C===null?T=C=c:C=C.next=c}else T=C=c;m={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:C,shared:w.shared,effects:w.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=c:l.next=c,m.lastBaseUpdate=c}function Fd(l,c,m,w){var T=l.updateQueue;Ws=!1;var C=T.firstBaseUpdate,B=T.lastBaseUpdate,J=T.shared.pending;if(J!==null){T.shared.pending=null;var de=J,Ee=de.next;de.next=null,B===null?C=Ee:B.next=Ee,B=de;var Ve=l.alternate;Ve!==null&&(Ve=Ve.updateQueue,J=Ve.lastBaseUpdate,J!==B&&(J===null?Ve.firstBaseUpdate=Ee:J.next=Ee,Ve.lastBaseUpdate=de))}if(C!==null){var at=T.baseState;B=0,Ve=Ee=de=null,J=C;do{var et=J.lane,Bt=J.eventTime;if((w&et)===et){Ve!==null&&(Ve=Ve.next={eventTime:Bt,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Je=l,Jn=J;switch(et=c,Bt=m,Jn.tag){case 1:if(Je=Jn.payload,typeof Je=="function"){at=Je.call(Bt,at,et);break e}at=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Jn.payload,et=typeof Je=="function"?Je.call(Bt,at,et):Je,et==null)break e;at=s({},at,et);break e;case 2:Ws=!0}}J.callback!==null&&J.lane!==0&&(l.flags|=64,et=T.effects,et===null?T.effects=[J]:et.push(J))}else Bt={eventTime:Bt,lane:et,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ve===null?(Ee=Ve=Bt,de=at):Ve=Ve.next=Bt,B|=et;if(J=J.next,J===null){if(J=T.shared.pending,J===null)break;et=J,J=et.next,et.next=null,T.lastBaseUpdate=et,T.shared.pending=null}}while(!0);if(Ve===null&&(de=at),T.baseState=de,T.firstBaseUpdate=Ee,T.lastBaseUpdate=Ve,c=T.shared.interleaved,c!==null){T=c;do B|=T.lane,T=T.next;while(T!==c)}else C===null&&(T.shared.lanes=0);dl|=B,l.lanes=B,l.memoizedState=at}}function Uw(l,c,m){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var w=l[c],T=w.callback;if(T!==null){if(w.callback=null,w=m,typeof T!="function")throw Error(o(191,T));T.call(w)}}}var Vw=new i.Component().refs;function Vg(l,c,m,w){c=l.memoizedState,m=m(w,c),m=m==null?c:s({},c,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Bd={isMounted:function(l){return(l=l._reactInternals)?R(l)===l:!1},enqueueSetState:function(l,c,m){l=l._reactInternals;var w=ci(),T=Ys(l),C=os(w,T);C.payload=c,m!=null&&(C.callback=m),Gs(l,C),c=$i(l,T,w),c!==null&&Od(c,l,T)},enqueueReplaceState:function(l,c,m){l=l._reactInternals;var w=ci(),T=Ys(l),C=os(w,T);C.tag=1,C.payload=c,m!=null&&(C.callback=m),Gs(l,C),c=$i(l,T,w),c!==null&&Od(c,l,T)},enqueueForceUpdate:function(l,c){l=l._reactInternals;var m=ci(),w=Ys(l),T=os(m,w);T.tag=2,c!=null&&(T.callback=c),Gs(l,T),c=$i(l,w,m),c!==null&&Od(c,l,w)}};function Hw(l,c,m,w,T,C,B){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,C,B):c.prototype&&c.prototype.isPureReactComponent?!Id(m,w)||!Id(T,C):!0}function Ww(l,c,m){var w=!1,T=Yi,C=c.contextType;return typeof C=="object"&&C!==null?C=qi(C):(T=_i(c)?is:It.current,w=c.contextTypes,C=(w=w!=null)?rs(l,T):Yi),c=new c(m,C),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Bd,l.stateNode=c,c._reactInternals=l,w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=T,l.__reactInternalMemoizedMaskedChildContext=C),c}function Gw(l,c,m,w){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,w),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,w),c.state!==l&&Bd.enqueueReplaceState(c,c.state,null)}function Hg(l,c,m,w){var T=l.stateNode;T.props=m,T.state=l.memoizedState,T.refs=Vw,Ug(l);var C=c.contextType;typeof C=="object"&&C!==null?T.context=qi(C):(C=_i(c)?is:It.current,T.context=rs(l,C)),T.state=l.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Vg(l,c,C,m),T.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(c=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),c!==T.state&&Bd.enqueueReplaceState(T,T.state,null),Fd(l,m,T,w),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308)}var rl=[],sl=0,Ud=null,Vd=0,Zi=[],Ji=0,jo=null,as=1,ls="";function Xo(l,c){rl[sl++]=Vd,rl[sl++]=Ud,Ud=l,Vd=c}function jw(l,c,m){Zi[Ji++]=as,Zi[Ji++]=ls,Zi[Ji++]=jo,jo=l;var w=as;l=ls;var T=32-mr(w)-1;w&=~(1<<T),m+=1;var C=32-mr(c)+T;if(30<C){var B=T-T%5;C=(w&(1<<B)-1).toString(32),w>>=B,T-=B,as=1<<32-mr(c)+T|m<<T|w,ls=C+l}else as=1<<C|m<<T|w,ls=l}function Wg(l){l.return!==null&&(Xo(l,1),jw(l,1,0))}function Gg(l){for(;l===Ud;)Ud=rl[--sl],rl[sl]=null,Vd=rl[--sl],rl[sl]=null;for(;l===jo;)jo=Zi[--Ji],Zi[Ji]=null,ls=Zi[--Ji],Zi[Ji]=null,as=Zi[--Ji],Zi[Ji]=null}var Ri=null,Di=null,qt=!1,Gu=!1,vr=null;function Xw(l,c){var m=er(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=l,c=l.deletions,c===null?(l.deletions=[m],l.flags|=16):c.push(m)}function Yw(l,c){switch(l.tag){case 5:return c=bn(c,l.type,l.pendingProps),c!==null?(l.stateNode=c,Ri=l,Di=pe(c),!0):!1;case 6:return c=Td(c,l.pendingProps),c!==null?(l.stateNode=c,Ri=l,Di=null,!0):!1;case 13:if(c=Cg(c),c!==null){var m=jo!==null?{id:as,overflow:ls}:null;return l.memoizedState={dehydrated:c,treeContext:m,retryLane:1073741824},m=er(18,null,null,0),m.stateNode=c,m.return=l,l.child=m,Ri=l,Di=null,!0}return!1;default:return!1}}function jg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Xg(l){if(qt){var c=Di;if(c){var m=c;if(!Yw(l,c)){if(jg(l))throw Error(o(418));c=ne(m);var w=Ri;c&&Yw(l,c)?Xw(w,m):(l.flags=l.flags&-4097|2,qt=!1,Ri=l)}}else{if(jg(l))throw Error(o(418));l.flags=l.flags&-4097|2,qt=!1,Ri=l}}}function qw(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ri=l}function ju(l){if(!ie||l!==Ri)return!1;if(!qt)return qw(l),qt=!0,!1;if(l.tag!==3&&(l.tag!==5||li(l.type)&&!xe(l.type,l.memoizedProps))){var c=Di;if(c){if(jg(l)){for(l=Di;l;)l=ne(l);throw Error(o(418))}for(;c;)Xw(l,c),c=ne(c)}}if(qw(l),l.tag===13){if(!ie)throw Error(o(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));Di=gt(l)}else Di=Ri?ne(l.stateNode):null;return!0}function ol(){ie&&(Di=Ri=null,Gu=qt=!1)}function Yg(l){vr===null?vr=[l]:vr.push(l)}function Xu(l,c,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(o(309));var w=m.stateNode}if(!w)throw Error(o(147,l));var T=w,C=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===C?c.ref:(c=function(B){var J=T.refs;J===Vw&&(J=T.refs={}),B===null?delete J[C]:J[C]=B},c._stringRef=C,c)}if(typeof l!="string")throw Error(o(284));if(!m._owner)throw Error(o(290,l))}return l}function Hd(l,c){throw l=Object.prototype.toString.call(c),Error(o(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function Zw(l){var c=l._init;return c(l._payload)}function Jw(l){function c(re,Q){if(l){var ce=re.deletions;ce===null?(re.deletions=[Q],re.flags|=16):ce.push(Q)}}function m(re,Q){if(!l)return null;for(;Q!==null;)c(re,Q),Q=Q.sibling;return null}function w(re,Q){for(re=new Map;Q!==null;)Q.key!==null?re.set(Q.key,Q):re.set(Q.index,Q),Q=Q.sibling;return re}function T(re,Q){return re=Zs(re,Q),re.index=0,re.sibling=null,re}function C(re,Q,ce){return re.index=ce,l?(ce=re.alternate,ce!==null?(ce=ce.index,ce<Q?(re.flags|=2,Q):ce):(re.flags|=2,Q)):(re.flags|=1048576,Q)}function B(re){return l&&re.alternate===null&&(re.flags|=2),re}function J(re,Q,ce,Oe){return Q===null||Q.tag!==6?(Q=L0(ce,re.mode,Oe),Q.return=re,Q):(Q=T(Q,ce),Q.return=re,Q)}function de(re,Q,ce,Oe){var Ye=ce.type;return Ye===d?Ve(re,Q,ce.props.children,Oe,ce.key):Q!==null&&(Q.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===M&&Zw(Ye)===Q.type)?(Oe=T(Q,ce.props),Oe.ref=Xu(re,Q,ce),Oe.return=re,Oe):(Oe=xh(ce.type,ce.key,ce.props,null,re.mode,Oe),Oe.ref=Xu(re,Q,ce),Oe.return=re,Oe)}function Ee(re,Q,ce,Oe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ce.containerInfo||Q.stateNode.implementation!==ce.implementation?(Q=R0(ce,re.mode,Oe),Q.return=re,Q):(Q=T(Q,ce.children||[]),Q.return=re,Q)}function Ve(re,Q,ce,Oe,Ye){return Q===null||Q.tag!==7?(Q=$o(ce,re.mode,Oe,Ye),Q.return=re,Q):(Q=T(Q,ce),Q.return=re,Q)}function at(re,Q,ce){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=L0(""+Q,re.mode,ce),Q.return=re,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return ce=xh(Q.type,Q.key,Q.props,null,re.mode,ce),ce.ref=Xu(re,null,Q),ce.return=re,ce;case f:return Q=R0(Q,re.mode,ce),Q.return=re,Q;case M:var Oe=Q._init;return at(re,Oe(Q._payload),ce)}if($(Q)||P(Q))return Q=$o(Q,re.mode,ce,null),Q.return=re,Q;Hd(re,Q)}return null}function et(re,Q,ce,Oe){var Ye=Q!==null?Q.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ye!==null?null:J(re,Q,""+ce,Oe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case u:return ce.key===Ye?de(re,Q,ce,Oe):null;case f:return ce.key===Ye?Ee(re,Q,ce,Oe):null;case M:return Ye=ce._init,et(re,Q,Ye(ce._payload),Oe)}if($(ce)||P(ce))return Ye!==null?null:Ve(re,Q,ce,Oe,null);Hd(re,ce)}return null}function Bt(re,Q,ce,Oe,Ye){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return re=re.get(ce)||null,J(Q,re,""+Oe,Ye);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case u:return re=re.get(Oe.key===null?ce:Oe.key)||null,de(Q,re,Oe,Ye);case f:return re=re.get(Oe.key===null?ce:Oe.key)||null,Ee(Q,re,Oe,Ye);case M:var ht=Oe._init;return Bt(re,Q,ce,ht(Oe._payload),Ye)}if($(Oe)||P(Oe))return re=re.get(ce)||null,Ve(Q,re,Oe,Ye,null);Hd(Q,Oe)}return null}function Je(re,Q,ce,Oe){for(var Ye=null,ht=null,lt=Q,Lt=Q=0,Nn=null;lt!==null&&Lt<ce.length;Lt++){lt.index>Lt?(Nn=lt,lt=null):Nn=lt.sibling;var Rt=et(re,lt,ce[Lt],Oe);if(Rt===null){lt===null&&(lt=Nn);break}l&&lt&&Rt.alternate===null&&c(re,lt),Q=C(Rt,Q,Lt),ht===null?Ye=Rt:ht.sibling=Rt,ht=Rt,lt=Nn}if(Lt===ce.length)return m(re,lt),qt&&Xo(re,Lt),Ye;if(lt===null){for(;Lt<ce.length;Lt++)lt=at(re,ce[Lt],Oe),lt!==null&&(Q=C(lt,Q,Lt),ht===null?Ye=lt:ht.sibling=lt,ht=lt);return qt&&Xo(re,Lt),Ye}for(lt=w(re,lt);Lt<ce.length;Lt++)Nn=Bt(lt,re,Lt,ce[Lt],Oe),Nn!==null&&(l&&Nn.alternate!==null&&lt.delete(Nn.key===null?Lt:Nn.key),Q=C(Nn,Q,Lt),ht===null?Ye=Nn:ht.sibling=Nn,ht=Nn);return l&&lt.forEach(function(Js){return c(re,Js)}),qt&&Xo(re,Lt),Ye}function Jn(re,Q,ce,Oe){var Ye=P(ce);if(typeof Ye!="function")throw Error(o(150));if(ce=Ye.call(ce),ce==null)throw Error(o(151));for(var ht=Ye=null,lt=Q,Lt=Q=0,Nn=null,Rt=ce.next();lt!==null&&!Rt.done;Lt++,Rt=ce.next()){lt.index>Lt?(Nn=lt,lt=null):Nn=lt.sibling;var Js=et(re,lt,Rt.value,Oe);if(Js===null){lt===null&&(lt=Nn);break}l&&lt&&Js.alternate===null&&c(re,lt),Q=C(Js,Q,Lt),ht===null?Ye=Js:ht.sibling=Js,ht=Js,lt=Nn}if(Rt.done)return m(re,lt),qt&&Xo(re,Lt),Ye;if(lt===null){for(;!Rt.done;Lt++,Rt=ce.next())Rt=at(re,Rt.value,Oe),Rt!==null&&(Q=C(Rt,Q,Lt),ht===null?Ye=Rt:ht.sibling=Rt,ht=Rt);return qt&&Xo(re,Lt),Ye}for(lt=w(re,lt);!Rt.done;Lt++,Rt=ce.next())Rt=Bt(lt,re,Lt,Rt.value,Oe),Rt!==null&&(l&&Rt.alternate!==null&&lt.delete(Rt.key===null?Lt:Rt.key),Q=C(Rt,Q,Lt),ht===null?Ye=Rt:ht.sibling=Rt,ht=Rt);return l&&lt.forEach(function(e5){return c(re,e5)}),qt&&Xo(re,Lt),Ye}function tr(re,Q,ce,Oe){if(typeof ce=="object"&&ce!==null&&ce.type===d&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case u:e:{for(var Ye=ce.key,ht=Q;ht!==null;){if(ht.key===Ye){if(Ye=ce.type,Ye===d){if(ht.tag===7){m(re,ht.sibling),Q=T(ht,ce.props.children),Q.return=re,re=Q;break e}}else if(ht.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===M&&Zw(Ye)===ht.type){m(re,ht.sibling),Q=T(ht,ce.props),Q.ref=Xu(re,ht,ce),Q.return=re,re=Q;break e}m(re,ht);break}else c(re,ht);ht=ht.sibling}ce.type===d?(Q=$o(ce.props.children,re.mode,Oe,ce.key),Q.return=re,re=Q):(Oe=xh(ce.type,ce.key,ce.props,null,re.mode,Oe),Oe.ref=Xu(re,Q,ce),Oe.return=re,re=Oe)}return B(re);case f:e:{for(ht=ce.key;Q!==null;){if(Q.key===ht)if(Q.tag===4&&Q.stateNode.containerInfo===ce.containerInfo&&Q.stateNode.implementation===ce.implementation){m(re,Q.sibling),Q=T(Q,ce.children||[]),Q.return=re,re=Q;break e}else{m(re,Q);break}else c(re,Q);Q=Q.sibling}Q=R0(ce,re.mode,Oe),Q.return=re,re=Q}return B(re);case M:return ht=ce._init,tr(re,Q,ht(ce._payload),Oe)}if($(ce))return Je(re,Q,ce,Oe);if(P(ce))return Jn(re,Q,ce,Oe);Hd(re,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,Q!==null&&Q.tag===6?(m(re,Q.sibling),Q=T(Q,ce),Q.return=re,re=Q):(m(re,Q),Q=L0(ce,re.mode,Oe),Q.return=re,re=Q),B(re)):m(re,Q)}return tr}var al=Jw(!0),Kw=Jw(!1),Yu={},Ki=Xi(Yu),qu=Xi(Yu),ll=Xi(Yu);function Br(l){if(l===Yu)throw Error(o(174));return l}function qg(l,c){Mt(ll,c),Mt(qu,l),Mt(Ki,Yu),l=ae(c),ct(Ki),Mt(Ki,l)}function ul(){ct(Ki),ct(qu),ct(ll)}function Qw(l){var c=Br(ll.current),m=Br(Ki.current);c=k(m,l.type,c),m!==c&&(Mt(qu,l),Mt(Ki,c))}function Zg(l){qu.current===l&&(ct(Ki),ct(qu))}var Kt=Xi(0);function Wd(l){for(var c=l;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Ed(m)||Vu(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Jg=[];function Kg(){for(var l=0;l<Jg.length;l++){var c=Jg[l];Te?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}Jg.length=0}var Gd=a.ReactCurrentDispatcher,Qi=a.ReactCurrentBatchConfig,cl=0,on=null,Yn=null,In=null,jd=!1,Zu=!1,Ju=0,TR=0;function qn(){throw Error(o(321))}function Qg(l,c){if(c===null)return!1;for(var m=0;m<c.length&&m<l.length;m++)if(!zr(l[m],c[m]))return!1;return!0}function $g(l,c,m,w,T,C){if(cl=C,on=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Gd.current=l===null||l.memoizedState===null?PR:LR,l=m(w,T),Zu){C=0;do{if(Zu=!1,Ju=0,25<=C)throw Error(o(301));C+=1,In=Yn=null,c.updateQueue=null,Gd.current=RR,l=m(w,T)}while(Zu)}if(Gd.current=Jd,c=Yn!==null&&Yn.next!==null,cl=0,In=Yn=on=null,jd=!1,c)throw Error(o(300));return l}function e0(){var l=Ju!==0;return Ju=0,l}function us(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?on.memoizedState=In=l:In=In.next=l,In}function Ur(){if(Yn===null){var l=on.alternate;l=l!==null?l.memoizedState:null}else l=Yn.next;var c=In===null?on.memoizedState:In.next;if(c!==null)In=c,Yn=l;else{if(l===null)throw Error(o(310));Yn=l,l={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},In===null?on.memoizedState=In=l:In=In.next=l}return In}function Yo(l,c){return typeof c=="function"?c(l):c}function Xd(l){var c=Ur(),m=c.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var w=Yn,T=w.baseQueue,C=m.pending;if(C!==null){if(T!==null){var B=T.next;T.next=C.next,C.next=B}w.baseQueue=T=C,m.pending=null}if(T!==null){C=T.next,w=w.baseState;var J=B=null,de=null,Ee=C;do{var Ve=Ee.lane;if((cl&Ve)===Ve)de!==null&&(de=de.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),w=Ee.hasEagerState?Ee.eagerState:l(w,Ee.action);else{var at={lane:Ve,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};de===null?(J=de=at,B=w):de=de.next=at,on.lanes|=Ve,dl|=Ve}Ee=Ee.next}while(Ee!==null&&Ee!==C);de===null?B=w:de.next=J,zr(w,c.memoizedState)||(ki=!0),c.memoizedState=w,c.baseState=B,c.baseQueue=de,m.lastRenderedState=w}if(l=m.interleaved,l!==null){T=l;do C=T.lane,on.lanes|=C,dl|=C,T=T.next;while(T!==l)}else T===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function Yd(l){var c=Ur(),m=c.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var w=m.dispatch,T=m.pending,C=c.memoizedState;if(T!==null){m.pending=null;var B=T=T.next;do C=l(C,B.action),B=B.next;while(B!==T);zr(C,c.memoizedState)||(ki=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),m.lastRenderedState=C}return[C,w]}function $w(){}function eS(l,c){var m=on,w=Ur(),T=c(),C=!zr(w.memoizedState,T);if(C&&(w.memoizedState=T,ki=!0),w=w.queue,Qu(iS.bind(null,m,w,l),[l]),w.getSnapshot!==c||C||In!==null&&In.memoizedState.tag&1){if(m.flags|=2048,Ku(9,nS.bind(null,m,w,T,c),void 0,null),_n===null)throw Error(o(349));cl&30||tS(m,c,T)}return T}function tS(l,c,m){l.flags|=16384,l={getSnapshot:c,value:m},c=on.updateQueue,c===null?(c={lastEffect:null,stores:null},on.updateQueue=c,c.stores=[l]):(m=c.stores,m===null?c.stores=[l]:m.push(l))}function nS(l,c,m,w){c.value=m,c.getSnapshot=w,rS(c)&&$i(l,1,-1)}function iS(l,c,m){return m(function(){rS(c)&&$i(l,1,-1)})}function rS(l){var c=l.getSnapshot;l=l.value;try{var m=c();return!zr(l,m)}catch{return!0}}function t0(l){var c=us();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:l},c.queue=l,l=l.dispatch=CR.bind(null,on,l),[c.memoizedState,l]}function Ku(l,c,m,w){return l={tag:l,create:c,destroy:m,deps:w,next:null},c=on.updateQueue,c===null?(c={lastEffect:null,stores:null},on.updateQueue=c,c.lastEffect=l.next=l):(m=c.lastEffect,m===null?c.lastEffect=l.next=l:(w=m.next,m.next=l,l.next=w,c.lastEffect=l)),l}function sS(){return Ur().memoizedState}function qd(l,c,m,w){var T=us();on.flags|=l,T.memoizedState=Ku(1|c,m,void 0,w===void 0?null:w)}function Zd(l,c,m,w){var T=Ur();w=w===void 0?null:w;var C=void 0;if(Yn!==null){var B=Yn.memoizedState;if(C=B.destroy,w!==null&&Qg(w,B.deps)){T.memoizedState=Ku(c,m,C,w);return}}on.flags|=l,T.memoizedState=Ku(1|c,m,C,w)}function n0(l,c){return qd(8390656,8,l,c)}function Qu(l,c){return Zd(2048,8,l,c)}function oS(l,c){return Zd(4,2,l,c)}function aS(l,c){return Zd(4,4,l,c)}function lS(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function uS(l,c,m){return m=m!=null?m.concat([l]):null,Zd(4,4,lS.bind(null,c,l),m)}function i0(){}function cS(l,c){var m=Ur();c=c===void 0?null:c;var w=m.memoizedState;return w!==null&&c!==null&&Qg(c,w[1])?w[0]:(m.memoizedState=[l,c],l)}function fS(l,c){var m=Ur();c=c===void 0?null:c;var w=m.memoizedState;return w!==null&&c!==null&&Qg(c,w[1])?w[0]:(l=l(),m.memoizedState=[l,c],l)}function ER(l,c){var m=Pt;Pt=m!==0&&4>m?m:4,l(!0);var w=Qi.transition;Qi.transition={};try{l(!1),c()}finally{Pt=m,Qi.transition=w}}function dS(){return Ur().memoizedState}function AR(l,c,m){var w=Ys(l);m={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null},hS(l)?pS(c,m):(mS(l,c,m),m=ci(),l=$i(l,w,m),l!==null&&gS(l,c,w))}function CR(l,c,m){var w=Ys(l),T={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null};if(hS(l))pS(c,T);else{mS(l,c,T);var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var B=c.lastRenderedState,J=C(B,m);if(T.hasEagerState=!0,T.eagerState=J,zr(J,B))return}catch{}finally{}m=ci(),l=$i(l,w,m),l!==null&&gS(l,c,w)}}function hS(l){var c=l.alternate;return l===on||c!==null&&c===on}function pS(l,c){Zu=jd=!0;var m=l.pending;m===null?c.next=c:(c.next=m.next,m.next=c),l.pending=c}function mS(l,c,m){_n!==null&&l.mode&1&&!(vt&2)?(l=c.interleaved,l===null?(m.next=m,Fr===null?Fr=[c]:Fr.push(c)):(m.next=l.next,l.next=m),c.interleaved=m):(l=c.pending,l===null?m.next=m:(m.next=l.next,l.next=m),c.pending=m)}function gS(l,c,m){if(m&4194240){var w=c.lanes;w&=l.pendingLanes,m|=w,c.lanes=m,Rg(l,m)}}var Jd={readContext:qi,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},PR={readContext:qi,useCallback:function(l,c){return us().memoizedState=[l,c===void 0?null:c],l},useContext:qi,useEffect:n0,useImperativeHandle:function(l,c,m){return m=m!=null?m.concat([l]):null,qd(4194308,4,lS.bind(null,c,l),m)},useLayoutEffect:function(l,c){return qd(4194308,4,l,c)},useInsertionEffect:function(l,c){return qd(4,2,l,c)},useMemo:function(l,c){var m=us();return c=c===void 0?null:c,l=l(),m.memoizedState=[l,c],l},useReducer:function(l,c,m){var w=us();return c=m!==void 0?m(c):c,w.memoizedState=w.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},w.queue=l,l=l.dispatch=AR.bind(null,on,l),[w.memoizedState,l]},useRef:function(l){var c=us();return l={current:l},c.memoizedState=l},useState:t0,useDebugValue:i0,useDeferredValue:function(l){var c=t0(l),m=c[0],w=c[1];return n0(function(){var T=Qi.transition;Qi.transition={};try{w(l)}finally{Qi.transition=T}},[l]),m},useTransition:function(){var l=t0(!1),c=l[0];return l=ER.bind(null,l[1]),us().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,m){var w=on,T=us();if(qt){if(m===void 0)throw Error(o(407));m=m()}else{if(m=c(),_n===null)throw Error(o(349));cl&30||tS(w,c,m)}T.memoizedState=m;var C={value:m,getSnapshot:c};return T.queue=C,n0(iS.bind(null,w,C,l),[l]),w.flags|=2048,Ku(9,nS.bind(null,w,C,m,c),void 0,null),m},useId:function(){var l=us(),c=_n.identifierPrefix;if(qt){var m=ls,w=as;m=(w&~(1<<32-mr(w)-1)).toString(32)+m,c=":"+c+"R"+m,m=Ju++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=TR++,c=":"+c+"r"+m.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},LR={readContext:qi,useCallback:cS,useContext:qi,useEffect:Qu,useImperativeHandle:uS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:fS,useReducer:Xd,useRef:sS,useState:function(){return Xd(Yo)},useDebugValue:i0,useDeferredValue:function(l){var c=Xd(Yo),m=c[0],w=c[1];return Qu(function(){var T=Qi.transition;Qi.transition={};try{w(l)}finally{Qi.transition=T}},[l]),m},useTransition:function(){var l=Xd(Yo)[0],c=Ur().memoizedState;return[l,c]},useMutableSource:$w,useSyncExternalStore:eS,useId:dS,unstable_isNewReconciler:!1},RR={readContext:qi,useCallback:cS,useContext:qi,useEffect:Qu,useImperativeHandle:uS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:fS,useReducer:Yd,useRef:sS,useState:function(){return Yd(Yo)},useDebugValue:i0,useDeferredValue:function(l){var c=Yd(Yo),m=c[0],w=c[1];return Qu(function(){var T=Qi.transition;Qi.transition={};try{w(l)}finally{Qi.transition=T}},[l]),m},useTransition:function(){var l=Yd(Yo)[0],c=Ur().memoizedState;return[l,c]},useMutableSource:$w,useSyncExternalStore:eS,useId:dS,unstable_isNewReconciler:!1};function r0(l,c){try{var m="",w=c;do m+=bR(w),w=w.return;while(w);var T=m}catch(C){T=`
Error generating stack: `+C.message+`
`+C.stack}return{value:l,source:c,stack:T}}function s0(l,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var DR=typeof WeakMap=="function"?WeakMap:Map;function vS(l,c,m){m=os(-1,m),m.tag=3,m.payload={element:null};var w=c.value;return m.callback=function(){dh||(dh=!0,M0=w),s0(l,c)},m}function yS(l,c,m){m=os(-1,m),m.tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var T=c.value;m.payload=function(){return w(T)},m.callback=function(){s0(l,c)}}var C=l.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(m.callback=function(){s0(l,c),typeof w!="function"&&(js===null?js=new Set([this]):js.add(this));var B=c.stack;this.componentDidCatch(c.value,{componentStack:B!==null?B:""})}),m}function xS(l,c,m){var w=l.pingCache;if(w===null){w=l.pingCache=new DR;var T=new Set;w.set(c,T)}else T=w.get(c),T===void 0&&(T=new Set,w.set(c,T));T.has(m)||(T.add(m),l=XR.bind(null,l,c,m),c.then(l,l))}function _S(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function wS(l,c,m,w,T){return l.mode&1?(l.flags|=65536,l.lanes=T,l):(l===c?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=os(-1,1),c.tag=2,Gs(m,c))),m.lanes|=1),l)}function Vr(l){l.flags|=4}function SS(l,c){if(l!==null&&l.child===c.child)return!0;if(c.flags&16)return!1;for(l=c.child;l!==null;){if(l.flags&12854||l.subtreeFlags&12854)return!1;l=l.sibling}return!0}var $u,ec,Kd,Qd;if(Ge)$u=function(l,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)G(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},ec=function(){},Kd=function(l,c,m,w,T){if(l=l.memoizedProps,l!==w){var C=c.stateNode,B=Br(Ki.current);m=ue(C,m,l,w,T,B),(c.updateQueue=m)&&Vr(c)}},Qd=function(l,c,m,w){m!==w&&Vr(c)};else if(he){$u=function(l,c,m,w){for(var T=c.child;T!==null;){if(T.tag===5){var C=T.stateNode;m&&w&&(C=Et(C,T.type,T.memoizedProps,T)),G(l,C)}else if(T.tag===6)C=T.stateNode,m&&w&&(C=Rn(C,T.memoizedProps,T)),G(l,C);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)C=T.child,C!==null&&(C.return=T),$u(l,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===c)break;for(;T.sibling===null;){if(T.return===null||T.return===c)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var MS=function(l,c,m,w){for(var T=c.child;T!==null;){if(T.tag===5){var C=T.stateNode;m&&w&&(C=Et(C,T.type,T.memoizedProps,T)),kt(l,C)}else if(T.tag===6)C=T.stateNode,m&&w&&(C=Rn(C,T.memoizedProps,T)),kt(l,C);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)C=T.child,C!==null&&(C.return=T),MS(l,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===c)break;for(;T.sibling===null;){if(T.return===null||T.return===c)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};ec=function(l,c){var m=c.stateNode;if(!SS(l,c)){l=m.containerInfo;var w=xt(l);MS(w,c,!1,!1),m.pendingChildren=w,Vr(c),Ot(l,w)}},Kd=function(l,c,m,w,T){var C=l.stateNode,B=l.memoizedProps;if((l=SS(l,c))&&B===w)c.stateNode=C;else{var J=c.stateNode,de=Br(Ki.current),Ee=null;B!==w&&(Ee=ue(J,m,B,w,T,de)),l&&Ee===null?c.stateNode=C:(C=Xe(C,Ee,m,B,w,c,l,J),fe(C,m,w,T,de)&&Vr(c),c.stateNode=C,l?Vr(c):$u(C,c,!1,!1))}},Qd=function(l,c,m,w){m!==w?(l=Br(ll.current),m=Br(Ki.current),c.stateNode=K(w,l,m,c),Vr(c)):c.stateNode=l.stateNode}}else ec=function(){},Kd=function(){},Qd=function(){};function tc(l,c){if(!qt)switch(l.tailMode){case"hidden":c=l.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function Zn(l){var c=l.alternate!==null&&l.alternate.child===l.child,m=0,w=0;if(c)for(var T=l.child;T!==null;)m|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)m|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=w,l.childLanes=m,c}function kR(l,c,m){var w=c.pendingProps;switch(Gg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(c),null;case 1:return _i(c.type)&&Ad(),Zn(c),null;case 3:return w=c.stateNode,ul(),ct(Dn),ct(It),Kg(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(l===null||l.child===null)&&(ju(c)?Vr(c):l===null||l.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,vr!==null&&(E0(vr),vr=null))),ec(l,c),Zn(c),null;case 5:Zg(c),m=Br(ll.current);var T=c.type;if(l!==null&&c.stateNode!=null)Kd(l,c,T,w,m),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!w){if(c.stateNode===null)throw Error(o(166));return Zn(c),null}if(l=Br(Ki.current),ju(c)){if(!ie)throw Error(o(175));l=$e(c.stateNode,c.type,c.memoizedProps,m,l,c,!Gu),c.updateQueue=l,l!==null&&Vr(c)}else{var C=te(T,w,m,l,c);$u(C,c,!1,!1),c.stateNode=C,fe(C,T,w,m,l)&&Vr(c)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Zn(c),null;case 6:if(l&&c.stateNode!=null)Qd(l,c,l.memoizedProps,w);else{if(typeof w!="string"&&c.stateNode===null)throw Error(o(166));if(l=Br(ll.current),m=Br(Ki.current),ju(c)){if(!ie)throw Error(o(176));if(l=c.stateNode,w=c.memoizedProps,(m=ot(l,w,c,!Gu))&&(T=Ri,T!==null))switch(C=(T.mode&1)!==0,T.tag){case 3:pr(T.stateNode.containerInfo,l,w,C);break;case 5:ts(T.type,T.memoizedProps,T.stateNode,l,w,C)}m&&Vr(c)}else c.stateNode=K(w,l,m,c)}return Zn(c),null;case 13:if(ct(Kt),w=c.memoizedState,qt&&Di!==null&&c.mode&1&&!(c.flags&128)){for(l=Di;l;)l=ne(l);return ol(),c.flags|=98560,c}if(w!==null&&w.dehydrated!==null){if(w=ju(c),l===null){if(!w)throw Error(o(318));if(!ie)throw Error(o(344));if(l=c.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));ft(l,c)}else ol(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;return Zn(c),null}return vr!==null&&(E0(vr),vr=null),c.flags&128?(c.lanes=m,c):(w=w!==null,m=!1,l===null?ju(c):m=l.memoizedState!==null,w&&!m&&(c.child.flags|=8192,c.mode&1&&(l===null||Kt.current&1?Tn===0&&(Tn=3):C0())),c.updateQueue!==null&&(c.flags|=4),Zn(c),null);case 4:return ul(),ec(l,c),l===null&&De(c.stateNode.containerInfo),Zn(c),null;case 10:return Fg(c.type._context),Zn(c),null;case 17:return _i(c.type)&&Ad(),Zn(c),null;case 19:if(ct(Kt),T=c.memoizedState,T===null)return Zn(c),null;if(w=(c.flags&128)!==0,C=T.rendering,C===null)if(w)tc(T,!1);else{if(Tn!==0||l!==null&&l.flags&128)for(l=c.child;l!==null;){if(C=Wd(l),C!==null){for(c.flags|=128,tc(T,!1),l=C.updateQueue,l!==null&&(c.updateQueue=l,c.flags|=4),c.subtreeFlags=0,l=m,w=c.child;w!==null;)m=w,T=l,m.flags&=14680066,C=m.alternate,C===null?(m.childLanes=0,m.lanes=T,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=C.childLanes,m.lanes=C.lanes,m.child=C.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=C.memoizedProps,m.memoizedState=C.memoizedState,m.updateQueue=C.updateQueue,m.type=C.type,T=C.dependencies,m.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),w=w.sibling;return Mt(Kt,Kt.current&1|2),c.child}l=l.sibling}T.tail!==null&&kn()>S0&&(c.flags|=128,w=!0,tc(T,!1),c.lanes=4194304)}else{if(!w)if(l=Wd(C),l!==null){if(c.flags|=128,w=!0,l=l.updateQueue,l!==null&&(c.updateQueue=l,c.flags|=4),tc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!C.alternate&&!qt)return Zn(c),null}else 2*kn()-T.renderingStartTime>S0&&m!==1073741824&&(c.flags|=128,w=!0,tc(T,!1),c.lanes=4194304);T.isBackwards?(C.sibling=c.child,c.child=C):(l=T.last,l!==null?l.sibling=C:c.child=C,T.last=C)}return T.tail!==null?(c=T.tail,T.rendering=c,T.tail=c.sibling,T.renderingStartTime=kn(),c.sibling=null,l=Kt.current,Mt(Kt,w?l&1|2:l&1),c):(Zn(c),null);case 22:case 23:return A0(),w=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==w&&(c.flags|=8192),w&&c.mode&1?Ii&1073741824&&(Zn(c),Ge&&c.subtreeFlags&6&&(c.flags|=8192)):Zn(c),null;case 24:return null;case 25:return null}throw Error(o(156,c.tag))}var IR=a.ReactCurrentOwner,ki=!1;function ui(l,c,m,w){c.child=l===null?Kw(c,null,m,w):al(c,l.child,m,w)}function bS(l,c,m,w,T){m=m.render;var C=c.ref;return il(c,T),w=$g(l,c,m,w,C,T),m=e0(),l!==null&&!ki?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~T,cs(l,c,T)):(qt&&m&&Wg(c),c.flags|=1,ui(l,c,w,T),c.child)}function TS(l,c,m,w,T){if(l===null){var C=m.type;return typeof C=="function"&&!P0(C)&&C.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=C,ES(l,c,C,w,T)):(l=xh(m.type,null,w,c,c.mode,T),l.ref=c.ref,l.return=c,c.child=l)}if(C=l.child,!(l.lanes&T)){var B=C.memoizedProps;if(m=m.compare,m=m!==null?m:Id,m(B,w)&&l.ref===c.ref)return cs(l,c,T)}return c.flags|=1,l=Zs(C,w),l.ref=c.ref,l.return=c,c.child=l}function ES(l,c,m,w,T){if(l!==null&&Id(l.memoizedProps,w)&&l.ref===c.ref)if(ki=!1,(l.lanes&T)!==0)l.flags&131072&&(ki=!0);else return c.lanes=l.lanes,cs(l,c,T);return o0(l,c,m,w,T)}function AS(l,c,m){var w=c.pendingProps,T=w.children,C=l!==null?l.memoizedState:null;if(w.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null},Mt(fl,Ii),Ii|=m;else if(m&1073741824)c.memoizedState={baseLanes:0,cachePool:null},w=C!==null?C.baseLanes:m,Mt(fl,Ii),Ii|=w;else return l=C!==null?C.baseLanes|m:m,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null},c.updateQueue=null,Mt(fl,Ii),Ii|=l,null;else C!==null?(w=C.baseLanes|m,c.memoizedState=null):w=m,Mt(fl,Ii),Ii|=w;return ui(l,c,T,m),c.child}function CS(l,c){var m=c.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function o0(l,c,m,w,T){var C=_i(m)?is:It.current;return C=rs(c,C),il(c,T),m=$g(l,c,m,w,C,T),w=e0(),l!==null&&!ki?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~T,cs(l,c,T)):(qt&&w&&Wg(c),c.flags|=1,ui(l,c,m,T),c.child)}function PS(l,c,m,w,T){if(_i(m)){var C=!0;Cd(c)}else C=!1;if(il(c,T),c.stateNode===null)l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),Ww(c,m,w),Hg(c,m,w,T),w=!0;else if(l===null){var B=c.stateNode,J=c.memoizedProps;B.props=J;var de=B.context,Ee=m.contextType;typeof Ee=="object"&&Ee!==null?Ee=qi(Ee):(Ee=_i(m)?is:It.current,Ee=rs(c,Ee));var Ve=m.getDerivedStateFromProps,at=typeof Ve=="function"||typeof B.getSnapshotBeforeUpdate=="function";at||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(J!==w||de!==Ee)&&Gw(c,B,w,Ee),Ws=!1;var et=c.memoizedState;B.state=et,Fd(c,w,B,T),de=c.memoizedState,J!==w||et!==de||Dn.current||Ws?(typeof Ve=="function"&&(Vg(c,m,Ve,w),de=c.memoizedState),(J=Ws||Hw(c,m,J,w,et,de,Ee))?(at||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(c.flags|=4194308)):(typeof B.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=w,c.memoizedState=de),B.props=w,B.state=de,B.context=Ee,w=J):(typeof B.componentDidMount=="function"&&(c.flags|=4194308),w=!1)}else{B=c.stateNode,Fw(l,c),J=c.memoizedProps,Ee=c.type===c.elementType?J:gr(c.type,J),B.props=Ee,at=c.pendingProps,et=B.context,de=m.contextType,typeof de=="object"&&de!==null?de=qi(de):(de=_i(m)?is:It.current,de=rs(c,de));var Bt=m.getDerivedStateFromProps;(Ve=typeof Bt=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(J!==at||et!==de)&&Gw(c,B,w,de),Ws=!1,et=c.memoizedState,B.state=et,Fd(c,w,B,T);var Je=c.memoizedState;J!==at||et!==Je||Dn.current||Ws?(typeof Bt=="function"&&(Vg(c,m,Bt,w),Je=c.memoizedState),(Ee=Ws||Hw(c,m,Ee,w,et,Je,de)||!1)?(Ve||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(w,Je,de),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(w,Je,de)),typeof B.componentDidUpdate=="function"&&(c.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof B.componentDidUpdate!="function"||J===l.memoizedProps&&et===l.memoizedState||(c.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&et===l.memoizedState||(c.flags|=1024),c.memoizedProps=w,c.memoizedState=Je),B.props=w,B.state=Je,B.context=de,w=Ee):(typeof B.componentDidUpdate!="function"||J===l.memoizedProps&&et===l.memoizedState||(c.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||J===l.memoizedProps&&et===l.memoizedState||(c.flags|=1024),w=!1)}return a0(l,c,m,w,C,T)}function a0(l,c,m,w,T,C){CS(l,c);var B=(c.flags&128)!==0;if(!w&&!B)return T&&kw(c,m,!1),cs(l,c,C);w=c.stateNode,IR.current=c;var J=B&&typeof m.getDerivedStateFromError!="function"?null:w.render();return c.flags|=1,l!==null&&B?(c.child=al(c,l.child,null,C),c.child=al(c,null,J,C)):ui(l,c,J,C),c.memoizedState=w.state,T&&kw(c,m,!0),c.child}function LS(l){var c=l.stateNode;c.pendingContext?Rw(l,c.pendingContext,c.pendingContext!==c.context):c.context&&Rw(l,c.context,!1),qg(l,c.containerInfo)}function RS(l,c,m,w,T){return ol(),Yg(T),c.flags|=256,ui(l,c,m,w),c.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function eh(l){return{baseLanes:l,cachePool:null}}function DS(l,c,m){var w=c.pendingProps,T=Kt.current,C=!1,B=(c.flags&128)!==0,J;if((J=B)||(J=l!==null&&l.memoizedState===null?!1:(T&2)!==0),J?(C=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(T|=1),Mt(Kt,T&1),l===null)return Xg(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(c.mode&1?Vu(l)?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(T=w.children,l=w.fallback,C?(w=c.mode,C=c.child,T={mode:"hidden",children:T},!(w&1)&&C!==null?(C.childLanes=0,C.pendingProps=T):C=_h(T,w,0,null),l=$o(l,w,m,null),C.return=c,l.return=c,C.sibling=l,c.child=C,c.child.memoizedState=eh(m),c.memoizedState=$d,l):l0(c,T));if(T=l.memoizedState,T!==null){if(J=T.dehydrated,J!==null){if(B)return c.flags&256?(c.flags&=-257,th(l,c,m,Error(o(422)))):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(C=w.fallback,T=c.mode,w=_h({mode:"visible",children:w.children},T,0,null),C=$o(C,T,m,null),C.flags|=2,w.return=c,C.return=c,w.sibling=C,c.child=w,c.mode&1&&al(c,l.child,null,m),c.child.memoizedState=eh(m),c.memoizedState=$d,C);if(!(c.mode&1))c=th(l,c,m,null);else if(Vu(J))c=th(l,c,m,Error(o(419)));else if(w=(m&l.childLanes)!==0,ki||w){if(w=_n,w!==null){switch(m&-m){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}w=C&(w.suspendedLanes|m)?0:C,w!==0&&w!==T.retryLane&&(T.retryLane=w,$i(l,w,-1))}C0(),c=th(l,c,m,Error(o(421)))}else Ed(J)?(c.flags|=128,c.child=l.child,c=YR.bind(null,l),O(J,c),c=null):(m=T.treeContext,ie&&(Di=me(J),Ri=c,qt=!0,vr=null,Gu=!1,m!==null&&(Zi[Ji++]=as,Zi[Ji++]=ls,Zi[Ji++]=jo,as=m.id,ls=m.overflow,jo=c)),c=l0(c,c.pendingProps.children),c.flags|=4096);return c}return C?(w=IS(l,c,w.children,w.fallback,m),C=c.child,T=l.child.memoizedState,C.memoizedState=T===null?eh(m):{baseLanes:T.baseLanes|m,cachePool:null},C.childLanes=l.childLanes&~m,c.memoizedState=$d,w):(m=kS(l,c,w.children,m),c.memoizedState=null,m)}return C?(w=IS(l,c,w.children,w.fallback,m),C=c.child,T=l.child.memoizedState,C.memoizedState=T===null?eh(m):{baseLanes:T.baseLanes|m,cachePool:null},C.childLanes=l.childLanes&~m,c.memoizedState=$d,w):(m=kS(l,c,w.children,m),c.memoizedState=null,m)}function l0(l,c){return c=_h({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function kS(l,c,m,w){var T=l.child;return l=T.sibling,m=Zs(T,{mode:"visible",children:m}),!(c.mode&1)&&(m.lanes=w),m.return=c,m.sibling=null,l!==null&&(w=c.deletions,w===null?(c.deletions=[l],c.flags|=16):w.push(l)),c.child=m}function IS(l,c,m,w,T){var C=c.mode;l=l.child;var B=l.sibling,J={mode:"hidden",children:m};return!(C&1)&&c.child!==l?(m=c.child,m.childLanes=0,m.pendingProps=J,c.deletions=null):(m=Zs(l,J),m.subtreeFlags=l.subtreeFlags&14680064),B!==null?w=Zs(B,w):(w=$o(w,C,T,null),w.flags|=2),w.return=c,m.return=c,m.sibling=w,c.child=m,w}function th(l,c,m,w){return w!==null&&Yg(w),al(c,l.child,null,m),l=l0(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function NS(l,c,m){l.lanes|=c;var w=l.alternate;w!==null&&(w.lanes|=c),Bg(l.return,c,m)}function u0(l,c,m,w,T){var C=l.memoizedState;C===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:w,tail:m,tailMode:T}:(C.isBackwards=c,C.rendering=null,C.renderingStartTime=0,C.last=w,C.tail=m,C.tailMode=T)}function zS(l,c,m){var w=c.pendingProps,T=w.revealOrder,C=w.tail;if(ui(l,c,w.children,m),w=Kt.current,w&2)w=w&1|2,c.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&NS(l,m,c);else if(l.tag===19)NS(l,m,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(Mt(Kt,w),!(c.mode&1))c.memoizedState=null;else switch(T){case"forwards":for(m=c.child,T=null;m!==null;)l=m.alternate,l!==null&&Wd(l)===null&&(T=m),m=m.sibling;m=T,m===null?(T=c.child,c.child=null):(T=m.sibling,m.sibling=null),u0(c,!1,T,m,C);break;case"backwards":for(m=null,T=c.child,c.child=null;T!==null;){if(l=T.alternate,l!==null&&Wd(l)===null){c.child=T;break}l=T.sibling,T.sibling=m,m=T,T=l}u0(c,!0,m,null,C);break;case"together":u0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function cs(l,c,m){if(l!==null&&(c.dependencies=l.dependencies),dl|=c.lanes,!(m&c.childLanes))return null;if(l!==null&&c.child!==l.child)throw Error(o(153));if(c.child!==null){for(l=c.child,m=Zs(l,l.pendingProps),c.child=m,m.return=c;l.sibling!==null;)l=l.sibling,m=m.sibling=Zs(l,l.pendingProps),m.return=c;m.sibling=null}return c.child}function NR(l,c,m){switch(c.tag){case 3:LS(c),ol();break;case 5:Qw(c);break;case 1:_i(c.type)&&Cd(c);break;case 4:qg(c,c.stateNode.containerInfo);break;case 10:Ow(c,c.type._context,c.memoizedProps.value);break;case 13:var w=c.memoizedState;if(w!==null)return w.dehydrated!==null?(Mt(Kt,Kt.current&1),c.flags|=128,null):m&c.child.childLanes?DS(l,c,m):(Mt(Kt,Kt.current&1),l=cs(l,c,m),l!==null?l.sibling:null);Mt(Kt,Kt.current&1);break;case 19:if(w=(m&c.childLanes)!==0,l.flags&128){if(w)return zS(l,c,m);c.flags|=128}var T=c.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Mt(Kt,Kt.current),w)break;return null;case 22:case 23:return c.lanes=0,AS(l,c,m)}return cs(l,c,m)}function zR(l,c){switch(Gg(c),c.tag){case 1:return _i(c.type)&&Ad(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return ul(),ct(Dn),ct(It),Kg(),l=c.flags,l&65536&&!(l&128)?(c.flags=l&-65537|128,c):null;case 5:return Zg(c),null;case 13:if(ct(Kt),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(o(340));ol()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return ct(Kt),null;case 4:return ul(),null;case 10:return Fg(c.type._context),null;case 22:case 23:return A0(),null;case 24:return null;default:return null}}var nh=!1,qo=!1,OR=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function ih(l,c){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(w){Mi(l,c,w)}else m.current=null}function c0(l,c,m){try{m()}catch(w){Mi(l,c,w)}}var OS=!1;function FR(l,c){for(H(l.containerInfo),Ne=c;Ne!==null;)if(l=Ne,c=l.child,(l.subtreeFlags&1028)!==0&&c!==null)c.return=l,Ne=c;else for(;Ne!==null;){l=Ne;try{var m=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,T=m.memoizedState,C=l.stateNode,B=C.getSnapshotBeforeUpdate(l.elementType===l.type?w:gr(l.type,w),T);C.__reactInternalSnapshotBeforeUpdate=B}break;case 3:Ge&&Re(l.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(J){Mi(l,l.return,J)}if(c=l.sibling,c!==null){c.return=l.return,Ne=c;break}Ne=l.return}return m=OS,OS=!1,m}function Zo(l,c,m){var w=c.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&l)===l){var C=T.destroy;T.destroy=void 0,C!==void 0&&c0(c,m,C)}T=T.next}while(T!==w)}}function nc(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&l)===l){var w=m.create;m.destroy=w()}m=m.next}while(m!==c)}}function f0(l){var c=l.ref;if(c!==null){var m=l.stateNode;switch(l.tag){case 5:l=se(m);break;default:l=m}typeof c=="function"?c(l):c.current=l}}function FS(l,c,m){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Dd,c)}catch{}switch(c.tag){case 0:case 11:case 14:case 15:if(l=c.updateQueue,l!==null&&(l=l.lastEffect,l!==null)){var w=l=l.next;do{var T=w,C=T.destroy;T=T.tag,C!==void 0&&(T&2||T&4)&&c0(c,m,C),w=w.next}while(w!==l)}break;case 1:if(ih(c,m),l=c.stateNode,typeof l.componentWillUnmount=="function")try{l.props=c.memoizedProps,l.state=c.memoizedState,l.componentWillUnmount()}catch(B){Mi(c,m,B)}break;case 5:ih(c,m);break;case 4:Ge?GS(l,c,m):he&&he&&(c=c.stateNode.containerInfo,m=xt(c),Xn(c,m))}}function BS(l,c,m){for(var w=c;;)if(FS(l,w,m),w.child===null||Ge&&w.tag===4){if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function US(l){var c=l.alternate;c!==null&&(l.alternate=null,US(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&nt(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function VS(l){return l.tag===5||l.tag===3||l.tag===4}function HS(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||VS(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function WS(l){if(Ge){e:{for(var c=l.return;c!==null;){if(VS(c))break e;c=c.return}throw Error(o(160))}var m=c;switch(m.tag){case 5:c=m.stateNode,m.flags&32&&(_e(c),m.flags&=-33),m=HS(l),h0(l,m,c);break;case 3:case 4:c=m.stateNode.containerInfo,m=HS(l),d0(l,m,c);break;default:throw Error(o(161))}}}function d0(l,c,m){var w=l.tag;if(w===5||w===6)l=l.stateNode,c?Qe(m,l,c):ze(m,l);else if(w!==4&&(l=l.child,l!==null))for(d0(l,c,m),l=l.sibling;l!==null;)d0(l,c,m),l=l.sibling}function h0(l,c,m){var w=l.tag;if(w===5||w===6)l=l.stateNode,c?He(m,l,c):it(m,l);else if(w!==4&&(l=l.child,l!==null))for(h0(l,c,m),l=l.sibling;l!==null;)h0(l,c,m),l=l.sibling}function GS(l,c,m){for(var w=c,T=!1,C,B;;){if(!T){T=w.return;e:for(;;){if(T===null)throw Error(o(160));switch(C=T.stateNode,T.tag){case 5:B=!1;break e;case 3:C=C.containerInfo,B=!0;break e;case 4:C=C.containerInfo,B=!0;break e}T=T.return}T=!0}if(w.tag===5||w.tag===6)BS(l,w,m),B?Z(C,w.stateNode):je(C,w.stateNode);else if(w.tag===18)B?rn(C,w.stateNode):wt(C,w.stateNode);else if(w.tag===4){if(w.child!==null){C=w.stateNode.containerInfo,B=!0,w.child.return=w,w=w.child;continue}}else if(FS(l,w,m),w.child!==null){w.child.return=w,w=w.child;continue}if(w===c)break;for(;w.sibling===null;){if(w.return===null||w.return===c)return;w=w.return,w.tag===4&&(T=!1)}w.sibling.return=w.return,w=w.sibling}}function p0(l,c){if(Ge){switch(c.tag){case 0:case 11:case 14:case 15:Zo(3,c,c.return),nc(3,c),Zo(5,c,c.return);return;case 1:return;case 5:var m=c.stateNode;if(m!=null){var w=c.memoizedProps;l=l!==null?l.memoizedProps:w;var T=c.type,C=c.updateQueue;c.updateQueue=null,C!==null&&rt(m,C,T,l,w,c)}return;case 6:if(c.stateNode===null)throw Error(o(162));m=c.memoizedProps,ge(c.stateNode,l!==null?l.memoizedProps:m,m);return;case 3:ie&&l!==null&&l.memoizedState.isDehydrated&&St(c.stateNode.containerInfo);return;case 12:return;case 13:rh(c);return;case 19:rh(c);return;case 17:return}throw Error(o(163))}switch(c.tag){case 0:case 11:case 14:case 15:Zo(3,c,c.return),nc(3,c),Zo(5,c,c.return);return;case 12:return;case 13:rh(c);return;case 19:rh(c);return;case 3:ie&&l!==null&&l.memoizedState.isDehydrated&&St(c.stateNode.containerInfo);break;case 22:case 23:return}e:if(he){switch(c.tag){case 1:case 5:case 6:break e;case 3:case 4:c=c.stateNode,Xn(c.containerInfo,c.pendingChildren);break e}throw Error(o(163))}}function rh(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new OR),c.forEach(function(w){var T=qR.bind(null,l,w);m.has(w)||(m.add(w),w.then(T,T))})}}function BR(l,c){for(Ne=c;Ne!==null;){c=Ne;var m=c.deletions;if(m!==null)for(var w=0;w<m.length;w++){var T=m[w];try{var C=l;Ge?GS(C,T,c):BS(C,T,c);var B=T.alternate;B!==null&&(B.return=null),T.return=null}catch(Ye){Mi(T,c,Ye)}}if(m=c.child,c.subtreeFlags&12854&&m!==null)m.return=c,Ne=m;else for(;Ne!==null;){c=Ne;try{var J=c.flags;if(J&32&&Ge&&_e(c.stateNode),J&512){var de=c.alternate;if(de!==null){var Ee=de.ref;Ee!==null&&(typeof Ee=="function"?Ee(null):Ee.current=null)}}if(J&8192)switch(c.tag){case 13:if(c.memoizedState!==null){var Ve=c.alternate;(Ve===null||Ve.memoizedState===null)&&(w0=kn())}break;case 22:var at=c.memoizedState!==null,et=c.alternate,Bt=et!==null&&et.memoizedState!==null;if(m=c,Ge){e:if(w=m,T=at,C=null,Ge)for(var Je=w;;){if(Je.tag===5){if(C===null){C=Je;var Jn=Je.stateNode;T?Fe(Jn):oe(Je.stateNode,Je.memoizedProps)}}else if(Je.tag===6){if(C===null){var tr=Je.stateNode;T?q(tr):we(tr,Je.memoizedProps)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===w)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===w)break;for(;Je.sibling===null;){if(Je.return===null||Je.return===w)break e;C===Je&&(C=null),Je=Je.return}C===Je&&(C=null),Je.sibling.return=Je.return,Je=Je.sibling}}if(at&&!Bt&&m.mode&1){Ne=m;for(var re=m.child;re!==null;){for(m=Ne=re;Ne!==null;){w=Ne;var Q=w.child;switch(w.tag){case 0:case 11:case 14:case 15:Zo(4,w,w.return);break;case 1:ih(w,w.return);var ce=w.stateNode;if(typeof ce.componentWillUnmount=="function"){var Oe=w.return;try{ce.props=w.memoizedProps,ce.state=w.memoizedState,ce.componentWillUnmount()}catch(Ye){Mi(w,Oe,Ye)}}break;case 5:ih(w,w.return);break;case 22:if(w.memoizedState!==null){YS(m);continue}}Q!==null?(Q.return=w,Ne=Q):YS(m)}re=re.sibling}}}switch(J&4102){case 2:WS(c),c.flags&=-3;break;case 6:WS(c),c.flags&=-3,p0(c.alternate,c);break;case 4096:c.flags&=-4097;break;case 4100:c.flags&=-4097,p0(c.alternate,c);break;case 4:p0(c.alternate,c)}}catch(Ye){Mi(c,c.return,Ye)}if(m=c.sibling,m!==null){m.return=c.return,Ne=m;break}Ne=c.return}}}function UR(l,c,m){Ne=l,jS(l)}function jS(l,c,m){for(var w=(l.mode&1)!==0;Ne!==null;){var T=Ne,C=T.child;if(T.tag===22&&w){var B=T.memoizedState!==null||nh;if(!B){var J=T.alternate,de=J!==null&&J.memoizedState!==null||qo;J=nh;var Ee=qo;if(nh=B,(qo=de)&&!Ee)for(Ne=T;Ne!==null;)B=Ne,de=B.child,B.tag===22&&B.memoizedState!==null?qS(T):de!==null?(de.return=B,Ne=de):qS(T);for(;C!==null;)Ne=C,jS(C),C=C.sibling;Ne=T,nh=J,qo=Ee}XS(l)}else T.subtreeFlags&8772&&C!==null?(C.return=T,Ne=C):XS(l)}}function XS(l){for(;Ne!==null;){var c=Ne;if(c.flags&8772){var m=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:qo||nc(5,c);break;case 1:var w=c.stateNode;if(c.flags&4&&!qo)if(m===null)w.componentDidMount();else{var T=c.elementType===c.type?m.memoizedProps:gr(c.type,m.memoizedProps);w.componentDidUpdate(T,m.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var C=c.updateQueue;C!==null&&Uw(c,C,w);break;case 3:var B=c.updateQueue;if(B!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=se(c.child.stateNode);break;case 1:m=c.child.stateNode}Uw(c,B,m)}break;case 5:var J=c.stateNode;m===null&&c.flags&4&&Ze(J,c.type,c.memoizedProps,c);break;case 6:break;case 4:break;case 12:break;case 13:if(ie&&c.memoizedState===null){var de=c.alternate;if(de!==null){var Ee=de.memoizedState;if(Ee!==null){var Ve=Ee.dehydrated;Ve!==null&&_t(Ve)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}qo||c.flags&512&&f0(c)}catch(at){Mi(c,c.return,at)}}if(c===l){Ne=null;break}if(m=c.sibling,m!==null){m.return=c.return,Ne=m;break}Ne=c.return}}function YS(l){for(;Ne!==null;){var c=Ne;if(c===l){Ne=null;break}var m=c.sibling;if(m!==null){m.return=c.return,Ne=m;break}Ne=c.return}}function qS(l){for(;Ne!==null;){var c=Ne;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{nc(4,c)}catch(de){Mi(c,m,de)}break;case 1:var w=c.stateNode;if(typeof w.componentDidMount=="function"){var T=c.return;try{w.componentDidMount()}catch(de){Mi(c,T,de)}}var C=c.return;try{f0(c)}catch(de){Mi(c,C,de)}break;case 5:var B=c.return;try{f0(c)}catch(de){Mi(c,B,de)}}}catch(de){Mi(c,c.return,de)}if(c===l){Ne=null;break}var J=c.sibling;if(J!==null){J.return=c.return,Ne=J;break}Ne=c.return}}var sh=0,oh=1,ah=2,lh=3,uh=4;if(typeof Symbol=="function"&&Symbol.for){var ic=Symbol.for;sh=ic("selector.component"),oh=ic("selector.has_pseudo_class"),ah=ic("selector.role"),lh=ic("selector.test_id"),uh=ic("selector.text")}function m0(l){var c=ye(l);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(o(364));return c}if(l=Tt(l),l===null)throw Error(o(362));return l.stateNode.current}function g0(l,c){switch(c.$$typeof){case sh:if(l.type===c.value)return!0;break;case oh:e:{c=c.value,l=[l,0];for(var m=0;m<l.length;){var w=l[m++],T=l[m++],C=c[T];if(w.tag!==5||!le(w)){for(;C!=null&&g0(w,C);)T++,C=c[T];if(T===c.length){c=!0;break e}else for(w=w.child;w!==null;)l.push(w,T),w=w.sibling}}c=!1}return c;case ah:if(l.tag===5&&Se(l.stateNode,c.value))return!0;break;case uh:if((l.tag===5||l.tag===6)&&(l=N(l),l!==null&&0<=l.indexOf(c.value)))return!0;break;case lh:if(l.tag===5&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function v0(l){switch(l.$$typeof){case sh:return"<"+(D(l.value)||"Unknown")+">";case oh:return":has("+(v0(l)||"")+")";case ah:return'[role="'+l.value+'"]';case uh:return'"'+l.value+'"';case lh:return'[data-testname="'+l.value+'"]';default:throw Error(o(365))}}function ZS(l,c){var m=[];l=[l,0];for(var w=0;w<l.length;){var T=l[w++],C=l[w++],B=c[C];if(T.tag!==5||!le(T)){for(;B!=null&&g0(T,B);)C++,B=c[C];if(C===c.length)m.push(T);else for(T=T.child;T!==null;)l.push(T,C),T=T.sibling}}return m}function y0(l,c){if(!bt)throw Error(o(363));l=m0(l),l=ZS(l,c),c=[],l=Array.from(l);for(var m=0;m<l.length;){var w=l[m++];if(w.tag===5)le(w)||c.push(w.stateNode);else for(w=w.child;w!==null;)l.push(w),w=w.sibling}return c}var VR=Math.ceil,ch=a.ReactCurrentDispatcher,x0=a.ReactCurrentOwner,dn=a.ReactCurrentBatchConfig,vt=0,_n=null,wn=null,Bn=0,Ii=0,fl=Xi(0),Tn=0,rc=null,dl=0,fh=0,_0=0,sc=null,wi=null,w0=0,S0=1/0;function hl(){S0=kn()+500}var dh=!1,M0=null,js=null,hh=!1,Xs=null,ph=0,oc=0,b0=null,mh=-1,gh=0;function ci(){return vt&6?kn():mh!==-1?mh:mh=kn()}function Ys(l){return l.mode&1?vt&2&&Bn!==0?Bn&-Bn:MR.transition!==null?(gh===0&&(l=Pd,Pd<<=1,!(Pd&4194240)&&(Pd=64),gh=l),gh):(l=Pt,l!==0?l:Ae()):1}function $i(l,c,m){if(50<oc)throw oc=0,b0=null,Error(o(185));var w=vh(l,c);return w===null?null:(Wu(w,c,m),(!(vt&2)||w!==_n)&&(w===_n&&(!(vt&2)&&(fh|=c),Tn===4&&qs(w,Bn)),Si(w,m),c===1&&vt===0&&!(l.mode&1)&&(hl(),kd&&Or())),w)}function vh(l,c){l.lanes|=c;var m=l.alternate;for(m!==null&&(m.lanes|=c),m=l,l=l.return;l!==null;)l.childLanes|=c,m=l.alternate,m!==null&&(m.childLanes|=c),m=l,l=l.return;return m.tag===3?m.stateNode:null}function Si(l,c){var m=l.callbackNode;pR(l,c);var w=Rd(l,l===_n?Bn:0);if(w===0)m!==null&&Nw(m),l.callbackNode=null,l.callbackPriority=0;else if(c=w&-w,l.callbackPriority!==c){if(m!=null&&Nw(m),c===1)l.tag===0?SR(KS.bind(null,l)):zw(KS.bind(null,l)),Ke?qe(function(){vt===0&&Or()}):Dg(kg,Or),m=null;else{switch(Iw(w)){case 1:m=kg;break;case 4:m=yR;break;case 16:m=Ig;break;case 536870912:m=xR;break;default:m=Ig}m=o2(m,JS.bind(null,l))}l.callbackPriority=c,l.callbackNode=m}}function JS(l,c){if(mh=-1,gh=0,vt&6)throw Error(o(327));var m=l.callbackNode;if(Qo()&&l.callbackNode!==m)return null;var w=Rd(l,l===_n?Bn:0);if(w===0)return null;if(w&30||w&l.expiredLanes||c)c=yh(l,w);else{c=w;var T=vt;vt|=2;var C=e2();(_n!==l||Bn!==c)&&(hl(),Jo(l,c));do try{GR();break}catch(J){$S(l,J)}while(!0);Og(),ch.current=C,vt=T,wn!==null?c=0:(_n=null,Bn=0,c=Tn)}if(c!==0){if(c===2&&(T=Pg(l),T!==0&&(w=T,c=T0(l,T))),c===1)throw m=rc,Jo(l,0),qs(l,w),Si(l,kn()),m;if(c===6)qs(l,w);else{if(T=l.current.alternate,!(w&30)&&!HR(T)&&(c=yh(l,w),c===2&&(C=Pg(l),C!==0&&(w=C,c=T0(l,C))),c===1))throw m=rc,Jo(l,0),qs(l,w),Si(l,kn()),m;switch(l.finishedWork=T,l.finishedLanes=w,c){case 0:case 1:throw Error(o(345));case 2:Ko(l,wi);break;case 3:if(qs(l,w),(w&130023424)===w&&(c=w0+500-kn(),10<c)){if(Rd(l,0)!==0)break;if(T=l.suspendedLanes,(T&w)!==w){ci(),l.pingedLanes|=l.suspendedLanes&T;break}l.timeoutHandle=be(Ko.bind(null,l,wi),c);break}Ko(l,wi);break;case 4:if(qs(l,w),(w&4194240)===w)break;for(c=l.eventTimes,T=-1;0<w;){var B=31-mr(w);C=1<<B,B=c[B],B>T&&(T=B),w&=~C}if(w=T,w=kn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*VR(w/1960))-w,10<w){l.timeoutHandle=be(Ko.bind(null,l,wi),w);break}Ko(l,wi);break;case 5:Ko(l,wi);break;default:throw Error(o(329))}}}return Si(l,kn()),l.callbackNode===m?JS.bind(null,l):null}function T0(l,c){var m=sc;return l.current.memoizedState.isDehydrated&&(Jo(l,c).flags|=256),l=yh(l,c),l!==2&&(c=wi,wi=m,c!==null&&E0(c)),l}function E0(l){wi===null?wi=l:wi.push.apply(wi,l)}function HR(l){for(var c=l;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var w=0;w<m.length;w++){var T=m[w],C=T.getSnapshot;T=T.value;try{if(!zr(C(),T))return!1}catch{return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function qs(l,c){for(c&=~_0,c&=~fh,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var m=31-mr(c),w=1<<m;l[m]=-1,c&=~w}}function KS(l){if(vt&6)throw Error(o(327));Qo();var c=Rd(l,0);if(!(c&1))return Si(l,kn()),null;var m=yh(l,c);if(l.tag!==0&&m===2){var w=Pg(l);w!==0&&(c=w,m=T0(l,w))}if(m===1)throw m=rc,Jo(l,0),qs(l,c),Si(l,kn()),m;if(m===6)throw Error(o(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,Ko(l,wi),Si(l,kn()),null}function QS(l){Xs!==null&&Xs.tag===0&&!(vt&6)&&Qo();var c=vt;vt|=1;var m=dn.transition,w=Pt;try{if(dn.transition=null,Pt=1,l)return l()}finally{Pt=w,dn.transition=m,vt=c,!(vt&6)&&Or()}}function A0(){Ii=fl.current,ct(fl)}function Jo(l,c){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==ke&&(l.timeoutHandle=ke,Pe(m)),wn!==null)for(m=wn.return;m!==null;){var w=m;switch(Gg(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Ad();break;case 3:ul(),ct(Dn),ct(It),Kg();break;case 5:Zg(w);break;case 4:ul();break;case 13:ct(Kt);break;case 19:ct(Kt);break;case 10:Fg(w.type._context);break;case 22:case 23:A0()}m=m.return}if(_n=l,wn=l=Zs(l.current,null),Bn=Ii=c,Tn=0,rc=null,_0=fh=dl=0,wi=sc=null,Fr!==null){for(c=0;c<Fr.length;c++)if(m=Fr[c],w=m.interleaved,w!==null){m.interleaved=null;var T=w.next,C=m.pending;if(C!==null){var B=C.next;C.next=T,w.next=B}m.pending=w}Fr=null}return l}function $S(l,c){do{var m=wn;try{if(Og(),Gd.current=Jd,jd){for(var w=on.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}jd=!1}if(cl=0,In=Yn=on=null,Zu=!1,Ju=0,x0.current=null,m===null||m.return===null){Tn=1,rc=c,wn=null;break}e:{var C=l,B=m.return,J=m,de=c;if(c=Bn,J.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ee=de,Ve=J,at=Ve.tag;if(!(Ve.mode&1)&&(at===0||at===11||at===15)){var et=Ve.alternate;et?(Ve.updateQueue=et.updateQueue,Ve.memoizedState=et.memoizedState,Ve.lanes=et.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var Bt=_S(B);if(Bt!==null){Bt.flags&=-257,wS(Bt,B,J,C,c),Bt.mode&1&&xS(C,Ee,c),c=Bt,de=Ee;var Je=c.updateQueue;if(Je===null){var Jn=new Set;Jn.add(de),c.updateQueue=Jn}else Je.add(de);break e}else{if(!(c&1)){xS(C,Ee,c),C0();break e}de=Error(o(426))}}else if(qt&&J.mode&1){var tr=_S(B);if(tr!==null){!(tr.flags&65536)&&(tr.flags|=256),wS(tr,B,J,C,c),Yg(de);break e}}C=de,Tn!==4&&(Tn=2),sc===null?sc=[C]:sc.push(C),de=r0(de,J),J=B;do{switch(J.tag){case 3:J.flags|=65536,c&=-c,J.lanes|=c;var re=vS(J,de,c);Bw(J,re);break e;case 1:C=de;var Q=J.type,ce=J.stateNode;if(!(J.flags&128)&&(typeof Q.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(js===null||!js.has(ce)))){J.flags|=65536,c&=-c,J.lanes|=c;var Oe=yS(J,C,c);Bw(J,Oe);break e}}J=J.return}while(J!==null)}n2(m)}catch(Ye){c=Ye,wn===m&&m!==null&&(wn=m=m.return);continue}break}while(!0)}function e2(){var l=ch.current;return ch.current=Jd,l===null?Jd:l}function C0(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),_n===null||!(dl&268435455)&&!(fh&268435455)||qs(_n,Bn)}function yh(l,c){var m=vt;vt|=2;var w=e2();_n===l&&Bn===c||Jo(l,c);do try{WR();break}catch(T){$S(l,T)}while(!0);if(Og(),vt=m,ch.current=w,wn!==null)throw Error(o(261));return _n=null,Bn=0,Tn}function WR(){for(;wn!==null;)t2(wn)}function GR(){for(;wn!==null&&!gR();)t2(wn)}function t2(l){var c=s2(l.alternate,l,Ii);l.memoizedProps=l.pendingProps,c===null?n2(l):wn=c,x0.current=null}function n2(l){var c=l;do{var m=c.alternate;if(l=c.return,c.flags&32768){if(m=zR(m,c),m!==null){m.flags&=32767,wn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Tn=6,wn=null;return}}else if(m=kR(m,c,Ii),m!==null){wn=m;return}if(c=c.sibling,c!==null){wn=c;return}wn=c=l}while(c!==null);Tn===0&&(Tn=5)}function Ko(l,c){var m=Pt,w=dn.transition;try{dn.transition=null,Pt=1,jR(l,c,m)}finally{dn.transition=w,Pt=m}return null}function jR(l,c,m){do Qo();while(Xs!==null);if(vt&6)throw Error(o(327));var w=l.finishedWork,T=l.finishedLanes;if(w===null)return null;if(l.finishedWork=null,l.finishedLanes=0,w===l.current)throw Error(o(177));l.callbackNode=null,l.callbackPriority=0;var C=w.lanes|w.childLanes;if(mR(l,C),l===_n&&(wn=_n=null,Bn=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||hh||(hh=!0,o2(Ig,function(){return Qo(),null})),C=(w.flags&15990)!==0,w.subtreeFlags&15990||C){C=dn.transition,dn.transition=null;var B=Pt;Pt=1;var J=vt;vt|=4,x0.current=null,FR(l,w),BR(l,w),V(l.containerInfo),l.current=w,UR(w),vR(),vt=J,Pt=B,dn.transition=C}else l.current=w;if(hh&&(hh=!1,Xs=l,ph=T),C=l.pendingLanes,C===0&&(js=null),_R(w.stateNode),Si(l,kn()),c!==null)for(m=l.onRecoverableError,w=0;w<c.length;w++)m(c[w]);if(dh)throw dh=!1,l=M0,M0=null,l;return ph&1&&l.tag!==0&&Qo(),C=l.pendingLanes,C&1?l===b0?oc++:(oc=0,b0=l):oc=0,Or(),null}function Qo(){if(Xs!==null){var l=Iw(ph),c=dn.transition,m=Pt;try{if(dn.transition=null,Pt=16>l?16:l,Xs===null)var w=!1;else{if(l=Xs,Xs=null,ph=0,vt&6)throw Error(o(331));var T=vt;for(vt|=4,Ne=l.current;Ne!==null;){var C=Ne,B=C.child;if(Ne.flags&16){var J=C.deletions;if(J!==null){for(var de=0;de<J.length;de++){var Ee=J[de];for(Ne=Ee;Ne!==null;){var Ve=Ne;switch(Ve.tag){case 0:case 11:case 15:Zo(8,Ve,C)}var at=Ve.child;if(at!==null)at.return=Ve,Ne=at;else for(;Ne!==null;){Ve=Ne;var et=Ve.sibling,Bt=Ve.return;if(US(Ve),Ve===Ee){Ne=null;break}if(et!==null){et.return=Bt,Ne=et;break}Ne=Bt}}}var Je=C.alternate;if(Je!==null){var Jn=Je.child;if(Jn!==null){Je.child=null;do{var tr=Jn.sibling;Jn.sibling=null,Jn=tr}while(Jn!==null)}}Ne=C}}if(C.subtreeFlags&2064&&B!==null)B.return=C,Ne=B;else e:for(;Ne!==null;){if(C=Ne,C.flags&2048)switch(C.tag){case 0:case 11:case 15:Zo(9,C,C.return)}var re=C.sibling;if(re!==null){re.return=C.return,Ne=re;break e}Ne=C.return}}var Q=l.current;for(Ne=Q;Ne!==null;){B=Ne;var ce=B.child;if(B.subtreeFlags&2064&&ce!==null)ce.return=B,Ne=ce;else e:for(B=Q;Ne!==null;){if(J=Ne,J.flags&2048)try{switch(J.tag){case 0:case 11:case 15:nc(9,J)}}catch(Ye){Mi(J,J.return,Ye)}if(J===B){Ne=null;break e}var Oe=J.sibling;if(Oe!==null){Oe.return=J.return,Ne=Oe;break e}Ne=J.return}}if(vt=T,Or(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Dd,l)}catch{}w=!0}return w}finally{Pt=m,dn.transition=c}}return!1}function i2(l,c,m){c=r0(m,c),c=vS(l,c,1),Gs(l,c),c=ci(),l=vh(l,1),l!==null&&(Wu(l,1,c),Si(l,c))}function Mi(l,c,m){if(l.tag===3)i2(l,l,m);else for(;c!==null;){if(c.tag===3){i2(c,l,m);break}else if(c.tag===1){var w=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(js===null||!js.has(w))){l=r0(m,l),l=yS(c,l,1),Gs(c,l),l=ci(),c=vh(c,1),c!==null&&(Wu(c,1,l),Si(c,l));break}}c=c.return}}function XR(l,c,m){var w=l.pingCache;w!==null&&w.delete(c),c=ci(),l.pingedLanes|=l.suspendedLanes&m,_n===l&&(Bn&m)===m&&(Tn===4||Tn===3&&(Bn&130023424)===Bn&&500>kn()-w0?Jo(l,0):_0|=m),Si(l,c)}function r2(l,c){c===0&&(l.mode&1?(c=Ld,Ld<<=1,!(Ld&130023424)&&(Ld=4194304)):c=1);var m=ci();l=vh(l,c),l!==null&&(Wu(l,c,m),Si(l,m))}function YR(l){var c=l.memoizedState,m=0;c!==null&&(m=c.retryLane),r2(l,m)}function qR(l,c){var m=0;switch(l.tag){case 13:var w=l.stateNode,T=l.memoizedState;T!==null&&(m=T.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(c),r2(l,m)}var s2;s2=function(l,c,m){if(l!==null)if(l.memoizedProps!==c.pendingProps||Dn.current)ki=!0;else{if(!(l.lanes&m)&&!(c.flags&128))return ki=!1,NR(l,c,m);ki=!!(l.flags&131072)}else ki=!1,qt&&c.flags&1048576&&jw(c,Vd,c.index);switch(c.lanes=0,c.tag){case 2:var w=c.type;l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),l=c.pendingProps;var T=rs(c,It.current);il(c,m),T=$g(null,c,w,l,T,m);var C=e0();return c.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,_i(w)?(C=!0,Cd(c)):C=!1,c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Ug(c),T.updater=Bd,c.stateNode=T,T._reactInternals=c,Hg(c,w,l,m),c=a0(null,c,w,!0,C,m)):(c.tag=0,qt&&C&&Wg(c),ui(null,c,T,m),c=c.child),c;case 16:w=c.elementType;e:{switch(l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),l=c.pendingProps,T=w._init,w=T(w._payload),c.type=w,T=c.tag=JR(w),l=gr(w,l),T){case 0:c=o0(null,c,w,l,m);break e;case 1:c=PS(null,c,w,l,m);break e;case 11:c=bS(null,c,w,l,m);break e;case 14:c=TS(null,c,w,gr(w.type,l),m);break e}throw Error(o(306,w,""))}return c;case 0:return w=c.type,T=c.pendingProps,T=c.elementType===w?T:gr(w,T),o0(l,c,w,T,m);case 1:return w=c.type,T=c.pendingProps,T=c.elementType===w?T:gr(w,T),PS(l,c,w,T,m);case 3:e:{if(LS(c),l===null)throw Error(o(387));w=c.pendingProps,C=c.memoizedState,T=C.element,Fw(l,c),Fd(c,w,null,m);var B=c.memoizedState;if(w=B.element,ie&&C.isDehydrated)if(C={element:w,isDehydrated:!1,cache:B.cache,transitions:B.transitions},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){T=Error(o(423)),c=RS(l,c,w,m,T);break e}else if(w!==T){T=Error(o(424)),c=RS(l,c,w,m,T);break e}else for(ie&&(Di=ee(c.stateNode.containerInfo),Ri=c,qt=!0,vr=null,Gu=!1),m=Kw(c,null,w,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(ol(),w===T){c=cs(l,c,m);break e}ui(l,c,w,m)}c=c.child}return c;case 5:return Qw(c),l===null&&Xg(c),w=c.type,T=c.pendingProps,C=l!==null?l.memoizedProps:null,B=T.children,xe(w,T)?B=null:C!==null&&xe(w,C)&&(c.flags|=32),CS(l,c),ui(l,c,B,m),c.child;case 6:return l===null&&Xg(c),null;case 13:return DS(l,c,m);case 4:return qg(c,c.stateNode.containerInfo),w=c.pendingProps,l===null?c.child=al(c,null,w,m):ui(l,c,w,m),c.child;case 11:return w=c.type,T=c.pendingProps,T=c.elementType===w?T:gr(w,T),bS(l,c,w,T,m);case 7:return ui(l,c,c.pendingProps,m),c.child;case 8:return ui(l,c,c.pendingProps.children,m),c.child;case 12:return ui(l,c,c.pendingProps.children,m),c.child;case 10:e:{if(w=c.type._context,T=c.pendingProps,C=c.memoizedProps,B=T.value,Ow(c,w,B),C!==null)if(zr(C.value,B)){if(C.children===T.children&&!Dn.current){c=cs(l,c,m);break e}}else for(C=c.child,C!==null&&(C.return=c);C!==null;){var J=C.dependencies;if(J!==null){B=C.child;for(var de=J.firstContext;de!==null;){if(de.context===w){if(C.tag===1){de=os(-1,m&-m),de.tag=2;var Ee=C.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ve=Ee.pending;Ve===null?de.next=de:(de.next=Ve.next,Ve.next=de),Ee.pending=de}}C.lanes|=m,de=C.alternate,de!==null&&(de.lanes|=m),Bg(C.return,m,c),J.lanes|=m;break}de=de.next}}else if(C.tag===10)B=C.type===c.type?null:C.child;else if(C.tag===18){if(B=C.return,B===null)throw Error(o(341));B.lanes|=m,J=B.alternate,J!==null&&(J.lanes|=m),Bg(B,m,c),B=C.sibling}else B=C.child;if(B!==null)B.return=C;else for(B=C;B!==null;){if(B===c){B=null;break}if(C=B.sibling,C!==null){C.return=B.return,B=C;break}B=B.return}C=B}ui(l,c,T.children,m),c=c.child}return c;case 9:return T=c.type,w=c.pendingProps.children,il(c,m),T=qi(T),w=w(T),c.flags|=1,ui(l,c,w,m),c.child;case 14:return w=c.type,T=gr(w,c.pendingProps),T=gr(w.type,T),TS(l,c,w,T,m);case 15:return ES(l,c,c.type,c.pendingProps,m);case 17:return w=c.type,T=c.pendingProps,T=c.elementType===w?T:gr(w,T),l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2),c.tag=1,_i(w)?(l=!0,Cd(c)):l=!1,il(c,m),Ww(c,w,T),Hg(c,w,T,m),a0(null,c,w,!0,l,m);case 19:return zS(l,c,m);case 22:return AS(l,c,m)}throw Error(o(156,c.tag))};function o2(l,c){return Dg(l,c)}function ZR(l,c,m,w){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(l,c,m,w){return new ZR(l,c,m,w)}function P0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function JR(l){if(typeof l=="function")return P0(l)?1:0;if(l!=null){if(l=l.$$typeof,l===y)return 11;if(l===S)return 14}return 2}function Zs(l,c){var m=l.alternate;return m===null?(m=er(l.tag,c,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=c,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,c=l.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function xh(l,c,m,w,T,C){var B=2;if(w=l,typeof l=="function")P0(l)&&(B=1);else if(typeof l=="string")B=5;else e:switch(l){case d:return $o(m.children,T,C,c);case h:B=8,T|=8;break;case p:return l=er(12,m,c,T|2),l.elementType=p,l.lanes=C,l;case x:return l=er(13,m,c,T),l.elementType=x,l.lanes=C,l;case _:return l=er(19,m,c,T),l.elementType=_,l.lanes=C,l;case b:return _h(m,T,C,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case g:B=10;break e;case v:B=9;break e;case y:B=11;break e;case S:B=14;break e;case M:B=16,w=null;break e}throw Error(o(130,l==null?l:typeof l,""))}return c=er(B,m,c,T),c.elementType=l,c.type=w,c.lanes=C,c}function $o(l,c,m,w){return l=er(7,l,w,c),l.lanes=m,l}function _h(l,c,m,w){return l=er(22,l,w,c),l.elementType=b,l.lanes=m,l.stateNode={},l}function L0(l,c,m){return l=er(6,l,null,c),l.lanes=m,l}function R0(l,c,m){return c=er(4,l.children!==null?l.children:[],l.key,c),c.lanes=m,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function KR(l,c,m,w,T){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lg(0),this.expirationTimes=Lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lg(0),this.identifierPrefix=w,this.onRecoverableError=T,ie&&(this.mutableSourceEagerHydrationData=null)}function a2(l,c,m,w,T,C,B,J,de){return l=new KR(l,c,m,J,de),c===1?(c=1,C===!0&&(c|=8)):c=0,C=er(3,null,null,c),l.current=C,C.stateNode=l,C.memoizedState={element:w,isDehydrated:m,cache:null,transitions:null},Ug(C),l}function l2(l){if(!l)return Yi;l=l._reactInternals;e:{if(R(l)!==l||l.tag!==1)throw Error(o(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(_i(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(o(171))}if(l.tag===1){var m=l.type;if(_i(m))return Dw(l,m,c)}return c}function u2(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(o(188)):(l=Object.keys(l).join(","),Error(o(268,l)));return l=j(c),l===null?null:l.stateNode}function c2(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<c?m:c}}function D0(l,c){c2(l,c),(l=l.alternate)&&c2(l,c)}function QR(l){return l=j(l),l===null?null:l.stateNode}function $R(){return null}return t.attemptContinuousHydration=function(l){if(l.tag===13){var c=ci();$i(l,134217728,c),D0(l,134217728)}},t.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var c=ci(),m=Ys(l);$i(l,m,c),D0(l,m)}},t.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var m=Hu(c.pendingLanes);m!==0&&(Rg(c,m|1),Si(c,kn()),!(vt&6)&&(hl(),Or()))}break;case 13:var w=ci();QS(function(){return $i(l,1,w)}),D0(l,1)}},t.batchedUpdates=function(l,c){var m=vt;vt|=1;try{return l(c)}finally{vt=m,vt===0&&(hl(),kd&&Or())}},t.createComponentSelector=function(l){return{$$typeof:sh,value:l}},t.createContainer=function(l,c,m,w,T,C,B){return a2(l,c,!1,null,m,w,T,C,B)},t.createHasPseudoClassSelector=function(l){return{$$typeof:oh,value:l}},t.createHydrationContainer=function(l,c,m,w,T,C,B,J,de){return l=a2(m,w,!0,l,T,C,B,J,de),l.context=l2(null),m=l.current,w=ci(),T=Ys(m),C=os(w,T),C.callback=c??null,Gs(m,C),l.current.lanes=T,Wu(l,T,w),Si(l,w),l},t.createPortal=function(l,c,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:w==null?null:""+w,children:l,containerInfo:c,implementation:m}},t.createRoleSelector=function(l){return{$$typeof:ah,value:l}},t.createTestNameSelector=function(l){return{$$typeof:lh,value:l}},t.createTextSelector=function(l){return{$$typeof:uh,value:l}},t.deferredUpdates=function(l){var c=Pt,m=dn.transition;try{return dn.transition=null,Pt=16,l()}finally{Pt=c,dn.transition=m}},t.discreteUpdates=function(l,c,m,w,T){var C=Pt,B=dn.transition;try{return dn.transition=null,Pt=1,l(c,m,w,T)}finally{Pt=C,dn.transition=B,vt===0&&hl()}},t.findAllNodes=y0,t.findBoundingRects=function(l,c){if(!bt)throw Error(o(363));c=y0(l,c),l=[];for(var m=0;m<c.length;m++)l.push(U(c[m]));for(c=l.length-1;0<c;c--){m=l[c];for(var w=m.x,T=w+m.width,C=m.y,B=C+m.height,J=c-1;0<=J;J--)if(c!==J){var de=l[J],Ee=de.x,Ve=Ee+de.width,at=de.y,et=at+de.height;if(w>=Ee&&C>=at&&T<=Ve&&B<=et){l.splice(c,1);break}else if(w!==Ee||m.width!==de.width||et<C||at>B){if(!(C!==at||m.height!==de.height||Ve<w||Ee>T)){Ee>w&&(de.width+=Ee-w,de.x=w),Ve<T&&(de.width=T-Ee),l.splice(c,1);break}}else{at>C&&(de.height+=at-C,de.y=C),et<B&&(de.height=B-at),l.splice(c,1);break}}}return l},t.findHostInstance=u2,t.findHostInstanceWithNoPortals=function(l){return l=F(l),l=l!==null?W(l):null,l===null?null:l.stateNode},t.findHostInstanceWithWarning=function(l){return u2(l)},t.flushControlled=function(l){var c=vt;vt|=1;var m=dn.transition,w=Pt;try{dn.transition=null,Pt=1,l()}finally{Pt=w,dn.transition=m,vt=c,vt===0&&(hl(),Or())}},t.flushPassiveEffects=Qo,t.flushSync=QS,t.focusWithin=function(l,c){if(!bt)throw Error(o(363));for(l=m0(l),c=ZS(l,c),c=Array.from(c),l=0;l<c.length;){var m=c[l++];if(!le(m)){if(m.tag===5&&Ce(m.stateNode))return!0;for(m=m.child;m!==null;)c.push(m),m=m.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Pt},t.getFindAllNodesFailureDescription=function(l,c){if(!bt)throw Error(o(363));var m=0,w=[];l=[m0(l),0];for(var T=0;T<l.length;){var C=l[T++],B=l[T++],J=c[B];if((C.tag!==5||!le(C))&&(g0(C,J)&&(w.push(v0(J)),B++,B>m&&(m=B)),B<c.length))for(C=C.child;C!==null;)l.push(C,B),C=C.sibling}if(m<c.length){for(l=[];m<c.length;m++)l.push(v0(c[m]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},t.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return se(l.child.stateNode);default:return l.child.stateNode}},t.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:QR,findFiberByHostInstance:l.findFiberByHostInstance||$R,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)l=!0;else{try{Dd=c.inject(l),Nr=c}catch{}l=!!c.checkDCE}}return l},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(l,c,m,w){if(!bt)throw Error(o(363));l=y0(l,c);var T=Ie(l,m,w).disconnect;return{disconnect:function(){T()}}},t.registerMutableSourceForHydration=function(l,c){var m=c._getVersion;m=m(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,m]:l.mutableSourceEagerHydrationData.push(c,m)},t.runWithPriority=function(l,c){var m=Pt;try{return Pt=l,c()}finally{Pt=m}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(l,c,m,w){var T=c.current,C=ci(),B=Ys(T);return m=l2(m),c.context===null?c.context=m:c.pendingContext=m,c=os(C,B),c.payload={element:l},w=w===void 0?null:w,w!==null&&(c.callback=w),Gs(T,c),l=$i(T,B,C),l!==null&&Od(l,T,B),B},t};zL.exports=gW;var vW=zL.exports;const yW=Hm(vW);var OL={exports:{}},FL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,H){var V=k.length;k.push(H);e:for(;0<V;){var te=V-1>>>1,G=k[te];if(0<r(G,H))k[te]=H,k[V]=G,V=te;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var H=k[0],V=k.pop();if(V!==H){k[0]=V;e:for(var te=0,G=k.length,fe=G>>>1;te<fe;){var ue=2*(te+1)-1,xe=k[ue],K=ue+1,be=k[K];if(0>r(xe,V))K<G&&0>r(be,xe)?(k[te]=be,k[K]=V,te=K):(k[te]=xe,k[ue]=V,te=ue);else if(K<G&&0>r(be,V))k[te]=be,k[K]=V,te=K;else break e}}return H}function r(k,H){var V=k.sortIndex-H.sortIndex;return V!==0?V:k.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],f=[],d=1,h=null,p=3,g=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(k){for(var H=t(f);H!==null;){if(H.callback===null)i(f);else if(H.startTime<=k)i(f),H.sortIndex=H.expirationTime,e(u,H);else break;H=t(f)}}function b(k){if(y=!1,M(k),!v)if(t(u)!==null)v=!0,se(A);else{var H=t(f);H!==null&&ae(b,H.startTime-k)}}function A(k,H){v=!1,y&&(y=!1,_(E),E=-1),g=!0;var V=p;try{for(M(H),h=t(u);h!==null&&(!(h.expirationTime>H)||k&&!F());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var G=te(h.expirationTime<=H);H=n.unstable_now(),typeof G=="function"?h.callback=G:h===t(u)&&i(u),M(H)}else i(u);h=t(u)}if(h!==null)var fe=!0;else{var ue=t(f);ue!==null&&ae(b,ue.startTime-H),fe=!1}return fe}finally{h=null,p=V,g=!1}}var P=!1,D=null,E=-1,R=5,I=-1;function F(){return!(n.unstable_now()-I<R)}function j(){if(D!==null){var k=n.unstable_now();I=k;var H=!0;try{H=D(!0,k)}finally{H?Y():(P=!1,D=null)}}else P=!1}var Y;if(typeof S=="function")Y=function(){S(j)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=j,Y=function(){$.postMessage(null)}}else Y=function(){x(j,0)};function se(k){D=k,P||(P=!0,Y())}function ae(k,H){E=x(function(){k(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,se(A))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var V=p;p=H;try{return k()}finally{p=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=p;p=k;try{return H()}finally{p=V}},n.unstable_scheduleCallback=function(k,H,V){var te=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?te+V:te):V=te,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=V+G,k={id:d++,callback:H,priorityLevel:k,startTime:V,expirationTime:G,sortIndex:-1},V>te?(k.sortIndex=V,e(f,k),t(u)===null&&k===t(f)&&(y?(_(E),E=-1):y=!0,ae(b,V-te))):(k.sortIndex=G,e(u,k),v||g||(v=!0,se(A))),k},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(k){var H=p;return function(){var V=p;p=H;try{return k.apply(this,arguments)}finally{p=V}}}})(FL);OL.exports=FL;var dT=OL.exports;const Cw={},xW=n=>void Object.assign(Cw,n);function _W(n,e){function t(d,{args:h=[],attach:p,...g},v){let y=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=g.object;x=Nl(_,{type:d,root:v,attach:p,primitive:!0})}else{const _=Cw[y];if(!_)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=Nl(new _(...h),{type:d,root:v,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x instanceof mt?x.__r3f.attach="geometry":x instanceof jn&&(x.__r3f.attach="material")),y!=="inject"&&ry(x,g),x}function i(d,h){let p=!1;if(h){var g,v;(g=h.__r3f)!=null&&g.attach?iy(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(v=d.__r3f)==null||v.objects.push(h),h.__r3f||Nl(h,{}),h.__r3f.parent=d,gx(h),zl(h)}}function r(d,h,p){let g=!1;if(h){var v,y;if((v=h.__r3f)!=null&&v.attach)iy(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"});const x=d.children.filter(S=>S!==h),_=x.indexOf(p);d.children=[...x.slice(0,_),h,...x.slice(_)],g=!0}g||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||Nl(h,{}),h.__r3f.parent=d,gx(h),zl(h)}}function s(d,h,p=!1){d&&[...d].forEach(g=>o(h,g,p))}function o(d,h,p){if(h){var g,v,y;if(h.__r3f&&(h.__r3f.parent=null),(g=d.__r3f)!=null&&g.objects&&(d.__r3f.objects=d.__r3f.objects.filter(b=>b!==h)),(v=h.__r3f)!=null&&v.attach)vT(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var x;d.remove(h),(x=h.__r3f)!=null&&x.root&&AW(h.__r3f.root,h)}const S=(y=h.__r3f)==null?void 0:y.primitive,M=p===void 0?h.dispose!==null&&!S:p;if(!S){var _;s((_=h.__r3f)==null?void 0:_.objects,h,M),s(h.children,h,M)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,S||delete h.__r3f),M&&h.dispose&&h.type!=="Scene"&&dT.unstable_scheduleCallback(dT.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),zl(d)}}function a(d,h,p,g){var v;const y=(v=d.__r3f)==null?void 0:v.parent;if(!y)return;const x=t(h,p,d.__r3f.root);if(d.children){for(const _ of d.children)_.__r3f&&i(x,_);d.children=d.children.filter(_=>!_.__r3f)}d.__r3f.objects.forEach(_=>i(x,_)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(y,d),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(y,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[g,g.alternate].forEach(_=>{_!==null&&(_.stateNode=x,_.ref&&(typeof _.ref=="function"?_.ref(x):_.ref.current=x))})}const u=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:yW({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const g=d.getState().scene;g.__r3f&&r(g,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,g){if(d.__r3f.primitive&&g.object&&g.object!==d)return[!0];{const{args:v=[],children:y,...x}=g,{args:_=[],children:S,...M}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((A,P)=>A!==_[P]))return[!0];const b=jL(d,x,M,!0);return b.changes.length?[!1,b]:null}},commitUpdate(d,[h,p],g,v,y,x){h?a(d,g,y,x):ry(d,p)},commitMount(d,h,p,g){var v;const y=(v=d.__r3f)!=null?v:{};d.raycast&&y.handlers&&y.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Nl(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:g}=(h=d.__r3f)!=null?h:{};p&&g&&vT(g,d,p),d.isObject3D&&(d.visible=!1),zl(d)},unhideInstance(d,h){var p;const{attach:g,parent:v}=(p=d.__r3f)!=null?p:{};g&&v&&iy(v,d,g),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),zl(d)},createTextInstance:u,hideTextInstance:u,unhideTextInstance:u,getCurrentEventPriority:()=>e?e():ru.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Zt.fun(performance.now)?performance.now:Zt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Zt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Zt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ry}}var hT,pT;const ny=n=>"colorSpace"in n||"outputColorSpace"in n,BL=()=>{var n;return(n=Cw.ColorManagement)!=null?n:null},UL=n=>n&&n.isOrthographicCamera,wW=n=>n&&n.hasOwnProperty("current"),bd=typeof window<"u"&&((hT=window.document)!=null&&hT.createElement||((pT=window.navigator)==null?void 0:pT.product)==="ReactNative")?X.useLayoutEffect:X.useEffect;function VL(n){const e=X.useRef(n);return bd(()=>void(e.current=n),[n]),e}function SW({set:n}){return bd(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class HL extends X.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}HL.getDerivedStateFromError=()=>({error:!0});const WL="__default",mT=new Map,MW=n=>n&&!!n.memoized&&!!n.changes;function GL(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Cc=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Zt={obj:n=>n===Object(n)&&!Zt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Zt.str(n)||Zt.num(n))return n===e;const s=Zt.obj(n);if(s&&i==="reference")return n===e;const o=Zt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Zt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Zt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function bW(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Nl(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function mx(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const gT=/-\d+$/;function iy(n,e,t){if(Zt.str(t)){if(gT.test(t)){const s=t.replace(gT,""),{target:o,key:a}=mx(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=mx(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function vT(n,e,t){var i,r;if(Zt.str(t)){const{target:s,key:o}=mx(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function jL(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...u}={},f=!1){var d;const h=(d=n==null?void 0:n.__r3f)!=null?d:{},p=Object.entries(r),g=[];if(f){const y=Object.keys(u);for(let x=0;x<y.length;x++)r.hasOwnProperty(y[x])||p.unshift([y[x],WL+"remove"])}p.forEach(([y,x])=>{var _;if((_=n.__r3f)!=null&&_.primitive&&y==="object"||Zt.equ(x,u[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return g.push([y,x,!0,[]]);let S=[];y.includes("-")&&(S=y.split("-")),g.push([y,x,!1,S]);for(const M in r){const b=r[M];M.startsWith(`${y}-`)&&g.push([M,b,!1,M.split("-")])}});const v={...r};return h.memoizedProps&&h.memoizedProps.args&&(v.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(v.attach=h.memoizedProps.attach),{memoized:v,changes:g}}function ry(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:u,changes:f}=MW(e)?e:jL(n,e),d=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=u);for(let p=0;p<f.length;p++){let[g,v,y,x]=f[p];if(ny(n)){const b="srgb",A="srgb-linear";g==="encoding"?(g="colorSpace",v=v===3001?b:A):g==="outputEncoding"&&(g="outputColorSpace",v=v===3001?b:A)}let _=n,S=_[g];if(x.length&&(S=x.reduce((M,b)=>M[b],n),!(S&&S.set))){const[M,...b]=x.reverse();_=b.reverse().reduce((A,P)=>A[P],n),g=M}if(v===WL+"remove")if(_.constructor){let M=mT.get(_.constructor);M||(M=new _.constructor,mT.set(_.constructor,M)),v=M[g]}else v=0;if(y)v?s.handlers[g]=v:delete s.handlers[g],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof Ia)){if(Array.isArray(v))S.fromArray?S.fromArray(v):S.set(...v);else if(S.copy&&v&&v.constructor&&S.constructor===v.constructor)S.copy(v);else if(v!==void 0){const M=S instanceof Be;!M&&S.setScalar?S.setScalar(v):S instanceof Ia&&v instanceof Ia?S.mask=v.mask:S.set(v),!BL()&&!a.linear&&M&&S.convertSRGBToLinear()}}else if(_[g]=v,_[g]instanceof fn&&_[g].format===Ti&&_[g].type===Os){const M=_[g];ny(M)&&ny(a.gl)?M.colorSpace=a.gl.outputColorSpace:M.encoding=a.gl.outputEncoding}zl(n)}if(s.parent&&a.internal&&n.raycast&&d!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(f.length===1&&f[0][0]==="onUpdate")&&f.length&&(r=n.__r3f)!=null&&r.parent&&gx(n),n}function zl(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function gx(n){n.onUpdate==null||n.onUpdate(n)}function TW(n,e){n.manual||(UL(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Ep(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function EW(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ru.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ru.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ru.ContinuousEventPriority;default:return ru.DefaultEventPriority}}function XL(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function AW(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{XL(t.capturedMap,e,i,r)})}function CW(n){function e(u){const{internal:f}=n.getState(),d=u.offsetX-f.initialClick[0],h=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=f.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(u,f){const d=n.getState(),h=new Set,p=[],g=f?f(d.internal.interaction):d.internal.interaction;for(let _=0;_<g.length;_++){const S=Cc(g[_]);S&&(S.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(u,d);function v(_){const S=Cc(_);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var M;S.events.compute==null||S.events.compute(u,S,(M=S.previousRoot)==null?void 0:M.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(_,!0):[]}let y=g.flatMap(v).sort((_,S)=>{const M=Cc(_.object),b=Cc(S.object);return!M||!b?_.distance-S.distance:b.events.priority-M.events.priority||_.distance-S.distance}).filter(_=>{const S=Ep(_);return h.has(S)?!1:(h.add(S),!0)});d.events.filter&&(y=d.events.filter(y,d));for(const _ of y){let S=_.object;for(;S;){var x;(x=S.__r3f)!=null&&x.eventCount&&p.push({..._,eventObject:S}),S=S.parent}}if("pointerId"in u&&d.internal.capturedMap.has(u.pointerId))for(let _ of d.internal.capturedMap.get(u.pointerId).values())h.has(Ep(_.intersection))||p.push(_.intersection);return p}function r(u,f,d,h){const p=n.getState();if(u.length){const g={stopped:!1};for(const v of u){const y=Cc(v.object)||p,{raycaster:x,pointer:_,camera:S,internal:M}=y,b=new z(_.x,_.y,0).unproject(S),A=I=>{var F,j;return(F=(j=M.capturedMap.get(I))==null?void 0:j.has(v.eventObject))!=null?F:!1},P=I=>{const F={intersection:v,target:f.target};M.capturedMap.has(I)?M.capturedMap.get(I).set(v.eventObject,F):M.capturedMap.set(I,new Map([[v.eventObject,F]])),f.target.setPointerCapture(I)},D=I=>{const F=M.capturedMap.get(I);F&&XL(M.capturedMap,v.eventObject,F,I)};let E={};for(let I in f){let F=f[I];typeof F!="function"&&(E[I]=F)}let R={...v,...E,pointer:_,intersections:u,stopped:g.stopped,delta:d,unprojectedPoint:b,ray:x.ray,camera:S,stopPropagation(){const I="pointerId"in f&&M.capturedMap.get(f.pointerId);if((!I||I.has(v.eventObject))&&(R.stopped=g.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(F=>F.eventObject===v.eventObject))){const F=u.slice(0,u.indexOf(v));s([...F,v])}},target:{hasPointerCapture:A,setPointerCapture:P,releasePointerCapture:D},currentTarget:{hasPointerCapture:A,setPointerCapture:P,releasePointerCapture:D},nativeEvent:f};if(h(R),g.stopped===!0)break}}return u}function s(u){const{internal:f}=n.getState();for(const d of f.hovered.values())if(!u.length||!u.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,g=p==null?void 0:p.handlers;if(f.hovered.delete(Ep(d)),p!=null&&p.eventCount){const v={...d,intersections:u};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function o(u,f){for(let d=0;d<f.length;d++){const h=f[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(u)}}function a(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return f=>{const{internal:d}=n.getState();"pointerId"in f&&d.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(f.pointerId)&&(d.capturedMap.delete(f.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const g=u==="onPointerMove",v=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",x=i(d,g?t:void 0),_=v?e(d):0;u==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=x.map(M=>M.eventObject)),v&&!x.length&&_<=2&&(o(d,p.interaction),h&&h(d)),g&&s(x);function S(M){const b=M.eventObject,A=b.__r3f,P=A==null?void 0:A.handlers;if(A!=null&&A.eventCount)if(g){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const D=Ep(M),E=p.hovered.get(D);E?E.stopped&&M.stopPropagation():(p.hovered.set(D,M),P.onPointerOver==null||P.onPointerOver(M),P.onPointerEnter==null||P.onPointerEnter(M))}P.onPointerMove==null||P.onPointerMove(M)}else{const D=P[u];D?(!v||p.initialHits.includes(b))&&(o(d,p.interaction.filter(E=>!p.initialHits.includes(E))),D(M)):v&&p.initialHits.includes(b)&&o(d,p.interaction.filter(E=>!p.initialHits.includes(E)))}}r(x,d,_,S)}}return{handlePointer:a}}const YL=n=>!!(n!=null&&n.render),qL=X.createContext(null),PW=(n,e)=>{const t=hW((a,u)=>{const f=new z,d=new z,h=new z;function p(_=u().camera,S=d,M=u().size){const{width:b,height:A,top:P,left:D}=M,E=b/A;S instanceof z?h.copy(S):h.set(...S);const R=_.getWorldPosition(f).distanceTo(h);if(UL(_))return{width:b/_.zoom,height:A/_.zoom,top:P,left:D,factor:1,distance:R,aspect:E};{const I=_.fov*Math.PI/180,F=2*Math.tan(I/2)*R,j=F*(b/A);return{width:j,height:F,top:P,left:D,factor:b/j,distance:R,aspect:E}}}let g;const v=_=>a(S=>({performance:{...S.performance,current:_}})),y=new ve;return{set:a,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>n(u(),_),advance:(_,S)=>e(_,S,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new bw,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=u();g&&clearTimeout(g),_.performance.current!==_.performance.min&&v(_.performance.min),g=setTimeout(()=>v(u().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:_=>a(S=>({...S,events:{...S.events,..._}})),setSize:(_,S,M,b,A)=>{const P=u().camera,D={width:_,height:S,top:b||0,left:A||0,updateStyle:M};a(E=>({size:D,viewport:{...E.viewport,...p(P,d,D)}}))},setDpr:_=>a(S=>{const M=GL(_);return{viewport:{...S.viewport,dpr:M,initialDpr:S.viewport.initialDpr||M}}}),setFrameloop:(_="always")=>{const S=u().clock;S.stop(),S.elapsedTime=0,_!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:X.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,S,M)=>{const b=u().internal;return b.priority=b.priority+(S>0?1:0),b.subscribers.push({ref:_,priority:S,store:M}),b.subscribers=b.subscribers.sort((A,P)=>A.priority-P.priority),()=>{const A=u().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(S>0?1:0),A.subscribers=A.subscribers.filter(P=>P.ref!==_))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:u,viewport:f,gl:d,set:h}=t.getState();if(u!==r||f.dpr!==s){var p;r=u,s=f.dpr,TW(a,u),d.setPixelRatio(f.dpr);const g=(p=u.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(u.width,u.height,g)}a!==o&&(o=a,h(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Ap,LW=new Set,RW=new Set,DW=new Set;function sy(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Pc(n,e){switch(n){case"before":return sy(LW,e);case"after":return sy(RW,e);case"tail":return sy(DW,e)}}let oy,ay;function ly(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),oy=e.internal.subscribers,Ap=0;Ap<oy.length;Ap++)ay=oy[Ap],ay.ref.current(ay.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function kW(n){let e=!1,t,i,r;function s(u){i=requestAnimationFrame(s),e=!0,t=0,Pc("before",u);for(const d of n.values()){var f;r=d.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((f=r.gl.xr)!=null&&f.isPresenting)&&(t+=ly(u,r))}if(Pc("after",u),t===0)return Pc("tail",u),e=!1,cancelAnimationFrame(i)}function o(u,f=1){var d;if(!u)return n.forEach(h=>o(h.store.getState()),f);(d=u.gl.xr)!=null&&d.isPresenting||!u.internal.active||u.frameloop==="never"||(u.internal.frames=Math.min(60,u.internal.frames+f),e||(e=!0,requestAnimationFrame(s)))}function a(u,f=!0,d,h){if(f&&Pc("before",u),d)ly(u,d,h);else for(const p of n.values())ly(u,p.store.getState());f&&Pc("after",u)}return{loop:s,invalidate:o,advance:a}}function ZL(){const n=X.useContext(qL);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ys(n=t=>t,e){return ZL()(n,e)}function Pw(n,e=0){const t=ZL(),i=t.getState().internal.subscribe,r=VL(n);return bd(()=>i(r,e,t),[e,i,t]),null}const Eu=new Map,{invalidate:yT,advance:xT}=kW(Eu),{reconciler:Bm,applyProps:kl}=_W(Eu,EW),Il={objects:"shallow",strict:!1},IW=(n,e)=>{const t=typeof n=="function"?n(e):n;return YL(t)?t:new sw({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function NW(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function zW(n){const e=Eu.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||PW(yT,xT),o=t||Bm.createContainer(s,ru.ConcurrentRoot,null,!1,null,"",r,null);e||Eu.set(n,{fiber:o,store:s});let a,u=!1,f;return{configure(d={}){let{gl:h,size:p,scene:g,events:v,onCreated:y,shadows:x=!1,linear:_=!1,flat:S=!1,legacy:M=!1,orthographic:b=!1,frameloop:A="always",dpr:P=[1,2],performance:D,raycaster:E,camera:R,onPointerMissed:I}=d,F=s.getState(),j=F.gl;F.gl||F.set({gl:j=IW(h,n)});let Y=F.raycaster;Y||F.set({raycaster:Y=new kL});const{params:W,...$}=E||{};if(Zt.equ($,Y,Il)||kl(Y,{...$}),Zt.equ(W,Y.params,Il)||kl(Y,{params:{...Y.params,...W}}),!F.camera||F.camera===f&&!Zt.equ(f,R,Il)){f=R;const te=R instanceof ud,G=te?R:b?new Mo(0,0,0,0,.1,1e3):new xn(75,0,.1,1e3);te||(G.position.z=5,R&&kl(G,R),!F.camera&&!(R!=null&&R.rotation)&&G.lookAt(0,0,0)),F.set({camera:G})}if(!F.scene){let te;g instanceof Fm?te=g:(te=new Fm,g&&kl(te,g)),F.set({scene:Nl(te)})}if(!F.xr){const te=(ue,xe)=>{const K=s.getState();K.frameloop!=="never"&&xT(ue,!0,K,xe)},G=()=>{const ue=s.getState();ue.gl.xr.enabled=ue.gl.xr.isPresenting,ue.gl.xr.setAnimationLoop(ue.gl.xr.isPresenting?te:null),ue.gl.xr.isPresenting||yT(ue)},fe={connect(){const ue=s.getState().gl;ue.xr.addEventListener("sessionstart",G),ue.xr.addEventListener("sessionend",G)},disconnect(){const ue=s.getState().gl;ue.xr.removeEventListener("sessionstart",G),ue.xr.removeEventListener("sessionend",G)}};j.xr&&fe.connect(),F.set({xr:fe})}if(j.shadowMap){const te=j.shadowMap.enabled,G=j.shadowMap.type;if(j.shadowMap.enabled=!!x,Zt.boo(x))j.shadowMap.type=Kc;else if(Zt.str(x)){var se;const fe={basic:NP,percentage:hg,soft:Kc,variance:Sa};j.shadowMap.type=(se=fe[x])!=null?se:Kc}else Zt.obj(x)&&Object.assign(j.shadowMap,x);(te!==j.shadowMap.enabled||G!==j.shadowMap.type)&&(j.shadowMap.needsUpdate=!0)}const ae=BL();ae&&("enabled"in ae?ae.enabled=!M:"legacyMode"in ae&&(ae.legacyMode=M)),kl(j,{outputEncoding:_?3e3:3001,toneMapping:S?Lr:Y_}),F.legacy!==M&&F.set(()=>({legacy:M})),F.linear!==_&&F.set(()=>({linear:_})),F.flat!==S&&F.set(()=>({flat:S})),h&&!Zt.fun(h)&&!YL(h)&&!Zt.equ(h,j,Il)&&kl(j,h),v&&!F.events.handlers&&F.set({events:v(s)});const V=NW(n,p);return Zt.equ(V,F.size,Il)||F.setSize(V.width,V.height,V.updateStyle,V.top,V.left),P&&F.viewport.dpr!==GL(P)&&F.setDpr(P),F.frameloop!==A&&F.setFrameloop(A),F.onPointerMissed||F.set({onPointerMissed:I}),D&&!Zt.equ(D,F.performance,Il)&&F.set(te=>({performance:{...te.performance,...D}})),a=y,u=!0,this},render(d){return u||this.configure(),Bm.updateContainer(X.createElement(OW,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){JL(n)}}}function OW({store:n,children:e,onCreated:t,rootElement:i}){return bd(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),X.createElement(qL.Provider,{value:n},e)}function JL(n,e){const t=Eu.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Bm.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,u;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),bW(r),Eu.delete(n)}catch{}},500)})}}Bm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:X.version});function Zf(){return Zf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zf.apply(null,arguments)}function _T(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function FW({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=X.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=X.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,f=n?typeof n=="number"?n:n.resize:null,d=X.useRef(!1);X.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,p,g]=X.useMemo(()=>{const _=()=>{if(!a.current.element)return;const{left:S,top:M,width:b,height:A,bottom:P,right:D,x:E,y:R}=a.current.element.getBoundingClientRect(),I={left:S,top:M,width:b,height:A,bottom:P,right:D,x:E,y:R};a.current.element instanceof HTMLElement&&i&&(I.height=a.current.element.offsetHeight,I.width=a.current.element.offsetWidth),Object.freeze(I),d.current&&!HW(a.current.lastBounds,I)&&o(a.current.lastBounds=I)};return[_,f?_T(_,f):_,u?_T(_,u):_]},[o,i,u,f]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function y(){a.current.element&&(a.current.resizeObserver=new r(g),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(_=>_.addEventListener("scroll",g,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const x=_=>{!_||_===a.current.element||(v(),a.current.element=_,a.current.scrollContainers=KL(_),y())};return UW(g,!!e),BW(p),X.useEffect(()=>{v(),y()},[e,g,p]),X.useEffect(()=>v,[]),[x,s,h]}function BW(n){X.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function UW(n,e){X.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function KL(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...KL(n.parentElement)]}const VW=["x","y","top","bottom","left","right","width","height"],HW=(n,e)=>VW.every(t=>n[t]===e[t]);var WW=Object.defineProperty,GW=Object.defineProperties,jW=Object.getOwnPropertyDescriptors,wT=Object.getOwnPropertySymbols,XW=Object.prototype.hasOwnProperty,YW=Object.prototype.propertyIsEnumerable,ST=(n,e,t)=>e in n?WW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,MT=(n,e)=>{for(var t in e||(e={}))XW.call(e,t)&&ST(n,t,e[t]);if(wT)for(var t of wT(e))YW.call(e,t)&&ST(n,t,e[t]);return n},qW=(n,e)=>GW(n,jW(e)),bT,TT;typeof window<"u"&&((bT=window.document)!=null&&bT.createElement||((TT=window.navigator)==null?void 0:TT.product)==="ReactNative")?X.useLayoutEffect:X.useEffect;function QL(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=QL(i,e,t);if(r)return r;i=i.sibling}}function $L(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const ET=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=ET;return}return ET.apply(this,arguments)};const Lw=$L(X.createContext(null));class eR extends X.Component{render(){return X.createElement(Lw.Provider,{value:this._reactInternals},this.props.children)}}function ZW(){const n=X.useContext(Lw);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=X.useId();return X.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=QL(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function JW(){const n=ZW(),[e]=X.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==Lw&&!e.has(r)&&e.set(r,X.useContext($L(r)))}t=t.return}return e}function KW(){const n=JW();return X.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>X.createElement(e,null,X.createElement(t.Provider,qW(MT({},i),{value:n.get(t)}))),e=>X.createElement(eR,MT({},e))),[n])}const uy={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function QW(n){const{handlePointer:e}=CW(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(uy).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[u,f]=uy[o];t.addEventListener(u,a,{passive:f})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=uy[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const $W=X.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=QW,eventSource:a,eventPrefix:u,shadows:f,linear:d,flat:h,legacy:p,orthographic:g,frameloop:v,dpr:y,performance:x,raycaster:_,camera:S,onPointerMissed:M,onCreated:b,...A},P){X.useMemo(()=>xW(cW),[]);const D=KW(),[E,R]=FW({scroll:!0,debounce:{scroll:50,resize:0},...i}),I=X.useRef(null),F=X.useRef(null);X.useImperativeHandle(P,()=>I.current);const j=VL(M),[Y,W]=X.useState(!1),[$,se]=X.useState(!1);if(Y)throw Y;if($)throw $;const ae=X.useRef(null);bd(()=>{const H=I.current;R.width>0&&R.height>0&&H&&(ae.current||(ae.current=zW(H)),ae.current.configure({gl:s,events:o,shadows:f,linear:d,flat:h,legacy:p,orthographic:g,frameloop:v,dpr:y,performance:x,raycaster:_,camera:S,size:R,onPointerMissed:(...V)=>j.current==null?void 0:j.current(...V),onCreated:V=>{V.events.connect==null||V.events.connect(a?wW(a)?a.current:a:F.current),u&&V.setEvents({compute:(te,G)=>{const fe=te[u+"X"],ue=te[u+"Y"];G.pointer.set(fe/G.size.width*2-1,-(ue/G.size.height)*2+1),G.raycaster.setFromCamera(G.pointer,G.camera)}}),b==null||b(V)}}),ae.current.render(X.createElement(D,null,X.createElement(HL,{set:se},X.createElement(X.Suspense,{fallback:X.createElement(SW,{set:W})},e)))))}),X.useEffect(()=>{const H=I.current;if(H)return()=>JL(H)},[]);const k=a?"none":"auto";return X.createElement("div",Zf({ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:k,...r}},A),X.createElement("div",{ref:E,style:{width:"100%",height:"100%"}},X.createElement("canvas",{ref:I,style:{display:"block"}},t)))}),eG=X.forwardRef(function(e,t){return X.createElement(eR,null,X.createElement($W,Zf({},e,{ref:t})))});var tG=Object.defineProperty,nG=(n,e,t)=>e in n?tG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,iG=(n,e,t)=>(nG(n,e+"",t),t);class rG{constructor(){iG(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}var sG=Object.defineProperty,oG=(n,e,t)=>e in n?sG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tt=(n,e,t)=>(oG(n,typeof e!="symbol"?e+"":e,t),t);const Cp=new Iu,AT=new ws,aG=Math.cos(70*(Math.PI/180)),CT=(n,e)=>(n%e+e)%e;let lG=class extends rG{constructor(e,t){super(),tt(this,"object"),tt(this,"domElement"),tt(this,"enabled",!0),tt(this,"target",new z),tt(this,"minDistance",0),tt(this,"maxDistance",1/0),tt(this,"minZoom",0),tt(this,"maxZoom",1/0),tt(this,"minPolarAngle",0),tt(this,"maxPolarAngle",Math.PI),tt(this,"minAzimuthAngle",-1/0),tt(this,"maxAzimuthAngle",1/0),tt(this,"enableDamping",!1),tt(this,"dampingFactor",.05),tt(this,"enableZoom",!0),tt(this,"zoomSpeed",1),tt(this,"enableRotate",!0),tt(this,"rotateSpeed",1),tt(this,"enablePan",!0),tt(this,"panSpeed",1),tt(this,"screenSpacePanning",!0),tt(this,"keyPanSpeed",7),tt(this,"zoomToCursor",!1),tt(this,"autoRotate",!1),tt(this,"autoRotateSpeed",2),tt(this,"reverseOrbit",!1),tt(this,"reverseHorizontalOrbit",!1),tt(this,"reverseVerticalOrbit",!1),tt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),tt(this,"mouseButtons",{LEFT:da.ROTATE,MIDDLE:da.DOLLY,RIGHT:da.PAN}),tt(this,"touches",{ONE:ha.ROTATE,TWO:ha.DOLLY_PAN}),tt(this,"target0"),tt(this,"position0"),tt(this,"zoom0"),tt(this,"_domElementKeyEvents",null),tt(this,"getPolarAngle"),tt(this,"getAzimuthalAngle"),tt(this,"setPolarAngle"),tt(this,"setAzimuthalAngle"),tt(this,"getDistance"),tt(this,"getZoomScale"),tt(this,"listenToKeyEvents"),tt(this,"stopListenToKeyEvents"),tt(this,"saveState"),tt(this,"reset"),tt(this,"update"),tt(this,"connect"),tt(this,"dispose"),tt(this,"dollyIn"),tt(this,"dollyOut"),tt(this,"getScale"),tt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=Z=>{let _e=CT(Z,2*Math.PI),Fe=d.phi;Fe<0&&(Fe+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let q=Math.abs(_e-Fe);2*Math.PI-q<q&&(_e<Fe?_e+=2*Math.PI:Fe+=2*Math.PI),h.phi=_e-Fe,i.update()},this.setAzimuthalAngle=Z=>{let _e=CT(Z,2*Math.PI),Fe=d.theta;Fe<0&&(Fe+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let q=Math.abs(_e-Fe);2*Math.PI-q<q&&(_e<Fe?_e+=2*Math.PI:Fe+=2*Math.PI),h.theta=_e-Fe,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Z=>{Z.addEventListener("keydown",it),this._domElementKeyEvents=Z},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",it),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),u=a.NONE},this.update=(()=>{const Z=new z,_e=new z(0,1,0),Fe=new si().setFromUnitVectors(e.up,_e),q=Fe.clone().invert(),oe=new z,we=new si,Re=2*Math.PI;return function(){const xt=i.object.position;Fe.setFromUnitVectors(e.up,_e),q.copy(Fe).invert(),Z.copy(xt).sub(i.target),Z.applyQuaternion(Fe),d.setFromVector3(Z),i.autoRotate&&u===a.NONE&&W(j()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let kt=i.minAzimuthAngle,Ot=i.maxAzimuthAngle;isFinite(kt)&&isFinite(Ot)&&(kt<-Math.PI?kt+=Re:kt>Math.PI&&(kt-=Re),Ot<-Math.PI?Ot+=Re:Ot>Math.PI&&(Ot-=Re),kt<=Ot?d.theta=Math.max(kt,Math.min(Ot,d.theta)):d.theta=d.theta>(kt+Ot)/2?Math.max(kt,d.theta):Math.min(Ot,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(g,i.dampingFactor):i.target.add(g),i.zoomToCursor&&R||i.object.isOrthographicCamera?d.radius=fe(d.radius):d.radius=fe(d.radius*p),Z.setFromSpherical(d),Z.applyQuaternion(q),xt.copy(i.target).add(Z),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,g.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),g.set(0,0,0));let Xn=!1;if(i.zoomToCursor&&R){let Et=null;if(i.object instanceof xn&&i.object.isPerspectiveCamera){const Rn=Z.length();Et=fe(Rn*p);const bn=Rn-Et;i.object.position.addScaledVector(D,bn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Rn=new z(E.x,E.y,0);Rn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Xn=!0;const bn=new z(E.x,E.y,0);bn.unproject(i.object),i.object.position.sub(bn).add(Rn),i.object.updateMatrixWorld(),Et=Z.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Et!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Et).add(i.object.position):(Cp.origin.copy(i.object.position),Cp.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Cp.direction))<aG?e.lookAt(i.target):(AT.setFromNormalAndCoplanarPoint(i.object.up,i.target),Cp.intersectPlane(AT,i.target))))}else i.object instanceof Mo&&i.object.isOrthographicCamera&&(Xn=p!==1,Xn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,R=!1,Xn||oe.distanceToSquared(i.object.position)>f||8*(1-we.dot(i.object.quaternion))>f?(i.dispatchEvent(r),oe.copy(i.object.position),we.copy(i.object.quaternion),Xn=!1,!0):!1}})(),this.connect=Z=>{i.domElement=Z,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ze),i.domElement.addEventListener("pointerdown",U),i.domElement.addEventListener("pointercancel",le),i.domElement.addEventListener("wheel",Ie)},this.dispose=()=>{var Z,_e,Fe,q,oe,we;i.domElement&&(i.domElement.style.touchAction="auto"),(Z=i.domElement)==null||Z.removeEventListener("contextmenu",Ze),(_e=i.domElement)==null||_e.removeEventListener("pointerdown",U),(Fe=i.domElement)==null||Fe.removeEventListener("pointercancel",le),(q=i.domElement)==null||q.removeEventListener("wheel",Ie),(oe=i.domElement)==null||oe.ownerDocument.removeEventListener("pointermove",N),(we=i.domElement)==null||we.ownerDocument.removeEventListener("pointerup",le),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",it)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=a.NONE;const f=1e-6,d=new px,h=new px;let p=1;const g=new z,v=new ve,y=new ve,x=new ve,_=new ve,S=new ve,M=new ve,b=new ve,A=new ve,P=new ve,D=new z,E=new ve;let R=!1;const I=[],F={};function j(){return 2*Math.PI/60/60*i.autoRotateSpeed}function Y(){return Math.pow(.95,i.zoomSpeed)}function W(Z){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=Z:h.theta-=Z}function $(Z){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=Z:h.phi-=Z}const se=(()=>{const Z=new z;return function(Fe,q){Z.setFromMatrixColumn(q,0),Z.multiplyScalar(-Fe),g.add(Z)}})(),ae=(()=>{const Z=new z;return function(Fe,q){i.screenSpacePanning===!0?Z.setFromMatrixColumn(q,1):(Z.setFromMatrixColumn(q,0),Z.crossVectors(i.object.up,Z)),Z.multiplyScalar(Fe),g.add(Z)}})(),k=(()=>{const Z=new z;return function(Fe,q){const oe=i.domElement;if(oe&&i.object instanceof xn&&i.object.isPerspectiveCamera){const we=i.object.position;Z.copy(we).sub(i.target);let Re=Z.length();Re*=Math.tan(i.object.fov/2*Math.PI/180),se(2*Fe*Re/oe.clientHeight,i.object.matrix),ae(2*q*Re/oe.clientHeight,i.object.matrix)}else oe&&i.object instanceof Mo&&i.object.isOrthographicCamera?(se(Fe*(i.object.right-i.object.left)/i.object.zoom/oe.clientWidth,i.object.matrix),ae(q*(i.object.top-i.object.bottom)/i.object.zoom/oe.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function H(Z){i.object instanceof xn&&i.object.isPerspectiveCamera||i.object instanceof Mo&&i.object.isOrthographicCamera?p=Z:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function V(Z){H(p/Z)}function te(Z){H(p*Z)}function G(Z){if(!i.zoomToCursor||!i.domElement)return;R=!0;const _e=i.domElement.getBoundingClientRect(),Fe=Z.clientX-_e.left,q=Z.clientY-_e.top,oe=_e.width,we=_e.height;E.x=Fe/oe*2-1,E.y=-(q/we)*2+1,D.set(E.x,E.y,1).unproject(i.object).sub(i.object.position).normalize()}function fe(Z){return Math.max(i.minDistance,Math.min(i.maxDistance,Z))}function ue(Z){v.set(Z.clientX,Z.clientY)}function xe(Z){G(Z),b.set(Z.clientX,Z.clientY)}function K(Z){_.set(Z.clientX,Z.clientY)}function be(Z){y.set(Z.clientX,Z.clientY),x.subVectors(y,v).multiplyScalar(i.rotateSpeed);const _e=i.domElement;_e&&(W(2*Math.PI*x.x/_e.clientHeight),$(2*Math.PI*x.y/_e.clientHeight)),v.copy(y),i.update()}function Pe(Z){A.set(Z.clientX,Z.clientY),P.subVectors(A,b),P.y>0?V(Y()):P.y<0&&te(Y()),b.copy(A),i.update()}function ke(Z){S.set(Z.clientX,Z.clientY),M.subVectors(S,_).multiplyScalar(i.panSpeed),k(M.x,M.y),_.copy(S),i.update()}function Te(Z){G(Z),Z.deltaY<0?te(Y()):Z.deltaY>0&&V(Y()),i.update()}function Ge(Z){let _e=!1;switch(Z.code){case i.keys.UP:k(0,i.keyPanSpeed),_e=!0;break;case i.keys.BOTTOM:k(0,-i.keyPanSpeed),_e=!0;break;case i.keys.LEFT:k(i.keyPanSpeed,0),_e=!0;break;case i.keys.RIGHT:k(-i.keyPanSpeed,0),_e=!0;break}_e&&(Z.preventDefault(),i.update())}function he(){if(I.length==1)v.set(I[0].pageX,I[0].pageY);else{const Z=.5*(I[0].pageX+I[1].pageX),_e=.5*(I[0].pageY+I[1].pageY);v.set(Z,_e)}}function ie(){if(I.length==1)_.set(I[0].pageX,I[0].pageY);else{const Z=.5*(I[0].pageX+I[1].pageX),_e=.5*(I[0].pageY+I[1].pageY);_.set(Z,_e)}}function ye(){const Z=I[0].pageX-I[1].pageX,_e=I[0].pageY-I[1].pageY,Fe=Math.sqrt(Z*Z+_e*_e);b.set(0,Fe)}function De(){i.enableZoom&&ye(),i.enablePan&&ie()}function Ae(){i.enableZoom&&ye(),i.enableRotate&&he()}function nt(Z){if(I.length==1)y.set(Z.pageX,Z.pageY);else{const Fe=je(Z),q=.5*(Z.pageX+Fe.x),oe=.5*(Z.pageY+Fe.y);y.set(q,oe)}x.subVectors(y,v).multiplyScalar(i.rotateSpeed);const _e=i.domElement;_e&&(W(2*Math.PI*x.x/_e.clientHeight),$(2*Math.PI*x.y/_e.clientHeight)),v.copy(y)}function Ke(Z){if(I.length==1)S.set(Z.pageX,Z.pageY);else{const _e=je(Z),Fe=.5*(Z.pageX+_e.x),q=.5*(Z.pageY+_e.y);S.set(Fe,q)}M.subVectors(S,_).multiplyScalar(i.panSpeed),k(M.x,M.y),_.copy(S)}function qe(Z){const _e=je(Z),Fe=Z.pageX-_e.x,q=Z.pageY-_e.y,oe=Math.sqrt(Fe*Fe+q*q);A.set(0,oe),P.set(0,Math.pow(A.y/b.y,i.zoomSpeed)),V(P.y),b.copy(A)}function bt(Z){i.enableZoom&&qe(Z),i.enablePan&&Ke(Z)}function Tt(Z){i.enableZoom&&qe(Z),i.enableRotate&&nt(Z)}function U(Z){var _e,Fe;i.enabled!==!1&&(I.length===0&&((_e=i.domElement)==null||_e.ownerDocument.addEventListener("pointermove",N),(Fe=i.domElement)==null||Fe.ownerDocument.addEventListener("pointerup",le)),rt(Z),Z.pointerType==="touch"?ze(Z):Se(Z))}function N(Z){i.enabled!==!1&&(Z.pointerType==="touch"?ge(Z):Ce(Z))}function le(Z){var _e,Fe,q;He(Z),I.length===0&&((_e=i.domElement)==null||_e.releasePointerCapture(Z.pointerId),(Fe=i.domElement)==null||Fe.ownerDocument.removeEventListener("pointermove",N),(q=i.domElement)==null||q.ownerDocument.removeEventListener("pointerup",le)),i.dispatchEvent(o),u=a.NONE}function Se(Z){let _e;switch(Z.button){case 0:_e=i.mouseButtons.LEFT;break;case 1:_e=i.mouseButtons.MIDDLE;break;case 2:_e=i.mouseButtons.RIGHT;break;default:_e=-1}switch(_e){case da.DOLLY:if(i.enableZoom===!1)return;xe(Z),u=a.DOLLY;break;case da.ROTATE:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(i.enablePan===!1)return;K(Z),u=a.PAN}else{if(i.enableRotate===!1)return;ue(Z),u=a.ROTATE}break;case da.PAN:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(i.enableRotate===!1)return;ue(Z),u=a.ROTATE}else{if(i.enablePan===!1)return;K(Z),u=a.PAN}break;default:u=a.NONE}u!==a.NONE&&i.dispatchEvent(s)}function Ce(Z){if(i.enabled!==!1)switch(u){case a.ROTATE:if(i.enableRotate===!1)return;be(Z);break;case a.DOLLY:if(i.enableZoom===!1)return;Pe(Z);break;case a.PAN:if(i.enablePan===!1)return;ke(Z);break}}function Ie(Z){i.enabled===!1||i.enableZoom===!1||u!==a.NONE&&u!==a.ROTATE||(Z.preventDefault(),i.dispatchEvent(s),Te(Z),i.dispatchEvent(o))}function it(Z){i.enabled===!1||i.enablePan===!1||Ge(Z)}function ze(Z){switch(Qe(Z),I.length){case 1:switch(i.touches.ONE){case ha.ROTATE:if(i.enableRotate===!1)return;he(),u=a.TOUCH_ROTATE;break;case ha.PAN:if(i.enablePan===!1)return;ie(),u=a.TOUCH_PAN;break;default:u=a.NONE}break;case 2:switch(i.touches.TWO){case ha.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;De(),u=a.TOUCH_DOLLY_PAN;break;case ha.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ae(),u=a.TOUCH_DOLLY_ROTATE;break;default:u=a.NONE}break;default:u=a.NONE}u!==a.NONE&&i.dispatchEvent(s)}function ge(Z){switch(Qe(Z),u){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;nt(Z),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;Ke(Z),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;bt(Z),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Tt(Z),i.update();break;default:u=a.NONE}}function Ze(Z){i.enabled!==!1&&Z.preventDefault()}function rt(Z){I.push(Z)}function He(Z){delete F[Z.pointerId];for(let _e=0;_e<I.length;_e++)if(I[_e].pointerId==Z.pointerId){I.splice(_e,1);return}}function Qe(Z){let _e=F[Z.pointerId];_e===void 0&&(_e=new ve,F[Z.pointerId]=_e),_e.set(Z.pageX,Z.pageY)}function je(Z){const _e=Z.pointerId===I[0].pointerId?I[1]:I[0];return F[_e.pointerId]}this.dollyIn=(Z=Y())=>{te(Z),i.update()},this.dollyOut=(Z=Y())=>{V(Z),i.update()},this.getScale=()=>p,this.setScale=Z=>{H(Z),i.update()},this.getZoomScale=()=>Y(),t!==void 0&&this.connect(t),this.update()}};const uG=X.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,onChange:s,onStart:o,onEnd:a,...u},f)=>{const d=ys(A=>A.invalidate),h=ys(A=>A.camera),p=ys(A=>A.gl),g=ys(A=>A.events),v=ys(A=>A.setEvents),y=ys(A=>A.set),x=ys(A=>A.get),_=ys(A=>A.performance),S=e||h,M=i||g.connected||p.domElement,b=X.useMemo(()=>new lG(S),[S]);return Pw(()=>{b.enabled&&b.update()},-1),X.useEffect(()=>(b.connect(M),()=>void b.dispose()),[M,t,b,d]),X.useEffect(()=>{const A=E=>{d(),t&&_.regress(),s&&s(E)},P=E=>{o&&o(E)},D=E=>{a&&a(E)};return b.addEventListener("change",A),b.addEventListener("start",P),b.addEventListener("end",D),()=>{b.removeEventListener("start",P),b.removeEventListener("end",D),b.removeEventListener("change",A)}},[s,o,a,b,d,v]),X.useEffect(()=>{if(n){const A=x().controls;return y({controls:b}),()=>y({controls:A})}},[n,b]),X.createElement("primitive",Zf({ref:f,object:b,enableDamping:r},u))});var tR={exports:{}},cG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fG=cG,dG=fG;function nR(){}function iR(){}iR.resetWarningCache=nR;var hG=function(){function n(i,r,s,o,a,u){if(u!==dG){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iR,resetWarningCache:nR};return t.PropTypes=t,t};tR.exports=hG();var pG=tR.exports;const Lc=Hm(pG),mG=({count:n=150,color:e="#FFDF80"})=>{const t=X.useRef();ys();const i=X.useMemo(()=>Array.from({length:n},()=>({position:[(Math.random()-.5)*25,(Math.random()-.5)*25,(Math.random()-.5)*25],size:Math.random()*.05+.02})),[n]);return Pw(()=>{t.current&&(t.current.rotation.x+=1e-4,t.current.rotation.y+=1e-4)}),L.jsx("group",{ref:t,children:i.map((r,s)=>L.jsxs("mesh",{position:r.position,children:[L.jsx("sphereGeometry",{args:[r.size,5,5]}),L.jsx("meshBasicMaterial",{color:e,transparent:!0,opacity:.5})]},s))})},PT=({position:n=[0,0,0],color:e="#FFB300",size:t=1.5})=>{const i=X.useRef();return Pw(({clock:r})=>{if(!i.current)return;const s=r.getElapsedTime()*.5;i.current.position.y=n[1]+Math.sin(s)*.1,i.current.rotation.y+=.005,i.current.rotation.z+=.001}),L.jsxs("mesh",{ref:i,position:n,children:[L.jsx("sphereGeometry",{args:[t,16,16]}),L.jsx("meshStandardMaterial",{color:e,emissive:e,emissiveIntensity:.5,transparent:!0,opacity:.2})]})},gG=()=>L.jsxs(L.Fragment,{children:[L.jsx("ambientLight",{intensity:.2}),L.jsx("pointLight",{position:[10,10,10],intensity:.8}),L.jsx(mG,{count:150}),L.jsx(PT,{position:[-5,0,-5],color:"#A38A3A",size:1.8}),L.jsx(PT,{position:[5,2,-3],color:"#FFB300",size:1.2}),L.jsx(uG,{enableZoom:!1,enablePan:!1,autoRotate:!0,autoRotateSpeed:.3,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2})]}),Ho=({opacity:n=.3})=>L.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none",style:{opacity:n},children:L.jsx(eG,{gl:{antialias:!1,powerPreference:"default",alpha:!0},camera:{position:[0,0,15],fov:60},dpr:[1,1.5],children:L.jsx(gG,{})})}),rR=X.createContext(),Hs=()=>X.useContext(rR),vG=({children:n})=>{const[e,t]=X.useState(!0),[i,r]=X.useState(.2),[s,o]=X.useState(!1);X.useEffect(()=>{try{const d=localStorage.getItem("showBackground"),h=localStorage.getItem("bgOpacity");d!==null&&t(d==="true"),h!==null&&r(parseFloat(h))}catch(d){console.log("Error reading from localStorage:",d)}o(!0)},[]),X.useEffect(()=>{if(s)try{localStorage.setItem("showBackground",e.toString()),localStorage.setItem("bgOpacity",i.toString())}catch(d){console.log("Error writing to localStorage:",d)}},[e,i,s]);const f={showBackground:e,bgOpacity:i,toggleBackground:d=>{t(d)},setOpacity:d=>{r(d)}};return L.jsx(rR.Provider,{value:f,children:n})},Wo=()=>{const{showBackground:n,bgOpacity:e,toggleBackground:t,setOpacity:i}=Hs(),[r,s]=X.useState(!1),o=()=>{t(!n)},a=f=>{i(parseFloat(f.target.value))},u=()=>{s(!r)};return L.jsxs("div",{className:"fixed bottom-5 right-5 z-50 flex flex-col items-end",children:[L.jsx("button",{onClick:u,className:"bg-yellow-800 hover:bg-yellow-700 text-yellow-200 p-2 rounded-full shadow-lg",title:"3D Background Settings",children:L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16",children:L.jsx("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})})}),r&&L.jsxs("div",{className:"mt-2 bg-gray-900 border border-yellow-700 p-4 rounded-lg shadow-lg backdrop-blur-sm",children:[L.jsx("h3",{className:"text-yellow-200 font-medium mb-3 text-sm",children:"3D Background Settings"}),L.jsx("div",{className:"flex items-center mb-3",children:L.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[L.jsx("input",{type:"checkbox",checked:n,onChange:o,className:"sr-only peer"}),L.jsx("div",{className:"relative w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-gray-500 after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-800"}),L.jsx("span",{className:"ms-3 text-sm font-medium text-gray-300",children:"Enable 3D Background"})]})}),n&&L.jsxs("div",{className:"mb-2",children:[L.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Opacity"}),L.jsx("input",{type:"range",min:"0.05",max:"0.4",step:"0.01",value:e,onChange:a,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"}),L.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[L.jsx("span",{children:"Subtle"}),L.jsx("span",{children:"Vivid"})]})]}),L.jsx("button",{onClick:u,className:"mt-3 text-xs text-gray-400 hover:text-gray-300 underline",children:"Close"})]})]})},yG=()=>{const[n,e]=X.useState(!1),{showBackground:t,bgOpacity:i}=Hs();return X.useEffect(()=>{e(!0),ai.init({duration:1e3,easing:"ease-in-out",once:!0})},[]),L.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-neutral-950 to-neutral-900 text-neutral-100 relative overflow-x-hidden",children:[n&&t&&L.jsx(Ho,{opacity:i}),L.jsxs("main",{className:"relative z-10 min-h-screen flex flex-col lg:flex-row items-center justify-center gap-8 lg:gap-16 px-6 py-12 lg:py-20",children:[L.jsx("div",{className:"flex-shrink-0","data-aos":"fade-right",children:L.jsx(oO,{})}),L.jsx("div",{className:"flex-1 max-w-3xl","data-aos":"fade-left",children:L.jsx(rO,{})})]}),n&&L.jsx(Wo,{})]})},LT=({title:n,value:e})=>L.jsxs("tr",{className:"group transition-all duration-300",children:[L.jsx("td",{className:"py-4 text-left text-zinc-500 font-bold w-1/3 uppercase tracking-[0.2em] text-[10px]",children:n}),L.jsx("td",{className:"py-4 text-left text-white font-medium text-sm group-hover:text-red-500 transition-colors",children:e})]}),xG=()=>{X.useEffect(()=>{ai.init({duration:1e3,easing:"ease-in-out",once:!0})},[]);const n=[{title:"Degree",value:"B.Tech in Computer Science and Engineering (2021-2025)"},{title:"Institution",value:"Vidya Academy Of Science And Technology Technical Campus, Kilimanoor"},{title:"Performance (CGPA)",value:"8.3"}],e=[{title:"Specialization",value:"Biology Science (2018-2020)"},{title:"Institution",value:"Govt. Model Higher Secondary School, Varkala"},{title:"Performance (%)",value:"94.5"}];return L.jsxs("div",{className:"space-y-12",children:[L.jsxs("div",{className:"glass-card p-10 relative overflow-hidden group hover:border-red-500/30 transition-all duration-500","data-aos":"fade-up",children:[L.jsx("div",{className:"absolute -top-12 -right-12 w-24 h-24 bg-red-600/5 rounded-full blur-2xl group-hover:bg-red-600/10 transition-all duration-700"}),L.jsxs("h3",{className:"text-xl font-black text-white font-outfit uppercase tracking-tighter mb-8 flex items-center",children:[L.jsx("span",{className:"w-8 h-[2px] bg-red-600 mr-4"}),"Higher Education"]}),L.jsx("div",{className:"w-full",children:L.jsx("table",{className:"w-full",children:L.jsx("tbody",{className:"divide-y divide-white/5",children:n.map((t,i)=>L.jsx(LT,{title:t.title,value:t.value},i))})})})]}),L.jsxs("div",{className:"glass-card p-10 relative overflow-hidden group hover:border-red-500/30 transition-all duration-500","data-aos":"fade-up","data-aos-delay":"100",children:[L.jsx("div",{className:"absolute -top-12 -right-12 w-24 h-24 bg-red-600/5 rounded-full blur-2xl group-hover:bg-red-600/10 transition-all duration-700"}),L.jsxs("h3",{className:"text-xl font-black text-white font-outfit uppercase tracking-tighter mb-8 flex items-center",children:[L.jsx("span",{className:"w-8 h-[2px] bg-red-600 mr-4"}),"High School Diploma"]}),L.jsx("div",{className:"w-full",children:L.jsx("table",{className:"w-full",children:L.jsx("tbody",{className:"divide-y divide-white/5",children:e.map((t,i)=>L.jsx(LT,{title:t.title,value:t.value},i))})})})]})]})};var sR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RT=jr.createContext&&jr.createContext(sR),_G=["attr","size","title"];function wG(n,e){if(n==null)return{};var t=SG(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function SG(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Um(){return Um=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Um.apply(this,arguments)}function DT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Vm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(t),!0).forEach(function(i){MG(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function MG(n,e,t){return e=bG(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bG(n){var e=TG(n,"string");return typeof e=="symbol"?e:e+""}function TG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oR(n){return n&&n.map((e,t)=>jr.createElement(e.tag,Vm({key:t},e.attr),oR(e.child)))}function Ft(n){return e=>jr.createElement(EG,Um({attr:Vm({},n.attr)},e),oR(n.child))}function EG(n){var e=t=>{var{attr:i,size:r,title:s}=n,o=wG(n,_G),a=r||t.size||"1em",u;return t.className&&(u=t.className),n.className&&(u=(u?u+" ":"")+n.className),jr.createElement("svg",Um({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:u,style:Vm(Vm({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&jr.createElement("title",null,s),n.children)};return RT!==void 0?jr.createElement(RT.Consumer,null,t=>e(t)):e(sR)}function aR(n){return Ft({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function AG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function CG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(n)}function PG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(n)}function LG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function RG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.622 255.92l45.985-45.005c13.708-12.977 7.316-36.039-10.664-40.339l-62.65-15.99 17.661-62.015c4.991-17.838-11.829-34.663-29.661-29.671l-61.994 17.667-15.984-62.671C337.085.197 313.765-6.276 300.99 7.228L256 53.57 211.011 7.229c-12.63-13.351-36.047-7.234-40.325 10.668l-15.984 62.671-61.995-17.667C74.87 57.907 58.056 74.738 63.046 92.572l17.661 62.015-62.65 15.99C.069 174.878-6.31 197.944 7.392 210.915l45.985 45.005-45.985 45.004c-13.708 12.977-7.316 36.039 10.664 40.339l62.65 15.99-17.661 62.015c-4.991 17.838 11.829 34.663 29.661 29.671l61.994-17.667 15.984 62.671c4.439 18.575 27.696 24.018 40.325 10.668L256 458.61l44.989 46.001c12.5 13.488 35.987 7.486 40.325-10.668l15.984-62.671 61.994 17.667c17.836 4.994 34.651-11.837 29.661-29.671l-17.661-62.015 62.65-15.99c17.987-4.302 24.366-27.367 10.664-40.339l-45.984-45.004z"},child:[]}]})(n)}function DG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(n)}function kG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(n)}function IG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function NG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function lR(n){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(n)}function zG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function OG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function FG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function BG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M471.1 96C405 96 353.3 137.3 320 174.6 286.7 137.3 235 96 168.9 96 75.8 96 0 167.8 0 256s75.8 160 168.9 160c66.1 0 117.8-41.3 151.1-78.6 33.3 37.3 85 78.6 151.1 78.6 93.1 0 168.9-71.8 168.9-160S564.2 96 471.1 96zM168.9 320c-40.2 0-72.9-28.7-72.9-64s32.7-64 72.9-64c38.2 0 73.4 36.1 94 64-20.4 27.6-55.9 64-94 64zm302.2 0c-38.2 0-73.4-36.1-94-64 20.4-27.6 55.9-64 94-64 40.2 0 72.9 28.7 72.9 64s-32.7 64-72.9 64z"},child:[]}]})(n)}function vx(n){return Ft({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(n)}function UG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(n)}function VG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function HG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function WG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function GG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"},child:[]}]})(n)}function jG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}const XG=({cert:n,index:e})=>L.jsxs("div",{className:"glass-card p-8 group relative overflow-hidden transition-all duration-500 hover:border-red-500/30","data-aos":"fade-up","data-aos-delay":e*100,children:[L.jsx("div",{className:"absolute -top-12 -right-12 w-24 h-24 bg-red-600/5 rounded-full blur-2xl group-hover:bg-red-600/10 transition-all duration-700"}),L.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[L.jsxs("div",{className:"flex-1",children:[L.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[L.jsx(RG,{className:"text-red-600 text-sm"}),L.jsx("h3",{className:"text-xl font-black text-white font-outfit uppercase tracking-tighter transition-colors group-hover:text-red-500",children:n.name})]}),L.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-[10px] font-black uppercase tracking-widest text-zinc-500",children:[L.jsxs("span",{className:"text-zinc-400",children:["Issued by ",n.organization]}),L.jsx("span",{className:"w-1 h-1 bg-zinc-800 rounded-full hidden md:block"}),L.jsx("span",{children:n.issueDate})]})]}),L.jsxs("div",{className:"flex flex-col items-start md:items-end gap-3 min-w-fit",children:[L.jsxs("div",{className:"flex flex-col items-start md:items-end",children:[L.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-600 mb-1",children:"Credential ID"}),L.jsx("span",{className:"text-[10px] font-mono text-zinc-400 tracking-wider bg-white/5 px-2 py-1 rounded",children:n.credentialId})]}),n.credentialUrl&&L.jsxs("a",{href:n.credentialUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-red-500 hover:text-red-400 transition-all group/link",children:[L.jsx("span",{children:"Verify License"}),L.jsx(lR,{className:"text-xs transform group-hover/link:translate-x-0.5 group-hover/link:-translate-y-0.5 transition-transform"})]})]})]})]},e),YG=()=>{const n=[{name:"Full Stack Web Development",organization:"Internshala",issueDate:"October 2022",credentialId:"F81F181A-1860-86A6-D7AE-C88D7695736D",credentialUrl:"https://trainings.internshala.com/s/v/2254458/ff5a6bd0"},{name:"Web Development",organization:"Udemy",issueDate:"October 2022",credentialId:"UC-aaa3abc8-e3d7-4c4e-b616-bc2fbc8fd913",credentialUrl:"https://www.udemy.com/certificate/UC-aaa3abc8-e3d7-4c4e-b616-bc2fbc8fd913"},{name:"Modern Javascript For React JS",organization:"Udemy",issueDate:"Nov 2024",credentialId:"UC-7859a414-1414-4e4a-a049-0e55fbe7dd83",credentialUrl:"https://www.udemy.com/certificate/UC-7859a414-1414-4e4a-a049-0e55fbe7dd83/"}];return X.useEffect(()=>{ai.init({duration:1e3,easing:"ease-in-out",once:!0})},[]),L.jsx("div",{className:"flex flex-col gap-6 w-full max-w-5xl mx-auto",children:n.map((e,t)=>L.jsx(XG,{cert:e,index:t},t))})},qG=({internship:n,index:e})=>L.jsxs("div",{className:"glass-card p-10 group relative overflow-hidden transition-all duration-500 hover:border-red-500/30 w-full","data-aos":"fade-up","data-aos-delay":e*100,children:[L.jsx("div",{className:"absolute -top-12 -right-12 w-24 h-24 bg-red-600/5 rounded-full blur-2xl group-hover:bg-red-600/10 transition-all duration-700"}),L.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4 mb-8",children:[L.jsxs("div",{children:[L.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[L.jsx(PG,{className:"text-red-600 text-sm hover:text-white"}),L.jsx("h3",{className:"text-2xl font-black text-white font-outfit hover:text-red-600 uppercase tracking-tighter",children:n.title})]}),L.jsx("h4",{className:"text-zinc-400 font-bold uppercase tracking-widest text-xs",children:n.company})]}),L.jsxs("div",{className:"flex flex-col items-end gap-2 text-[10px] font-black uppercase tracking-widest text-zinc-500",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(VG,{className:"text-red-600/50"}),L.jsxs("span",{children:[n.location,"  ",n.locationType]})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(LG,{className:"text-red-600/50"}),L.jsxs("span",{children:[n.startDate,"  ",n.endDate]})]})]})]}),L.jsxs("div",{className:"relative",children:[L.jsx("div",{className:"absolute left-0 top-0 w-1 h-full bg-red-600/20 rounded-full"}),L.jsx("p",{className:"pl-6 text-zinc-400 leading-relaxed font-medium text-sm text-justify",children:n.description})]})]},e),ZG=()=>{const n=[{title:"Lead Full Stack Developer",company:"Indian Institute of Commerce , Lakshya",location:"Kochi, Kerala",locationType:"On SIte",startDate:"January 2026",endDate:"Present",description:" Built in-house web applications to automate internal business workflows, replacing manual processes with scalable systems.Developed the Lakshya Aptitude Test & Scholarship Exam Platform with automated evaluation and reporting, integrated with LSQ CRM for lead and student data sync. Implemented ticketing and complaint management systems to streamline issue tracking, resolution workflows, and operational monitoring"},{title:"Full Stack Developer I",company:"Simplita.ai",location:"Villupuram, Tamil Nadu",locationType:"Hybrid",startDate:"April 2025",endDate:"January 2026",description:"Developing AI-driven solutions to enhance business operations and decision-making. My work involves building machine learning models, AI-powered analytics platforms, and automation tools. I have contributed to projects focused on intelligent data processing, predictive analytics, and workflow optimization, helping businesses leverage AI for efficiency and growth."},{title:"MERN Stack Developer Intern",company:"ZedSoftTech",location:"Tirur, Malappuram",locationType:"Remote",startDate:"December 2024",endDate:"April 2025",description:"Developing a MERN stack e-commerce platform that allows businesses to purchase customizable admin panels. Creating a modular and scalable admin panel using React with TypeScript. Leveraging Tailwind CSS for modern aesthetics and seamless interactions. Building a robust backend with Node.js and Express, integrated with MongoDB. Focused on performance optimization, debugging, and cross-functional collaboration in an Agile environment."},{title:"Software Developer Intern",company:"Internship Studio",location:"Remote",locationType:"Remote",startDate:"October 2024",endDate:"November 2024",description:"Developed a full-featured e-commerce application using the MERN stack. Responsibilities included user authentication, product listings, order management, payment gateway integration, and enhancing the user interface using React and Tailwind CSS."}];return X.useEffect(()=>{ai.init({duration:1e3,easing:"ease-in-out",once:!0})},[]),L.jsx("div",{className:"flex flex-col gap-10 w-full max-w-5xl mx-auto py-8 relative",children:n.map((e,t)=>L.jsx(qG,{internship:e,index:t},t))})};function JG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22c5.514 0 10-4.486 10-10S17.514 2 12 2 2 6.486 2 12s4.486 10 10 10zm0-15 5 5h-4v5h-2v-5H7l5-5z"},child:[]}]})(n)}function KG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 368a16 16 0 0 1-7.94-2.11L108 285.84a8 8 0 0 0-12 6.94V368a16 16 0 0 0 8.23 14l144 80a16 16 0 0 0 15.54 0l144-80a16 16 0 0 0 8.23-14v-75.22a8 8 0 0 0-12-6.94l-140.06 80.05A16 16 0 0 1 256 368z"},child:[]},{tag:"path",attr:{d:"M495.92 190.5v-.11a16 16 0 0 0-8-12.28l-224-128a16 16 0 0 0-15.88 0l-224 128a16 16 0 0 0 0 27.78l224 128a16 16 0 0 0 15.88 0L461 221.28a2 2 0 0 1 3 1.74v144.53c0 8.61 6.62 16 15.23 16.43A16 16 0 0 0 496 368V192a14.76 14.76 0 0 0-.08-1.5z"},child:[]}]})(n)}function QG(n){return Ft({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M232,86.53V56a16,16,0,0,0-16-16H40A16,16,0,0,0,24,56V184a16,16,0,0,0,16,16H160v24A8,8,0,0,0,172,231l24-13.74L220,231A8,8,0,0,0,232,224V161.47a51.88,51.88,0,0,0,0-74.94ZM128,144H72a8,8,0,0,1,0-16h56a8,8,0,0,1,0,16Zm0-32H72a8,8,0,0,1,0-16h56a8,8,0,0,1,0,16Zm88,98.21-16-9.16a8,8,0,0,0-7.94,0l-16,9.16V172a51.88,51.88,0,0,0,40,0ZM196,160a36,36,0,1,1,36-36A36,36,0,0,1,196,160Z"},child:[]}]})(n)}function $G(n){return Ft({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,80H32a8,8,0,0,0-8,8v48a96.3,96.3,0,0,0,32.54,72H32a8,8,0,0,0,0,16H208a8,8,0,0,0,0-16H183.46a96.59,96.59,0,0,0,27-40.09A40,40,0,0,0,248,128v-8A40,40,0,0,0,208,80Zm24,48a24,24,0,0,1-17.2,23,95.78,95.78,0,0,0,1.2-15V97.38A24,24,0,0,1,232,120ZM112,56V24a8,8,0,0,1,16,0V56a8,8,0,0,1-16,0Zm32,0V24a8,8,0,0,1,16,0V56a8,8,0,0,1-16,0ZM80,56V24a8,8,0,0,1,16,0V56a8,8,0,0,1-16,0Z"},child:[]}]})(n)}function ej(n){return Ft({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.007 2.10377C8.60544 1.65006 7.08181 2.28116 6.41156 3.59306L5.60578 5.17023C5.51004 5.35763 5.35763 5.51004 5.17023 5.60578L3.59306 6.41156C2.28116 7.08181 1.65006 8.60544 2.10377 10.007L2.64923 11.692C2.71404 11.8922 2.71404 12.1078 2.64923 12.308L2.10377 13.993C1.65006 15.3946 2.28116 16.9182 3.59306 17.5885L5.17023 18.3942C5.35763 18.49 5.51004 18.6424 5.60578 18.8298L6.41156 20.407C7.08181 21.7189 8.60544 22.35 10.007 21.8963L11.692 21.3508C11.8922 21.286 12.1078 21.286 12.308 21.3508L13.993 21.8963C15.3946 22.35 16.9182 21.7189 17.5885 20.407L18.3942 18.8298C18.49 18.6424 18.6424 18.49 18.8298 18.3942L20.407 17.5885C21.7189 16.9182 22.35 15.3946 21.8963 13.993L21.3508 12.308C21.286 12.1078 21.286 11.8922 21.3508 11.692L21.8963 10.007C22.35 8.60544 21.7189 7.08181 20.407 6.41156L18.8298 5.60578C18.6424 5.51004 18.49 5.35763 18.3942 5.17023L17.5885 3.59306C16.9182 2.28116 15.3946 1.65006 13.993 2.10377L12.308 2.64923C12.1078 2.71403 11.8922 2.71404 11.692 2.64923L10.007 2.10377ZM6.75977 11.7573L8.17399 10.343L11.0024 13.1715L16.6593 7.51465L18.0735 8.92886L11.0024 15.9999L6.75977 11.7573Z"},child:[]}]})(n)}const cy=({icon:n,text:e,onClick:t})=>L.jsxs("button",{"data-aos":"zoom-in",className:`flex items-center glass-card font-black px-6 py-3 rounded-full \r
    text-[10px] uppercase tracking-[0.2em] text-zinc-400\r
    hover:text-white hover:border-red-500/50 \r
    hover:-translate-y-1 hover:shadow-[0_0_20px_rgba(255,49,49,0.2)] transition-all duration-300 group`,onClick:t,children:[L.jsx(n,{className:"mr-3 scale-125 group-hover:text-red-500 transition-colors"}),L.jsx("span",{children:e})]}),fy=({title:n})=>L.jsxs("div",{className:"flex flex-col items-center gap-4 mb-16","data-aos":"fade-down",children:[L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("span",{className:"w-12 h-[2px] bg-red-600"}),L.jsx("span",{className:"text-red-500 uppercase tracking-widest text-xs font-bold",children:"Details"})]}),L.jsx("h1",{className:"text-5xl md:text-7xl font-black tracking-tighter uppercase leading-none",children:n})]}),tj=()=>{const n=X.useRef(null),e=X.useRef(null),t=X.useRef(null),[i,r]=jr.useState(!1),{showBackground:s,bgOpacity:o}=Hs();X.useEffect(()=>{r(!0),ai.init({duration:1e3,easing:"ease-in-out",once:!0})},[]);const a=f=>f.current.scrollIntoView({behavior:"smooth"}),u=()=>window.scrollTo({top:0,behavior:"smooth"});return L.jsxs("div",{className:"min-h-screen bg-black text-white py-24 relative overflow-hidden",children:[i&&s&&L.jsx(Ho,{opacity:o}),L.jsxs("div",{className:"fixed bottom-12 left-1/2 -translate-x-1/2 flex gap-4 z-50 px-6 py-4 glass-card rounded-full border border-white/5 backdrop-blur-2xl shadow-2xl",children:[L.jsx(cy,{icon:ej,text:"EXP",onClick:()=>a(e)}),L.jsx(cy,{icon:QG,text:"CERT",onClick:()=>a(t)}),L.jsx(cy,{icon:KG,text:"EDU",onClick:()=>a(n)})]}),L.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[L.jsxs("div",{ref:e,className:"py-20 relative",children:[L.jsx(fy,{title:"Professional Experience"}),L.jsx("div",{className:"relative w-full",children:L.jsx(ZG,{})})]}),L.jsxs("div",{ref:t,className:"py-20 relative",children:[L.jsx(fy,{title:"Certifications"}),L.jsx("div",{className:"relative w-full",children:L.jsx(YG,{})})]}),L.jsxs("div",{ref:n,className:"py-20 mb-20 relative",children:[L.jsx(fy,{title:"Education"}),L.jsx("div",{className:"relative w-full",children:L.jsx(xG,{})})]})]}),L.jsx("div",{className:"fixed bottom-12 left-12 z-40 hidden md:block",children:L.jsx("button",{className:"glass-card hover:bg-white/10 text-white p-4 rounded-full shadow-lg hover:scale-110 transition-all duration-300",onClick:u,children:L.jsx(JG,{className:"text-3xl"})})}),i&&L.jsx(Wo,{})]})},nj=()=>{const[n,e]=X.useState(!1),{showBackground:t,bgOpacity:i}=Hs();X.useEffect(()=>{e(!0),ai.init({duration:1e3,easing:"ease-in-out",once:!0})},[]);const r=[{title:"Web Development",description:"Building high-performance static and dynamic web applications with state-of-the-art technologies.",icon:L.jsx(DG,{})},{title:"Custom Applications",description:"Tailored software solutions designed to solve specific business challenges with scalable architecture.",icon:L.jsx(UG,{})},{title:"API Systems",description:"Designing robust RESTful and GraphQL APIs for seamless system integration and data flow.",icon:L.jsx(GG,{})},{title:"Front-End Mastery",description:"Crafting visually stunning, responsive user interfaces using modern frameworks like React and Next.js.",icon:L.jsx(vx,{})},{title:"Back-End Power",description:"Developing secure and efficient server-side logic with Node.js, Django, and high-performance databases.",icon:L.jsx(kG,{})},{title:"DevOps & Cloud",description:"Automating deployments and optimizing cloud infrastructure for maximum reliability and scale.",icon:L.jsx(BG,{})}];return L.jsxs("div",{className:"min-h-screen bg-black text-white py-24 px-6 relative overflow-hidden",children:[n&&t&&L.jsx(Ho,{opacity:i}),L.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[L.jsxs("div",{className:"space-y-4 mb-20","data-aos":"fade-down",children:[L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("span",{className:"w-12 h-[2px] bg-red-600"}),L.jsx("span",{className:"text-red-500 uppercase tracking-widest text-sm font-bold",children:"Offerings"})]}),L.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter uppercase leading-[0.8]",children:["My ",L.jsx("br",{})," ",L.jsx("span",{className:"text-gradient",children:"Services"})]})]}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((s,o)=>L.jsxs("div",{className:"glass-card p-10 group hover:border-red-500/50 transition-all duration-500 relative overflow-hidden","data-aos":"fade-up","data-aos-delay":o*50,children:[L.jsx("div",{className:"absolute -top-10 -left-10 w-20 h-20 bg-red-600/10 rounded-full blur-3xl group-hover:bg-red-600/20 transition-all"}),L.jsx("div",{className:"text-3xl text-red-600 mb-6 transform group-hover:scale-110 transition-transform origin-left",children:s.icon}),L.jsx("h2",{className:"text-2xl font-black text-white font-outfit uppercase tracking-tight mb-4",children:s.title}),L.jsx("p",{className:"text-zinc-500 leading-relaxed font-medium text-sm",children:s.description})]},o))})]}),n&&L.jsx(Wo,{})]})},uR=({name:n,description:e,status:t,githubLink:i,productionLink:r})=>L.jsxs("div",{className:"glass-card p-8 group hover:border-red-500/50 transition-all duration-500 mb-8 relative overflow-hidden h-full flex flex-col justify-between","data-aos":"fade-up",children:[L.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-red-600/10 rounded-full blur-[80px] group-hover:bg-red-600/20 transition-all duration-700"}),L.jsxs("div",{children:[L.jsxs("div",{className:"flex justify-between items-start mb-6",children:[L.jsx("h2",{className:"text-3xl font-black text-white font-outfit leading-tight tracking-tighter",children:n.toUpperCase()}),L.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${t==="completed"?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-red-500/10 text-red-500 border border-red-500/20"}`,children:t})]}),L.jsx("p",{className:"text-zinc-400 leading-relaxed font-light text-lg mb-8",children:e})]}),L.jsxs("div",{className:"flex items-center gap-6 mt-auto",children:[L.jsxs("a",{href:i==="nil"?"#":i,className:`flex items-center gap-2 text-xs font-bold uppercase tracking-widest transition-all ${i==="nil"?"text-zinc-600 cursor-not-allowed":"text-white hover:text-red-500"}`,target:"_blank",rel:"noopener noreferrer",children:[L.jsx(aR,{className:"text-xl"}),L.jsx("span",{children:"Source"})]}),r!=="nil"&&L.jsxs("a",{href:r,className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-red-500 hover:text-red-400 transition-all",target:"_blank",rel:"noopener noreferrer",children:[L.jsx(lR,{className:"text-lg"}),L.jsx("span",{children:"Launch"})]})]})]});uR.propTypes={name:Lc.string.isRequired,description:Lc.string.isRequired,status:Lc.string.isRequired,githubLink:Lc.string.isRequired,productionLink:Lc.string};const ij=()=>{const[n,e]=X.useState(!1),[t,i]=X.useState(""),{showBackground:r,bgOpacity:s}=Hs(),a=[{name:"AnyTimeRequest Mock Server",description:"Full-fledged API testing suite with WebSocket relay for local/production bridging, multiple tabs, and assertion support.",status:"completed",githubLink:"https://github.com/DJGuruji/meshcore",productionLink:"https://anytimerequest.com"},{name:"Simplita.ai",description:"AI-powered automation platform enhancing business decision-making with high-performance data processing.",status:"completed",githubLink:"nil",productionLink:"https://app.simplita.ai"},{name:"Find My Client",description:"AI-powered MERN application connecting freelance workers with clients, optimized via Cloudinary.",status:"completed",githubLink:"https://github.com/DJGuruji/fmcFrontend",productionLink:"https://fmc.deno.dev"},{name:"Virtual Hospital",description:"Innovative platform for medical appointments with AI diagnostics and Nationwide access.",status:"completed",githubLink:"https://github.com/DJGuruji/AI-Assisted-Virtual-Hospital",productionLink:"https://vmas.deno.dev"},{name:"Vyuha",description:"College event ticket booking system for alumni and students using the MERN stack.",status:"completed",githubLink:"https://github.com/DJGuruji/vyuha",productionLink:"https://vidyavyuha.in"},{name:"Ecommerce ( G-cart )",description:"Modern retail platform with secure payments and responsive design powered by React.",status:"completed",githubLink:"https://github.com/DJGuruji/Ecommerce",productionLink:"https://gcart.deno.dev"}].filter(u=>u.name.toLowerCase().includes(t.toLowerCase()));return X.useEffect(()=>{e(!0),ai.init({duration:1e3,once:!0})},[]),L.jsxs("div",{className:"min-h-screen bg-black text-white py-24 px-6 lg:px-12 relative overflow-hidden",children:[n&&r&&L.jsx(Ho,{opacity:s}),L.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[L.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-8","data-aos":"fade-down",children:[L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("span",{className:"w-12 h-[2px] bg-red-600"}),L.jsx("span",{className:"text-red-500 uppercase tracking-widest text-sm font-bold",children:"Portfolio"})]}),L.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter uppercase leading-[0.8]",children:["Featured ",L.jsx("br",{})," ",L.jsx("span",{className:"text-gradient",children:"Projects"})]})]}),L.jsxs("div",{className:"relative w-full md:w-96",children:[L.jsx(WG,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500"}),L.jsx("input",{type:"text",placeholder:"FILTER PROJECTS...",value:t,onChange:u=>i(u.target.value),className:"w-full bg-white/5 border border-white/10 rounded-full py-4 pl-12 pr-6 text-xs font-bold tracking-widest uppercase focus:outline-none focus:border-red-500/50 transition-all"})]})]}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:a.map((u,f)=>L.jsx(uR,{...u},f))}),a.length===0&&L.jsx("div",{className:"text-center py-24",children:L.jsx("p",{className:"text-zinc-600 uppercase tracking-widest text-xs font-bold",children:"No matches found"})})]}),n&&L.jsx(Wo,{})]})},rj=({skillSet:n,index:e})=>L.jsxs("div",{className:"glass-card p-6 group relative overflow-hidden transition-all duration-500 hover:border-red-500/30","data-aos":"fade-up","data-aos-delay":e*50,children:[L.jsx("div",{className:"absolute -top-10 -right-10 w-24 h-24 bg-red-600/5 rounded-full blur-2xl group-hover:bg-red-600/10 transition-all duration-700"}),L.jsxs("h3",{className:"text-sm font-black text-white font-outfit mb-6 flex items-center uppercase tracking-widest",children:[L.jsx("span",{className:"w-8 h-[2px] bg-red-600 mr-4"}),n.category]}),L.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.split(", ").map((t,i)=>L.jsx("span",{className:"px-3 py-1.5 bg-white/5 border border-white/10 rounded-full text-[10px] font-bold uppercase tracking-widest text-zinc-400 group-hover:text-white group-hover:border-red-500/50 transition-all duration-300",children:t},i))})]},e),sj=()=>{X.useEffect(()=>{ai.init({duration:1e3,easing:"ease-in-out",once:!0})},[]);const n=[{category:"Backend Development",skills:"Node JS, Express JS, Django, Fast API, Java Spring Boot, Deno JS, Nest JS"},{category:"Frontend Architecture",skills:"HTML5, CSS, Tailwind CSS, React JS, Next JS, TypeScript, Zustand, Angular JS"},{category:"Database Systems",skills:"MongoDB, MySQL, PostgreSQL, Redis"},{category:"Cloud & DevOps",skills:"AWS, Docker, Azure, CI/CD, Kubernetes"},{category:"Programming",skills:"Python, JavaScript, Java, C++, PHP, Go"}];return L.jsxs("div",{className:"space-y-8",children:[L.jsxs("div",{className:"flex items-center gap-4 mb-10","data-aos":"fade-right",children:[L.jsxs("h2",{className:"text-2xl font-black text-white font-outfit uppercase tracking-tighter",children:["Technical ",L.jsx("span",{className:"text-red-600",children:"Proficiencies"})]}),L.jsx("div",{className:"flex-1 h-[1px] bg-white/10"})]}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((e,t)=>L.jsx(rj,{skillSet:e,index:t},t))})]})},oj=()=>{const[n,e]=X.useState(!1),{showBackground:t,bgOpacity:i}=Hs();return X.useEffect(()=>{e(!0),ai.init({duration:1e3,once:!0})},[]),L.jsxs("div",{className:"min-h-screen bg-black py-24 px-6 relative overflow-hidden",children:[n&&t&&L.jsx(Ho,{opacity:i}),L.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:L.jsxs("div",{className:"flex flex-col gap-16",children:[L.jsxs("div",{className:"space-y-4","data-aos":"fade-down",children:[L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("span",{className:"w-12 h-[2px] bg-red-600"}),L.jsx("span",{className:"text-red-500 uppercase tracking-widest text-sm font-bold",children:"Expertise"})]}),L.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter uppercase leading-[0.8]",children:["Technical ",L.jsx("br",{})," ",L.jsx("span",{className:"text-gradient",children:"Abilities"})]}),L.jsx("p",{className:"mt-8 text-zinc-500 max-w-xl font-medium uppercase tracking-[0.2em] text-xs",children:"A curated showcase of my technical expertise and professional capabilities developed throughout my software engineering career."})]}),L.jsx("div",{className:"w-full","data-aos":"fade-up",children:L.jsx(sj,{})})]})}),n&&L.jsx(Wo,{})]})},aj=()=>{const[n,e]=X.useState(!1),{showBackground:t,bgOpacity:i}=Hs();return X.useEffect(()=>{e(!0),ai.init({duration:1500,easing:"ease-in-out",once:!0})},[]),L.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black to-gray-900 flex justify-center items-center relative overflow-hidden",children:[n&&t&&L.jsx(Ho,{opacity:i}),L.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-yellow-500/5 rounded-full -translate-y-1/3 translate-x-1/3 blur-3xl pointer-events-none"}),L.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-yellow-500/5 rounded-full translate-y-1/3 -translate-x-1/3 blur-3xl pointer-events-none"}),L.jsxs("div",{className:"text-center relative z-10 backdrop-blur-sm bg-black/10 p-12 rounded-xl border border-yellow-700/20 shadow-lg transform hover:scale-105 transition-all duration-500","data-aos":"zoom-out",children:[L.jsxs(Ss.h2,{className:"text-8xl font-sans mb-8 text-yellow-300 font-bold",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,type:"spring",stiffness:100},children:["4",L.jsx("span",{className:"inline-block animate-bounce",children:""}),"4"]}),L.jsx(Ss.h1,{className:"text-3xl text-center text-white mb-8",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.3},children:"Page Not Found"}),L.jsx(Ss.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:L.jsx(rC,{to:"/",className:"px-6 py-3 bg-gradient-to-r from-yellow-700 to-yellow-600 text-white rounded-md inline-flex items-center transform transition-all duration-300 hover:shadow-lg hover:shadow-yellow-600/20 hover:-translate-y-1",children:"Back to Home"})})]}),n&&L.jsx(Wo,{})]})},lj=()=>{const n="/Krishnanaths_Resume.pdf",[e,t]=X.useState(!1),[i,r]=X.useState(!1),{showBackground:s,bgOpacity:o}=Hs();X.useEffect(()=>{r(!0),ai.init({duration:1e3,easing:"ease-in-out",once:!0})},[]);const a=()=>{const u=document.createElement("a");u.href=n,u.download="Krishnanaths_Resume.pdf",u.click()};return L.jsxs("div",{className:"min-h-screen bg-black text-white py-24 px-6 flex flex-col items-center relative overflow-hidden",children:[i&&s&&L.jsx(Ho,{opacity:o}),L.jsxs("div",{className:"max-w-4xl w-full relative z-10",children:[L.jsxs("div",{className:"space-y-4 mb-20 text-center","data-aos":"fade-down",children:[L.jsxs("div",{className:"flex items-center justify-center gap-4",children:[L.jsx("span",{className:"w-12 h-[2px] bg-red-600"}),L.jsx("span",{className:"text-red-500 uppercase tracking-widest text-sm font-bold",children:"Credential"}),L.jsx("span",{className:"w-12 h-[2px] bg-red-600"})]}),L.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter uppercase leading-[0.8]",children:["Professional ",L.jsx("br",{})," ",L.jsx("span",{className:"text-gradient",children:"Resume"})]})]}),L.jsxs("div",{className:"glass-card p-12 flex flex-col items-center text-center relative overflow-hidden","data-aos":"fade-up",children:[L.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-red-600/10 rounded-full blur-[80px]"}),L.jsx("p",{className:"text-zinc-500 leading-relaxed mb-12 max-w-2xl font-medium uppercase tracking-widest text-xs",children:"View or download my comprehensive resume highlighting my technical expertise, professional journey, and software engineering qualifications."}),L.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[L.jsxs("button",{onClick:()=>t(!0),className:"px-10 py-4 bg-white text-black text-[10px] font-black uppercase tracking-widest rounded-full hover:bg-red-600 hover:text-white transition-all duration-300 flex items-center gap-3 shadow-2xl",children:[L.jsx(zG,{className:"text-lg"}),"Preview Document"]}),L.jsxs("button",{onClick:a,className:"px-10 py-4 border border-white/10 text-white text-[10px] font-black uppercase tracking-widest rounded-full hover:border-red-500/50 hover:bg-red-600/10 transition-all duration-300 flex items-center gap-3",children:[L.jsx(IG,{className:"text-lg"}),"Download PDF"]})]})]})]}),i&&L.jsx(Wo,{}),e&&L.jsx("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-2xl flex items-center justify-center z-[200] p-6 lg:p-12",children:L.jsxs("div",{className:"glass-card w-full max-w-5xl h-full flex flex-col relative overflow-hidden",children:[L.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center",children:[L.jsx("h2",{className:"text-xs font-black uppercase tracking-[0.3em] text-zinc-400",children:"Credential Preview"}),L.jsx("button",{onClick:()=>t(!1),className:"w-10 h-10 flex items-center justify-center rounded-full bg-white/5 text-white hover:bg-red-600 transition-all text-xl font-bold",children:""})]}),L.jsx("iframe",{src:n,title:"Resume Preview",className:"flex-1 w-full"})]})})]})},uj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAflBMVEUAAAD////8/PwEBAT5+fng4ODt7e3z8/ODg4O0tLSKior09PR9fX1JSUlPT08tLS3a2trExMTKysqurq7k5OQbGxttbW1oaGimpqa8vLw+Pj6bm5s3NzeTk5MTExNgYGA6OjpWVlYpKSlDQ0PT09MYGBgPDw+fn591dXUjIyMnEutvAAAGkElEQVR4nO2c63aqMBCFCQjeb3ipaK3aWtu+/wue4KVCMkGB2Iln7e/HWast5MwmYTKZTPA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgCQp++l84vC8Hkv72h9sS+wznX+Ow2RAXGtEoWW/euM2yxE9r3BQ00+Sb27ravH5NDeou7Duz9MInfC9Tk1ujG/JOxC/eU0p8W3SF8O+SKKIOt7Xl+Zzcp+1Cd53e9UQd+eUL/87+OyKv7faeRaG0ch6V68AzYf9JNB7iSvpSFty238W8zOjM44vog9v825T0MBque9XPsJyH0XtRJNwazEgn8dG4LeImIbeQAjYW9EmaQ24hJr7tCJRLj6WDs0YQ2BN4lOgcgfdiT6D0OA4O1J1NgTKG++QWpPJqw4tmcc6jVotEixhzS8qTC0X9zL/lyN2z4haVZZ03dNoeh2VHbXefJEo+Z8At68qHYq1cBXnBJrlfZLQ4qlEeVOTOYirMD6/o8vuOKcmWJ5yfr3/P/dqXIaojClfKO9c+GXbMRd3WGG68377KJeZkoxs+UVnyT14a1sv+dXH2H340SiarTqfVWX+1k/Die7ut66WB11bUR+r/xYO2pL+uYmUs572OpOfp9dUE92zXSSKRHLzsy9ZRm1r/jYRidqpV/ky5Qv3Z/BdtceJbN7cCWta3W7WlQHPKvpjYNLUaesDdVK4o8ofK37ZaY9qA+Hv2mlGV+9Dzllpj/Om3gW5Tt/okRrTWsGhsBQJvrNskqq/t9EW0L1rM0z4hULxUbm1BtDa1aG0FtAkspbr/I3fjeDMaIWVS5ac+o1rjnTCGpEnV3xw1ajuizj5/SEAP0naNJslh2rdmcXmoXaYa0XLgDanMwJc9g0ujr3F9savV4opQOLJkbQWICVrENaevrp7gafBNiGtNX9qF9eyhOpEvYUMENLXnZ2rG4FslEtVA9b0C4b34thQJx1d/QOlDn8/VEPO9hZUA4b7Y5vw59bTr+z0izcq1TUNENDY2G4gtkFcLzVaBcOwTC31IRPNceVOisMRGzkHPi+QzsH8IsRJ4kMLW7bseAqHQxlqOWF84pLDOyukC8R46pPBBvtQhhXsLzRLzoUMKLWwWveutsikkZgsLUduOUMh1aIFaytXPqVC5H64FYush4ykhWuWqkKLGU/2lHLHo9LnSGD+EwtoLnVeiUb7Nbr0M4TF5GhtzUDWo/G3dChGqfIwvr69PiL4Q9ZrcUNViXEsLz+sRz7vmAye3erZWrK2Cvu2eUmdBTtYZM27N0DWX++rlaIcu1SBnHSY1O/s1cqZ7smaTKypNIWu7/TSMrNSL5PahEKwFJ+QBGb9ipGw4UMS49eTRwzQ9F1SlvndsOFDEexLKeEpmny/JKya9rm+oFPdrTrC1MdSP+iU3jGaJsTCcu6L9GkY22qvJNYyT5jZXqYu4px+X5GA/U29PuT5vv5YcffpbO9cXce9ws4XtmoxjLvCfu/h1gMe90WgzyCSSUq3hpLc13TvbrE/fWyg4ucAXk164brE15Xh6n33OmrpPbOqFYAFZ4qXBXPN15DJNS1lpTn86ISpG6Gi8cHSeceHDGUHGnkR6jbm+5DCs0YlqUhe7MLstfZrpX2b5vRXfGFhSpZt5uB3pmShv0j5SazLp2wJvd+twFPdceCFrqBxWw5ayFx8b7yw+N+Q3+Iu8z2TXBKl3f/vOHeo2B6k3vr7Qc+VUUG6cRtKqvnSeV9WxuQS2eMJwZYymZL3iRkrszT3v57sdx8misCSarN68wJm8UAmyCf7RKRYdC6ny+9X7iMyvIbkv8EvfnTGaknkVW6fjTou+nBhH3kdcEHcVKeQP1xQyc+C1NuS0oxIY+6JAIftJEp3pdc64+/Gb30Mnv//x61B9kdz5VT1jH8buHJDNcMjui42vPnRo/raeSWFcNLTZCLwgv/UXxkk7icOm2BrvMYxSJ4foCfoLdOY0P61w4uQQPZNQsbQ5ptEVlk1h/TEB3SslFPqi4cj5bZp0bA30/KL5+1368xg9w7dNx2pmqYRCp76FYeZF6UZzjY2iMFy67GNyTEQ233aXQvkGuv6ptitp3J1NwdzXh4vgaTrwRD9dv5860lyz1Tn1nmTyDB5GZdg+D1RztuW8w9p8EgdDcPzMbtEMnvrdOP14i4Nh6J0MB++Ff18OnPuo1wN42u4DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADyEf7G5PvIuAvy1AAAAAElFTkSuQmCC",cj=""+new URL("insta-D-vW8VyG.png",import.meta.url).href,fj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEUAAAD////V1dUICAiurq5tbW1ycnLh4eEEBAT8/Pypqammpqb5+fny8vLk5OQKCgrd3d3u7u6ZmZmAgIA0NDRoaGjMzMyOjo5LS0sfHx89PT0uLi5UVFRFRUXHx8eamppeXl4mJiYTExMaGhq5ubk5OTmJiYl6enoHZt1UAAAFL0lEQVR4nO2ci1LiMBSGEwqYSCv3OyKyIO//hpsURQqelEtIzfH/ZpwdNKX59pzm1rRCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPwKlEGozw+JUs7CEbOeTv+1q67Ew5j0Rp1UStmtbZrvVVfGK0okiRD9jjwiqw+EEt9pGzkqEbPasZ82P+mb/QsTQxNAqbU+VtQylbU2H8OeiVrB0IYxlR0ebY65BIeyaHdgWXXlfJAo8Z5pwlD2q66eH56lTn/007Jbdd08oMT8Z729Yl9E32EoMaYFtexEL2gYuQzTefxBFHSSWsVG/IKCFrSM4zccuA1b8Y9r5m7D5/hjuKYGNHt68RuWXId9BoY1p+HCDlwjpyUdeZrF3x0q8SrpcamuV12/+zHz+5EkOn3T4c+rrp8HEjHRZJq2qq6dJ1oy1fp0jmi1n3hM8g1Lq3iSqqmW2ST6ZubAUp6u05hr0wgm8XcVOSZQb+nZtTiyzRCbGAoxWeq89dSfzU6nWXWNPGOycdY7rHq/1BeC03KwRe0vuO1q1xzO8l+YXzG5CA8UQsYqfAAAAO7F3a1f3GkU74crO4Qo9qb5Vo9KBhGJcpz1/D4+VbbwLdZmP++aLVbDxnAxW3//4faq3kjJOW+qUH7Qdrx5ybL9cD5Ns1Frd/sX3oURnDQJGs3VSWGqZLO5GxwXfH3OvubRR9TG04BmR9SJJQw7wyiWTOiSMp+LJPl8a0jezko3i32hsKF0GNZOipL3qexNqvy6VWI2Ipcn7eHLrTgM9H+hYUYXtYa2/ezlk0xieTKfffaCt6keDLU1VCYy7dHnR7KcobO1TXjAVa4rDLt01Rt2UWfboQoUSFeincRoKOZd942sr8I6bZr/j3CZeoXhC13UXIfTF0ktnxdIU22a3oCX4lWGZIwaZXexiuhFwN7fl2H9ohT9Mszewyn6ydJhwy6TX25o12ODoOyur7sNTT/Xv0IvNzT9YpDGRu33Xl5sSBTVqWMwQJAOQt1f/rjGkKotub3RwSaMobIbhO81PNuAexmzEILGsEdX4dTw6QYNEh1mh+51LY1fQ60HP9bJu+IVvYVnQ/kWpk/0a6gP/5RenPke5BCNjWfDby1dPgRYRBlDXat/NIbN8eapfBgXZmOgX8Os9/3M1Kvjq/ecLAT9bsN88UKf7MB57+jzjSzHBHmEzJ+hzFZnjeNSuvbN7Zd3YjE0GTrLm8bj5W9BbyrLeY7JUKeTs/sA5tO06wihDjKH8hZD4hmineMgu73z8fhqS5dUy0+uX1kerif8xZAYZLqeyjGBDzE09WGo7WyP6rydT1atHiuX48VQy1d6eOJahAvxAKCfGHapaYJSdis5eVzv8YI+DLX7edMGfQY7gXo4flYTXRumJwwMtfxwnGHqWIgLsZXcTwx35PcrZ48Yj6FzCO0wDDEw9ZOlJYbk2DSWGDoNlWssFImhLslSh2EsWcrfsOQ6jD9LJf8YMjKk7h/yyVL+hpQgnywl4W7IPksl/xjyN+SfpWwMHTNZJln6hw2RpfRxscSQvyH/LOVvyCZLy56ZoWBgyCZL/3AM+Rvyz1L+hvyzlL8hspQ+7pfF0LGPkrshmyz9w4b8s5S/IZssvXXTfTQxTP6wIZcs5W/Y9m6oH5+l6ponLNd0Sel8G6hjje7hb5u2L61qJwTt0/ePrImibbV2PilpTvHjke1k/fBXnJS8CyfA04GVvmbzipPfWk+8RhQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADi5j/QQUiw4sUeXgAAAABJRU5ErkJggg==",dj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMwAAADACAMAAAB/Pny7AAAAZlBMVEUAAAD////+/v77+/vq6uppaWmhoaFkZGTt7e3Z2dlWU1Ta19jMzMzi4uI/Pz9OTk719fW1tbWYmJgVFRWOjo5xcXFFRUUiIiLS0tKGhobExMReXl56enqtra04ODgtLS0NDQ0bHBshl96/AAAK3UlEQVR4nO1cibKiuhYlCYcDNhwDogJO+P8/+bIz4wwkeF9VVnW3tiJksZM9hygKCAgICAgICAgICAgICAgICAgICAgICAgICAgICAjwhL/jqSnib6Ep23Xvhkh/OeYEfRtN/eeAz75tCCIYsz9fAyHsbhb1eS6XVZkiRMgXubA7ycgQ9tr9zuPy2yDEzocw//crgOtKWvF2Dpef7EsMHgHYHKdz2WVMxt/moDBTNtcG88n6HwFoApytJpKpxN2Qpxq8LEoBESJUANDpNpO4rKgeOQaNgsVSFJTUK1KvQk9g/g2++VDOEesI/RepI9Xht7/lipkDPieI1lO49J2ZYpgsLxJ1acVHajXU7CaQ2abIGH5M4uxLaLKCIjkvQFqTRFMSs2BQUU25H45wbjPJhYumG+8J/DG1TNTvm6k6xBHWto0ofkb//hjDSuEzDGVfFIsYTIHN+p0wzxIif88Ec/IwvjFoU2QpI1xeRv5+0yGz5uJkmnJ3BM7FkEHd38gTXHJkrX8yYdE5Q0UxxrZRytYjz7D+Z/2cnSqb6X5PRg9chqYnPow8x6qxyTAlkE6yvLOxORF04x/idOyNXQ0kw2Oj09ip6gDnktv/oWRmkRH+Kkb5WPHOxl9JhB+I3ZGR64Zkx97HkJ9irdxD7JYMGE+2cKoltdoht82LSzLcdWXhxFi1OB3rBmEtGeyGjPC/VXYGNbOSCiPA5CJJ8GiqiF2QISLVQ1RUFle9j7Hf4icTc4zfRoTzbe5EMjSVaThxakTLBXT0sZDLnsdmzIM5uyFT/HR89QMZISb/EUGbylwK16Ko3ERuyKBiFyUQ68EcI0RkfPzq6L5OVaQMYkEd+wzIYAdkmALbxpgLRZ+wGuuGj8BVuJYy/MekhA//jOc7a5qBNl43BBPtV0DKx1vAtmdcZP4C5gFN+KeczFzJYEEmOp9Sy+FjtP79+AlyLhXV4QubY0p5OpGMIhNd6sKYLrhY7GWq7U8UiwnNBx/X8pa5mWaoUEZ/2xAiUzZcDdDSvTtwZi6/KmYwRkW7l1+4JhOtS2IcDFg4zfhEyWv8dUSG6zyHaWlN52TYVGPzWX/Brlq0/fNzjMc6J0iGL5zL1ixL92Si/jeVxSdxPUxPvRMaHIdM2jGhyQo7fvJABoyXuR6/fbmzqGCV8SmGhYeO4sGJnajmWzJRn1BMdSDLlCd1lOv4LXR2C2SeDW+SF8lE0aYtrCQUTLVq//gkY9Az1xLLsgmUYm6TW57IcB2NtBIAp62c7w7wdLBWlfQua+mNTLQrqUw0yORJs53pDrRUJoH4Oenpzh77WTMc+yRV9Wxxv4p6zlTrmcqXqW1Y+jS59y38SYYtnG2mInNBKb2/mR/jym6NidIfycUvGTBwRjJ8tk3OdXB3TGsUpk8e3Ra/ZKJzRYWTLsrACE9sOTiXupcFbBetHy4/z2SiaxsjneqAw0k78iqAy4nKYXJT+ewcvsnI9Lomw96NL33shEchFh/j8sx19U+GTRFruiOKRxccd52oVsrC//MGDI+qWWNTpSKxJRQRwfEoHc0uo8JXEE/2PDW/gGQYjg1W2QF+tfT0uTtw0FUgbjGbF2WGZchArt6UUEC95Z9e7FBg8ztCXpZMFiITnYU7oAbFZv5nWm1rVfeBy8vU4lJkmI4uLAMONjy5vr8EON86EYfJm4TCYmRYAJpjme3EIsZ5n49mRkoHlUwll2/0xnJktOlTlQNEstc6elOnVs0EobeiXJJMFLHRqdYh7t3Er8rTG5mBlevlgx6QZckw3YS0XyJyxE+n2qVEphmGvf2gLL8wmejSESvuZXhmN4ZcmIf6weiWJgPdQ8OSvUlI2mBckF0NJzh97wQt4c4McTRtnUJA5EHMeC5vauGwwN6yWVoy1yrFA8nwhXNrCted0XpIq4viXd13YTLnhBpHQHtc+N9wmIcca/ui1hZEdu/c7WWn2SqnxnDoW8/eFHYYfGgwsQ9T6VFMsteyWVQyv2aUPDOo5hEkjkodsv1k5huRizWp5dddYEuSORbEchqxWeK80vpP6uhtYTK7bG41R91uDHeieDXI5chsamq1uTBnptOqVybBea7jGOu6KAys20dbilQSk33+IjZbjszlhIz3ywaXtuAOmEwHTKfTvm8JUvUQoHiCLIwsY8uUVfHtSBNyErpkw9nwfSHrnOqOVZ7C7WrljnEy9CTs6TFVdEFqz2WzEBl+qFnvRAaaLGQTKgGLXn5hTwQZJjxlTTciFJCpJlQ8i9CWIbMtkNHEiEUyKgWwl+VpSUaXQ0EyqVHXjI3sjeUL6ll+Zgk7c6ljUQ3gg2RR2cnKnP3kBOvisWKLePeqFb5cZWgjj3rinS4gmQtYfTVK0FrDRNP6RAdiE4fhdFjW5TUAbXDw4zYj/2T+IAeoXRdIAd7kiS81QcN2UXYUvW0j2rTUqpo9bpryPs14pduKTB6s3n5bDPor2UkfjeWIkCIDbB5c0bdkDpmcNnJR5A9zErvGSg6wl8f94rVUhbD+CM7vL+mZTKtSEtxhZEawf3zcNdGdPfh5I/+R2tva8rusqFcym8q48tzqV0+rmn1bYFXhf3DP5UF1KoyrsDp3M80nGRYumi5UNobsZaHpwNwBzuZVl1qb2jfnlo1HBbDOhXGXvtbbjqBdCe4Afdlxd4VmRixXzt3WMH+S2TbGaHxWzgTj+i7NCWG3CnHAeg6Y+yJzbTMdr3A35aMixjY7vSur7WtZkBeEBpl0T9NsX8VE73QFLh92m6ze19Y3tbKeYt1YbPxI5sL7DpUNhGY9h72am5oovQdbdizZeCFzzbGqqvA2uhfx1CTUcF61aRrnepX5ILOLxbKX9nraTuOXqExyh71ou+S2e5bj19oBBrp29JbJD1ATs6vS3C3nZK51zHcDIBX6Pki+zkcPnR/GekrZuJ5m0KZLVFDI/o2rD4p9EwDt81KlQaQt/DTHZNalaZwFJ+pNCnIG9mA95YUgvQYDcGNn1DT7zYnJWTIJvS4Oz8M+odZ94+vm7FIyx8yEYRieaON1JzoLx3W1l/D4RpPB0zadIotMbbW3QeSbeN7dtE+wyB6IwC/fwWZreflPCm0DrMzjc4DMier/8sh3VhPjR9gkPNcm1w3pfvTOpvGSWRsy8ToqLeuCvW9skkjMMzyYFjW7AfHojdpn06JD6g6pR6VwA/Mqv+0SJTK5TvthUaMfpLPpdFCMpaOvFqC7fvl3SJT+HBZ87hME71Dq31tpZPZRWi63I/ia0PvHK2E03odqqa29kKwaTXwgz1Tsk7snGzAxPU+dPMOqMLNUk2HBi48xP8fZVqMS6fgm3b7DQwnz3aaLPxHgerKS2eLdo3znO9Q3EmZkaFclC6MqVQJKjgGTpB9P5pwNRQOSoWRxULuKAJp6WmjbDhthMMZ3mmUJYEuhgVM48Yk+3U0tgmhXaUHoFm4Amf6opTMdPBIQ3zyXwz84Daw9EWA2QZVJHO0I5tvgLeByo/Mk2M2HX8eMBSNQx/8ZNhB5zHuc14Y/9E0TWpwXNg84ZfH74501n6M/lLF+QINrXYbu3twdwNc/r0HRzsFG6suWGWHTTaLeGt1mnilpjUn5p6oJy2glcwqZfdNtN+brwavoguiObrz1y6ruivhrz2wmNOuqX3eBR78/7w4/X8Jhd95/9cl3AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEB/yf4H7Zxl8XmqbyrAAAAAElFTkSuQmCC",Pp=({src:n,alt:e,href:t})=>L.jsxs(Ss.a,{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-4 group",whileHover:{y:-10},"data-aos":"zoom-in",children:[L.jsxs("div",{className:"glass-card p-6 rounded-3xl relative overflow-hidden transition-all duration-500 group-hover:border-red-500/50 group-hover:shadow-[0_0_30px_rgba(255,49,49,0.2)] bg-white/5",children:[L.jsx("div",{className:"absolute inset-0 bg-red-600/0 group-hover:bg-red-600/10 transition-colors"}),L.jsx("img",{src:n,alt:e,className:"w-10 h-10 md:w-12 md:h-12 relative z-10 opacity-70 group-hover:opacity-100 transition-all duration-300 transform group-hover:scale-110"})]}),L.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-zinc-500 group-hover:text-red-500 transition-colors",children:e})]}),hj=()=>{const[n,e]=X.useState(!1),{showBackground:t,bgOpacity:i}=Hs();return X.useEffect(()=>{e(!0),ai.init({duration:1e3,easing:"ease-out",once:!0})},[]),L.jsxs("section",{className:"min-h-screen bg-black py-24 px-6 relative overflow-hidden",children:[n&&t&&L.jsx(Ho,{opacity:i}),L.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[L.jsxs("div",{className:"space-y-4 mb-24 text-center","data-aos":"fade-down",children:[L.jsxs("div",{className:"flex items-center justify-center gap-4",children:[L.jsx("span",{className:"w-12 h-[2px] bg-red-600"}),L.jsx("span",{className:"text-red-500 uppercase tracking-widest text-sm font-bold",children:"Contact"}),L.jsx("span",{className:"w-12 h-[2px] bg-red-600"})]}),L.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter uppercase leading-[0.8]",children:["Let's ",L.jsx("br",{})," ",L.jsx("span",{className:"text-gradient",children:"Talk"})]}),L.jsx("p",{className:"mt-8 text-zinc-500 max-w-xl mx-auto font-medium uppercase tracking-[0.2em] text-xs",children:"I'm currently available for freelance projects and full-time opportunities. Reach out to start a conversation."})]}),L.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-12 max-w-4xl mx-auto",children:[L.jsx(Pp,{src:uj,alt:"GitHub",href:"https://github.com/DJGuruji"}),L.jsx(Pp,{src:cj,alt:"Instagram",href:"https://www.instagram.com/__krishnanath/profilecard/?igsh=eXF3NTM4YTdzMGo="}),L.jsx(Pp,{src:fj,alt:"LinkedIn",href:"https://www.linkedin.com/in/krishnanath-s-24055a227"}),L.jsx(Pp,{src:dj,alt:"Email",href:"mailto:nath93266@gmail.com"})]}),L.jsxs("div",{className:"mt-32 text-center","data-aos":"fade-up",children:[L.jsx("p",{className:"text-zinc-700 uppercase tracking-[0.4em] text-[10px] font-black mb-8",children:"Direct Channel"}),L.jsx("a",{href:"mailto:nath93266@gmail.com",className:"px-12 py-5 bg-white text-black text-[10px] font-black uppercase tracking-[0.3em] rounded-full hover:bg-red-600 hover:text-white transition-all duration-500 shadow-2xl inline-block",children:"Start a Direct Message"})]})]}),n&&L.jsx(Wo,{})]})},pj=()=>{const[n,e]=X.useState(!1),[t,i]=X.useState(!1);X.useEffect(()=>{const s=()=>{i(window.scrollY>20)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),X.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]);const r=[{name:"Home",path:"/",icon:L.jsx(FG,{})},{name:"About",path:"/about",icon:L.jsx(jG,{})},{name:"Skills",path:"/skills",icon:L.jsx(vx,{})},{name:"Services",path:"/service",icon:L.jsx(vx,{})},{name:"Projects",path:"/projects",icon:L.jsx(HG,{})},{name:"Resume",path:"/resume",icon:L.jsx(OG,{})},{name:"Contact",path:"/contact",icon:L.jsx(NG,{})}];return L.jsxs(L.Fragment,{children:[L.jsxs("nav",{className:`lg:fixed relative top-0 left-0 w-full z-[9999] transition-all duration-500 ${t?"lg:bg-black/80 lg:backdrop-blur-xl lg:border-b lg:border-white/5 lg:py-4":"bg-transparent py-6"} ${!t&&"lg:py-6"} bg-black lg:bg-transparent`,children:[L.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex justify-between items-center relative z-[10001]",children:[L.jsx(ov,{to:"/",className:"group",children:L.jsxs("h1",{className:"text-2xl font-black tracking-tighter font-outfit text-white",children:["KRISHNA",L.jsx("span",{className:"text-red-600 group-hover:text-red-500 transition-colors",children:"NATH"}),"S"]})}),L.jsx("div",{className:"hidden lg:flex items-center space-x-8",children:r.map(s=>L.jsx(ov,{to:s.path,className:({isActive:o})=>`
                  text-xs font-bold uppercase tracking-[0.2em] transition-all duration-300
                  ${o?"text-red-500":"text-zinc-400 hover:text-white"}
                `,children:s.name},s.name))}),L.jsx("button",{className:"lg:hidden text-white",onClick:()=>e(!n),children:L.jsxs("div",{className:"w-6 h-5 flex flex-col justify-between",children:[L.jsx("span",{className:`w-full h-[2px] bg-white transition-all ${n?"rotate-45 translate-y-[9px]":""}`}),L.jsx("span",{className:`w-full h-[2px] bg-white transition-all ${n?"opacity-0":""}`}),L.jsx("span",{className:`w-full h-[2px] bg-white transition-all ${n?"-rotate-45 -translate-y-[9px]":""}`})]})})]}),L.jsx("div",{className:`lg:hidden fixed inset-0 bg-black/98 backdrop-blur-3xl transition-all duration-500 z-[10000] ${n?"opacity-100 visible pointer-events-auto":"opacity-0 invisible pointer-events-none"}`,children:L.jsx("div",{className:"flex flex-col items-center justify-center h-full space-y-8 p-6",children:r.map(s=>L.jsx(ov,{to:s.path,onClick:()=>e(!1),className:({isActive:o})=>`
                  text-2xl font-black uppercase tracking-widest transition-all
                  ${o?"text-red-600 scale-110":"text-zinc-600"}
                `,children:s.name},s.name))})})]}),L.jsx("div",{className:"lg:pt-20 pt-0",children:L.jsxs(m6,{children:[L.jsx(vs,{path:"/",element:L.jsx(yG,{})}),L.jsx(vs,{path:"/about",element:L.jsx(tj,{})}),L.jsx(vs,{path:"/skills",element:L.jsx(oj,{})}),L.jsx(vs,{path:"/service",element:L.jsx(nj,{})}),L.jsx(vs,{path:"/projects",element:L.jsx(ij,{})}),L.jsx(vs,{path:"/resume",element:L.jsx(lj,{})}),L.jsx(vs,{path:"/contact",element:L.jsx(hj,{})}),L.jsx(vs,{path:"*",element:L.jsx(aj,{})})]})})]})};function mj(n){return Ft({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z"},child:[]}]})(n)}const gj=({href:n,icon:e,label:t})=>L.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"relative group p-2 transition-all duration-300 transform hover:-translate-y-1","data-aos":"zoom-in",children:[L.jsx("div",{className:"absolute inset-0 bg-red-600/0 group-hover:bg-red-600/20 rounded-xl transition-all duration-300 blur-lg scale-150"}),L.jsx("div",{className:"relative z-10 text-zinc-500 group-hover:text-red-500 transition-colors duration-300",children:L.jsx(e,{className:"h-6 w-6"})})]}),vj=()=>{X.useEffect(()=>{ai.init({duration:1e3,easing:"ease-in-out",once:!0})},[]);const n=new Date().getFullYear(),e=[{href:"https://github.com/DJGuruji",icon:aR,label:"GitHub"},{href:"https://www.instagram.com/__krishnanath/profilecard/?igsh=eXF3NTM4YTdzMGo=",icon:AG,label:"Instagram"},{href:"https://www.linkedin.com/in/krishnanath-s-24055a227",icon:CG,label:"LinkedIn"},{href:"mailto:nath93266@gmail.com",icon:mj,label:"Email"},{href:"https://buymeacoffee.com/krishnanaths",icon:$G,label:"Buy Me A Coffee"}];return L.jsx("footer",{className:"bg-black border-t border-white/5 relative overflow-hidden",children:L.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20 relative z-10",children:[L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[L.jsxs("div",{className:"space-y-6","data-aos":"fade-right",children:[L.jsxs("h3",{className:"text-2xl font-black font-outfit text-white tracking-tighter uppercase",children:["KRISHNA",L.jsx("span",{className:"text-red-600",children:"NATH"})]}),L.jsx("p",{className:"text-zinc-600 max-w-xs font-medium uppercase tracking-widest text-[10px] leading-relaxed",children:"Crafting state-of-the-art digital experiences with precision and speed."})]}),L.jsx("div",{className:"hidden lg:block"}),L.jsx("div",{className:"hidden lg:block"}),L.jsxs("div",{className:"space-y-6 flex flex-col items-start md:items-end","data-aos":"fade-left",children:[L.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-zinc-400",children:"Social Connections"}),L.jsx("div",{className:"flex gap-4",children:e.map((t,i)=>L.jsx(gj,{href:t.href,icon:t.icon,label:t.label},i))})]})]}),L.jsxs("div",{className:"pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4",children:[L.jsxs("p",{className:"text-[10px] uppercase tracking-[0.2em] font-bold text-zinc-700",children:[" ",n," KRISHNANATH.S  ALL RIGHTS RESERVED"]}),L.jsxs("div",{className:"flex gap-8 text-[10px] uppercase tracking-[0.2em] font-black text-zinc-500",children:[L.jsx("span",{className:"hover:text-white cursor-pointer transition-colors",children:"Privacy Policy"}),L.jsx("span",{className:"hover:text-white cursor-pointer transition-colors",children:"Terms of Service"})]})]})]})})};function yj(){return X.useEffect(()=>{ai.init({duration:1e3,once:!0})},[]),L.jsx(vG,{children:L.jsxs("div",{className:"flex flex-col min-h-screen",children:[L.jsx("div",{className:"flex-grow",children:L.jsx(pj,{})}),L.jsx(vj,{})]})})}dy.createRoot(document.getElementById("root")).render(L.jsx(M6,{children:L.jsx(jr.StrictMode,{children:L.jsx(yj,{})})}));
